"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{6304:(pt,Te,k)=>{k.d(Te,{Dh:()=>Ge,GT:()=>De,cc:()=>ce,hO:()=>Fe,on:()=>z,pX:()=>ae,xv:()=>be});var h=k(8926),L=k(7142),H=k(543);pt=k.hmd(pt);const te=["ngOnDestroy"],ae=(Ne,ht,Se,_e={})=>new Proxy(Ne,{get:(pe,ve)=>Se.runOutsideAngular(()=>{var Ae;if(Ne[ve])return!(null===(Ae=_e?.spy)||void 0===Ae)&&Ae.get&&_e.spy.get(ve,Ne[ve]),Ne[ve];if(te.indexOf(ve)>-1)return()=>{};const J=ht.toPromise().then(Z=>{const ge=Z&&Z[ve];return"function"==typeof ge?ge.bind(Z):ge&&ge.then?ge.then(Ee=>Se.run(()=>Ee)):Se.run(()=>ge)});return new Proxy(()=>{},{get:(Z,ge)=>J[ge],apply:(Z,ge,Ee)=>J.then(Fn=>{var Dr;const ti=Fn&&Fn(...Ee);return!(null===(Dr=_e?.spy)||void 0===Dr)&&Dr.apply&&_e.spy.apply(ve,Ee,ti),ti})})})}),De=(Ne,ht)=>{ht.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(_e=>{Object.defineProperty(Ne.prototype,_e,Object.getOwnPropertyDescriptor(Se.prototype||Se,_e))})})};class ke{constructor(ht){return ht}}const Ge=new h.OlP("angularfire2.app.options"),be=new h.OlP("angularfire2.app.name");function z(Ne,ht,Se){const pe="object"==typeof Se&&Se||{};pe.name=pe.name||"string"==typeof Se&&Se||"[DEFAULT]";const Ae=L.Z.apps.filter(J=>J&&J.name===pe.name)[0]||ht.runOutsideAngular(()=>L.Z.initializeApp(Ne,pe));try{JSON.stringify(Ne)!==JSON.stringify(Ae.options)&&j("error",`${Ae.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(Ae)}const j=(Ne,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](...ht)},re={provide:ke,useFactory:z,deps:[Ge,h.R0b,[new h.FiY,be]]};let Fe=(()=>{class Ne{constructor(Se){L.Z.registerVersion("angularfire",H.q4.full,"core"),L.Z.registerVersion("angularfire",H.q4.full,"app-compat"),L.Z.registerVersion("angular",h.q4F.full,Se.toString())}static initializeApp(Se,_e){return{ngModule:Ne,providers:[{provide:Ge,useValue:Se},{provide:be,useValue:_e}]}}}return Ne.\u0275fac=function(Se){return new(Se||Ne)(h.LFG(h.Lbi))},Ne.\u0275mod=h.oAB({type:Ne}),Ne.\u0275inj=h.cJS({providers:[re]}),Ne})();function ce(Ne,ht,Se,_e,pe){const[,ve,Ae]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===Ne)||[];if(ve)return function $e(Ne,ht){try{return Ne.toString()===ht.toString()}catch{return Ne===ht}}(pe,Ae)||(He("error",`${ht} was already initialized on the ${Se} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:pe,was:Ae})),ve;{const J=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ne,J,pe]),J}}const We=!!pt.hot,He=(Ne,...ht)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},543:(pt,Te,k)=>{k.d(Te,{q4:()=>hr,iC:()=>qp,HU:()=>af,vb:()=>xu,JM:()=>sf,u3:()=>Ss});var h=k(8926),L=k(3182),H=k(5861),te=k(534),ae=k(9058),De=k(4537),ke=k(7879);const Ge=(w,C)=>C.some(S=>w instanceof S);let be,z;const Fe=new WeakMap,ce=new WeakMap,$e=new WeakMap,We=new WeakMap,He=new WeakMap;let Se={get(w,C,S){if(w instanceof IDBTransaction){if("done"===C)return ce.get(w);if("objectStoreNames"===C)return w.objectStoreNames||$e.get(w);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Ae(w[C])},set:(w,C,S)=>(w[C]=S,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function ve(w){return"function"==typeof w?function pe(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(J(this),C),Ae(Fe.get(this))}:function(...C){return Ae(w.apply(J(this),C))}:function(C,...S){const O=w.call(J(this),C,...S);return $e.set(O,C.sort?C.sort():[C]),Ae(O)}}(w):(w instanceof IDBTransaction&&function ht(w){if(ce.has(w))return;const C=new Promise((S,O)=>{const U=()=>{w.removeEventListener("complete",q),w.removeEventListener("error",ue),w.removeEventListener("abort",ue)},q=()=>{S(),U()},ue=()=>{O(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",q),w.addEventListener("error",ue),w.addEventListener("abort",ue)});ce.set(w,C)}(w),Ge(w,function j(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Se):w)}function Ae(w){if(w instanceof IDBRequest)return function Ne(w){const C=new Promise((S,O)=>{const U=()=>{w.removeEventListener("success",q),w.removeEventListener("error",ue)},q=()=>{S(Ae(w.result)),U()},ue=()=>{O(w.error),U()};w.addEventListener("success",q),w.addEventListener("error",ue)});return C.then(S=>{S instanceof IDBCursor&&Fe.set(S,w)}).catch(()=>{}),He.set(C,w),C}(w);if(We.has(w))return We.get(w);const C=ve(w);return C!==w&&(We.set(w,C),He.set(C,w)),C}const J=w=>He.get(w),Ee=["get","getKey","getAll","getAllKeys","count"],Fn=["put","add","delete","clear"],Dr=new Map;function ti(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(Dr.get(C))return Dr.get(C);const S=C.replace(/FromIndex$/,""),O=C!==S,U=Fn.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!U&&!Ee.includes(S))return;const q=function(){var ue=(0,H.Z)(function*(je,...Be){const et=this.transaction(je,U?"readwrite":"readonly");let Et=et.store;return O&&(Et=Et.index(Be.shift())),(yield Promise.all([Et[S](...Be),U&&et.done]))[0]});return function(Be){return ue.apply(this,arguments)}}();return Dr.set(C,q),q}!function _e(w){Se=w(Se)}(w=>({...w,get:(C,S,O)=>ti(C,S)||w.get(C,S,O),has:(C,S)=>!!ti(C,S)||w.has(C,S)}));const Ri="@firebase/installations",ne="0.6.4",he=1e4,we=`w:${ne}`,xe="FIS_v2",Le="https://firebaseinstallations.googleapis.com/v1",Ue=36e5,ft=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function un(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Qt({projectId:w}){return`${Le}/projects/${w}/installations`}function pn(w){return{token:w.token,requestStatus:2,expiresIn:lo(w.expiresIn),creationTime:Date.now()}}function qt(w,C){return St.apply(this,arguments)}function St(){return(St=(0,H.Z)(function*(w,C){const O=(yield C.json()).error;return ft.create("request-failed",{requestName:w,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function sr({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function pi(w){return jt.apply(this,arguments)}function jt(){return(jt=(0,H.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function lo(w){return Number(w.replace("s","000"))}function gi(){return(gi=(0,H.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:S}){const O=Qt(w),U=sr(w),q=C.getImmediate({optional:!0});if(q){const et=yield q.getHeartbeatsHeader();et&&U.append("x-firebase-client",et)}const je={method:"POST",headers:U,body:JSON.stringify({fid:S,authVersion:xe,appId:w.appId,sdkVersion:we})},Be=yield pi(()=>fetch(O,je));if(Be.ok){const et=yield Be.json();return{fid:et.fid||S,registrationStatus:2,refreshToken:et.refreshToken,authToken:pn(et.authToken)}}throw yield qt("Create Installation",Be)})).apply(this,arguments)}function ho(w){return new Promise(C=>{setTimeout(C,w)})}const Ls=/^[cdef][\w-]{21}$/,Wt="";function ct(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function yt(w){return function Fs(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Ls.test(S)?S:Wt}catch{return Wt}}function Dn(w){return`${w.appName}!${w.appId}`}const st=new Map;function Cr(w,C){const S=Dn(w);Qi(S,C),function ln(w,C){const S=function kt(){return!rn&&"BroadcastChannel"in self&&(rn=new BroadcastChannel("[Firebase] FID Change"),rn.onmessage=w=>{Qi(w.data.key,w.data.fid)}),rn}();S&&S.postMessage({key:w,fid:C}),function Ya(){0===st.size&&rn&&(rn.close(),rn=null)}()}(S,C)}function Qi(w,C){const S=st.get(w);if(S)for(const O of S)O(C)}let rn=null;const Uo="firebase-installations-database",gs=1,or="firebase-installations-store";let Lr=null;function br(){return Lr||(Lr=function Z(w,C,{blocked:S,upgrade:O,blocking:U,terminated:q}={}){const ue=indexedDB.open(w,C),je=Ae(ue);return O&&ue.addEventListener("upgradeneeded",Be=>{O(Ae(ue.result),Be.oldVersion,Be.newVersion,Ae(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),je.then(Be=>{q&&Be.addEventListener("close",()=>q()),U&&Be.addEventListener("versionchange",()=>U())}).catch(()=>{}),je}(Uo,gs,{upgrade:(w,C)=>{0===C&&w.createObjectStore(or)}})),Lr}function er(w,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,H.Z)(function*(w,C){const S=Dn(w),U=(yield br()).transaction(or,"readwrite"),q=U.objectStore(or),ue=yield q.get(S);return yield q.put(C,S),yield U.done,(!ue||ue.fid!==C.fid)&&Cr(w,C.fid),C})).apply(this,arguments)}function Wn(w){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,H.Z)(function*(w){const C=Dn(w),O=(yield br()).transaction(or,"readwrite");yield O.objectStore(or).delete(C),yield O.done})).apply(this,arguments)}function yi(w,C){return tr.apply(this,arguments)}function tr(){return(tr=(0,H.Z)(function*(w,C){const S=Dn(w),U=(yield br()).transaction(or,"readwrite"),q=U.objectStore(or),ue=yield q.get(S),je=C(ue);return void 0===je?yield q.delete(S):yield q.put(je,S),yield U.done,je&&(!ue||ue.fid!==je.fid)&&Cr(w,je.fid),je})).apply(this,arguments)}function V(w){return F.apply(this,arguments)}function F(){return F=(0,H.Z)(function*(w){let C;const S=yield yi(w.appConfig,O=>{const U=function G(w){return Cn(w||{fid:ct(),registrationStatus:0})}(O),q=function se(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(ft.create("app-offline"))};const S={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},O=function X(w,C){return Je.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:O}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:mt(w)}:{installationEntry:C}}(w,U);return C=q.registrationPromise,q.installationEntry});return S.fid===Wt?{installationEntry:yield C}:{installationEntry:S,registrationPromise:C}}),F.apply(this,arguments)}function Je(){return Je=(0,H.Z)(function*(w,C){try{const S=yield function ps(w,C){return gi.apply(this,arguments)}(w,C);return er(w.appConfig,S)}catch(S){throw un(S)&&409===S.customData.serverCode?yield Wn(w.appConfig):yield er(w.appConfig,{fid:C.fid,registrationStatus:0}),S}}),Je.apply(this,arguments)}function mt(w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,H.Z)(function*(w){let C=yield ar(w.appConfig);for(;1===C.registrationStatus;)yield ho(100),C=yield ar(w.appConfig);if(0===C.registrationStatus){const{installationEntry:S,registrationPromise:O}=yield V(w);return O||S}return C})).apply(this,arguments)}function ar(w){return yi(w,C=>{if(!C)throw ft.create("installation-not-found");return Cn(C)})}function Cn(w){return function bn(w){return 1===w.registrationStatus&&w.registrationTime+he<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function yn(){return(yn=(0,H.Z)(function*({appConfig:w,heartbeatServiceProvider:C},S){const O=function Ln(w,{fid:C}){return`${Qt(w)}/${C}/authTokens:generate`}(w,S),U=function fi(w,{refreshToken:C}){const S=sr(w);return S.append("Authorization",function ks(w){return`${xe} ${w}`}(C)),S}(w,S),q=C.getImmediate({optional:!0});if(q){const et=yield q.getHeartbeatsHeader();et&&U.append("x-firebase-client",et)}const je={method:"POST",headers:U,body:JSON.stringify({installation:{sdkVersion:we,appId:w.appId}})},Be=yield pi(()=>fetch(O,je));if(Be.ok)return pn(yield Be.json());throw yield qt("Generate Auth Token",Be)})).apply(this,arguments)}function Ft(w){return ms.apply(this,arguments)}function ms(){return ms=(0,H.Z)(function*(w,C=!1){let S;const O=yield yi(w.appConfig,q=>{if(!Nt(q))throw ft.create("not-registered");const ue=q.authToken;if(!C&&function Xt(w){return 2===w.requestStatus&&!function qn(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+Ue}(w)}(ue))return q;if(1===ue.requestStatus)return S=function le(w,C){return Y.apply(this,arguments)}(w,C),q;{if(!navigator.onLine)throw ft.create("app-offline");const je=function Tn(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(q);return S=function nt(w,C){return vt.apply(this,arguments)}(w,je),je}});return S?yield S:O.authToken}),ms.apply(this,arguments)}function Y(){return(Y=(0,H.Z)(function*(w,C){let S=yield Re(w.appConfig);for(;1===S.authToken.requestStatus;)yield ho(100),S=yield Re(w.appConfig);const O=S.authToken;return 0===O.requestStatus?Ft(w,C):O})).apply(this,arguments)}function Re(w){return yi(w,C=>{if(!Nt(C))throw ft.create("not-registered");return function ys(w){return 1===w.requestStatus&&w.requestTime+he<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function vt(){return vt=(0,H.Z)(function*(w,C){try{const S=yield function xt(w,C){return yn.apply(this,arguments)}(w,C),O=Object.assign(Object.assign({},C),{authToken:S});return yield er(w.appConfig,O),S}catch(S){if(!un(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const O=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield er(w.appConfig,O)}else yield Wn(w.appConfig);throw S}}),vt.apply(this,arguments)}function Nt(w){return void 0!==w&&2===w.registrationStatus}function Bo(){return(Bo=(0,H.Z)(function*(w){const C=w,{installationEntry:S,registrationPromise:O}=yield V(C);return O?O.catch(console.error):Ft(C).catch(console.error),S.fid})).apply(this,arguments)}function Qa(){return Qa=(0,H.Z)(function*(w,C=!1){const S=w;return yield function vs(w){return jo.apply(this,arguments)}(S),(yield Ft(S,C)).token}),Qa.apply(this,arguments)}function jo(){return(jo=(0,H.Z)(function*(w){const{registrationPromise:C}=yield V(w);C&&(yield C)})).apply(this,arguments)}function $o(w){return ft.create("missing-app-config-values",{valueName:w})}const tc="installations",pa=w=>{const C=w.getProvider("app").getImmediate(),S=function Ja(w){if(!w||!w.options)throw $o("App Configuration");if(!w.name)throw $o("App Name");const C=["projectId","apiKey","appId"];for(const S of C)if(!w.options[S])throw $o(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:S,heartbeatServiceProvider:(0,te._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Xa=w=>{const C=w.getProvider("app").getImmediate(),S=(0,te._getProvider)(C,tc).getImmediate();return{getId:()=>function Xi(w){return Bo.apply(this,arguments)}(S),getToken:U=>function ec(w){return Qa.apply(this,arguments)}(S,U)}};(function Vl(){(0,te._registerComponent)(new De.wA(tc,pa,"PUBLIC")),(0,te._registerComponent)(new De.wA("installations-internal",Xa,"PRIVATE"))})(),(0,te.registerVersion)(Ri,ne),(0,te.registerVersion)(Ri,ne,"esm2017");const nc="@firebase/remote-config",ur=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vn{constructor(C,S,O,U){this.client=C,this.storage=S,this.storageCache=O,this.logger=U}isCachedDataFresh(C,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-S,U=O<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${U}.`),U}fetch(C){var S=this;return(0,H.Z)(function*(){const[O,U]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(U&&S.isCachedDataFresh(C.cacheMaxAgeMillis,O))return U;C.eTag=U&&U.eTag;const q=yield S.client.fetch(C),ue=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&ue.push(S.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(ue),q})()}}function Us(w=navigator){return w.languages&&w.languages[0]||w.language}class _s{constructor(C,S,O,U,q,ue){this.firebaseInstallations=C,this.sdkVersion=S,this.namespace=O,this.projectId=U,this.apiKey=q,this.appId=ue}fetch(C){var S=this;return(0,H.Z)(function*(){const[O,U]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Be={sdk_version:S.sdkVersion,app_instance_id:O,app_instance_id_token:U,app_id:S.appId,language_code:Us()},et={method:"POST",headers:je,body:JSON.stringify(Be)},Et=fetch(ue,et),wt=new Promise((rr,zr)=>{C.signal.addEventListener(()=>{const Ra=new Error("The operation was aborted.");Ra.name="AbortError",zr(Ra)})});let ji;try{yield Promise.race([Et,wt]),ji=yield Et}catch(rr){let zr="fetch-client-network";throw"AbortError"===rr?.name&&(zr="fetch-timeout"),ur.create(zr,{originalErrorMessage:rr?.message})}let jn=ji.status;const Na=ji.headers.get("ETag")||void 0;let $i,Hr;if(200===ji.status){let rr;try{rr=yield ji.json()}catch(zr){throw ur.create("fetch-client-parse",{originalErrorMessage:zr?.message})}$i=rr.entries,Hr=rr.state}if("INSTANCE_STATE_UNSPECIFIED"===Hr?jn=500:"NO_CHANGE"===Hr?jn=304:("NO_TEMPLATE"===Hr||"EMPTY_CONFIG"===Hr)&&($i={}),304!==jn&&200!==jn)throw ur.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:Na,config:$i}})()}}class oc{constructor(C,S){this.client=C,this.storage=S}fetch(C){var S=this;return(0,H.Z)(function*(){const O=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(C,O)})()}attemptFetch(C,{throttleEndTimeMillis:S,backoffCount:O}){var U=this;return(0,H.Z)(function*(){yield function It(w,C){return new Promise((S,O)=>{const U=Math.max(C-Date.now(),0),q=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(q),O(ur.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,S);try{const q=yield U.client.fetch(C);return yield U.storage.deleteThrottleMetadata(),q}catch(q){if(!function nu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(q))throw q;const ue={throttleEndTimeMillis:Date.now()+(0,ae.$s)(O),backoffCount:O+1};return yield U.storage.setThrottleMetadata(ue),U.attemptFetch(C,ue)}})()}}class fo{constructor(C,S,O,U,q){this.app=C,this._client=S,this._storageCache=O,this._storage=U,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sr(w,C){const S=w.target.error||void 0;return ur.create(C,{originalErrorMessage:S&&S?.message})}const vr="app_namespace_store";class ts{constructor(C,S,O,U=function Go(){return new Promise((w,C)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=O=>{C(Sr(O,"storage-open"))},S.onsuccess=O=>{w(O.target.result)},S.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(vr,{keyPath:"compositeKey"})}}catch(S){C(ur.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=C,this.appName=S,this.namespace=O,this.openDbPromise=U}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var S=this;return(0,H.Z)(function*(){const O=yield S.openDbPromise;return new Promise((U,q)=>{const je=O.transaction([vr],"readonly").objectStore(vr),Be=S.createCompositeKey(C);try{const et=je.get(Be);et.onerror=Et=>{q(Sr(Et,"storage-get"))},et.onsuccess=Et=>{const wt=Et.target.result;U(wt?wt.value:void 0)}}catch(et){q(ur.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(C,S){var O=this;return(0,H.Z)(function*(){const U=yield O.openDbPromise;return new Promise((q,ue)=>{const Be=U.transaction([vr],"readwrite").objectStore(vr),et=O.createCompositeKey(C);try{const Et=Be.put({compositeKey:et,value:S});Et.onerror=wt=>{ue(Sr(wt,"storage-set"))},Et.onsuccess=()=>{q()}}catch(Et){ue(ur.create("storage-set",{originalErrorMessage:Et?.message}))}})})()}delete(C){var S=this;return(0,H.Z)(function*(){const O=yield S.openDbPromise;return new Promise((U,q)=>{const je=O.transaction([vr],"readwrite").objectStore(vr),Be=S.createCompositeKey(C);try{const et=je.delete(Be);et.onerror=Et=>{q(Sr(Et,"storage-delete"))},et.onsuccess=()=>{U()}}catch(et){q(ur.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Oi{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,H.Z)(function*(){const S=C.storage.getLastFetchStatus(),O=C.storage.getLastSuccessfulFetchTimestampMillis(),U=C.storage.getActiveConfig(),q=yield S;q&&(C.lastFetchStatus=q);const ue=yield O;ue&&(C.lastSuccessfulFetchTimestampMillis=ue);const je=yield U;je&&(C.activeConfig=je)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function uc(){return cc.apply(this,arguments)}function cc(){return(cc=(0,H.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Es(){(0,te._registerComponent)(new De.wA("remote-config",function w(C,{instanceIdentifier:S}){const O=C.getProvider("app").getImmediate(),U=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ur.create("registration-window");if(!(0,ae.hl)())throw ur.create("indexed-db-unavailable");const{projectId:q,apiKey:ue,appId:je}=O.options;if(!q)throw ur.create("registration-project-id");if(!ue)throw ur.create("registration-api-key");if(!je)throw ur.create("registration-app-id");const Be=new ts(je,O.name,S=S||"firebase"),et=new Oi(Be),Et=new ke.Yd(nc);Et.logLevel=ke.in.ERROR;const wt=new _s(U,te.SDK_VERSION,S,q,ue,je),ji=new oc(wt,Be),jn=new Vn(ji,Be,et,Et),Na=new fo(O,jn,et,Be,Et);return function sc(w){const C=(0,ae.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(nc,"0.4.4"),(0,te.registerVersion)(nc,"0.4.4","esm2017")}();const Pi=(w,C)=>C.some(S=>w instanceof S);let ws,Is;const iu=new WeakMap,dr=new WeakMap,sn=new WeakMap,Wo=new WeakMap,js=new WeakMap;let ma={get(w,C,S){if(w instanceof IDBTransaction){if("done"===C)return dr.get(w);if("objectStoreNames"===C)return w.objectStoreNames||sn.get(w);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ki(w[C])},set:(w,C,S)=>(w[C]=S,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function Bl(w){return"function"==typeof w?function Uh(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _r(){return Is||(Is=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(su(this),C),ki(iu.get(this))}:function(...C){return ki(w.apply(su(this),C))}:function(C,...S){const O=w.call(su(this),C,...S);return sn.set(O,C.sort?C.sort():[C]),ki(O)}}(w):(w instanceof IDBTransaction&&function jr(w){if(dr.has(w))return;const C=new Promise((S,O)=>{const U=()=>{w.removeEventListener("complete",q),w.removeEventListener("error",ue),w.removeEventListener("abort",ue)},q=()=>{S(),U()},ue=()=>{O(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",q),w.addEventListener("error",ue),w.addEventListener("abort",ue)});dr.set(w,C)}(w),Pi(w,function po(){return ws||(ws=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,ma):w)}function ki(w){if(w instanceof IDBRequest)return function qo(w){const C=new Promise((S,O)=>{const U=()=>{w.removeEventListener("success",q),w.removeEventListener("error",ue)},q=()=>{S(ki(w.result)),U()},ue=()=>{O(w.error),U()};w.addEventListener("success",q),w.addEventListener("error",ue)});return C.then(S=>{S instanceof IDBCursor&&iu.set(S,w)}).catch(()=>{}),js.set(C,w),C}(w);if(Wo.has(w))return Wo.get(w);const C=Bl(w);return C!==w&&(Wo.set(w,C),js.set(C,w)),C}const su=w=>js.get(w);function lc(w,C,{blocked:S,upgrade:O,blocking:U,terminated:q}={}){const ue=indexedDB.open(w,C),je=ki(ue);return O&&ue.addEventListener("upgradeneeded",Be=>{O(ki(ue.result),Be.oldVersion,Be.newVersion,ki(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),je.then(Be=>{q&&Be.addEventListener("close",()=>q()),U&&Be.addEventListener("versionchange",()=>U())}).catch(()=>{}),je}function ou(w,{blocked:C}={}){const S=indexedDB.deleteDatabase(w);return C&&S.addEventListener("blocked",()=>C()),ki(S).then(()=>{})}const Bh=["get","getKey","getAll","getAllKeys","count"],jl=["put","add","delete","clear"],$l=new Map;function Hl(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if($l.get(C))return $l.get(C);const S=C.replace(/FromIndex$/,""),O=C!==S,U=jl.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!U&&!Bh.includes(S))return;const q=function(){var ue=(0,H.Z)(function*(je,...Be){const et=this.transaction(je,U?"readwrite":"readonly");let Et=et.store;return O&&(Et=Et.index(Be.shift())),(yield Promise.all([Et[S](...Be),U&&et.done]))[0]});return function(Be){return ue.apply(this,arguments)}}();return $l.set(C,q),q}!function Vh(w){ma=w(ma)}(w=>({...w,get:(C,S,O)=>Hl(C,S)||w.get(C,S,O),has:(C,S)=>!!Hl(C,S)||w.has(C,S)}));const dc="/firebase-messaging-sw.js",zl="/firebase-cloud-messaging-push-scope",Gl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jh="https://fcmregistrations.googleapis.com/v1",$h="google.c.a.c_id",Sn="google.c.a.c_l",Hh="google.c.a.ts";var $s=(()=>(($s=$s||{}).PUSH_RECEIVED="push-received",$s.NOTIFICATION_CLICKED="notification-clicked",$s))();function Fi(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hs(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(S),U=new Uint8Array(O.length);for(let q=0;q<O.length;++q)U[q]=O.charCodeAt(q);return U}const Ko="fcm_token_details_db",au=5,fc="fcm_token_object_Store";function uu(){return uu=(0,H.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(Ko))return null;let C=null;return(yield lc(Ko,au,{upgrade:(O=(0,H.Z)(function*(U,q,ue,je){var Be;if(q<2||!U.objectStoreNames.contains(fc))return;const et=je.objectStore(fc),Et=yield et.index("fcmSenderId").get(w);if(yield et.clear(),Et)if(2===q){const wt=Et;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;C={token:wt.fcmToken,createTime:null!==(Be=wt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Fi(wt.vapidKey)}}}else if(3===q){const wt=Et;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Fi(wt.auth),p256dh:Fi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Fi(wt.vapidKey)}}}else if(4===q){const wt=Et;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Fi(wt.auth),p256dh:Fi(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Fi(wt.vapidKey)}}}}),function(q,ue,je,Be){return O.apply(this,arguments)})})).close(),yield ou(Ko),yield ou("fcm_vapid_details_db"),yield ou("undefined"),function gc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var O}),uu.apply(this,arguments)}const zh="firebase-messaging-database",cu=1,vi="firebase-messaging-store";let ni=null;function ya(){return ni||(ni=lc(zh,cu,{upgrade:(w,C)=>{0===C&&w.createObjectStore(vi)}})),ni}function An(w){return va.apply(this,arguments)}function va(){return va=(0,H.Z)(function*(w){const C=Wl(w),O=yield(yield ya()).transaction(vi).objectStore(vi).get(C);if(O)return O;{const U=yield function pc(w){return uu.apply(this,arguments)}(w.appConfig.senderId);if(U)return yield mc(w,U),U}}),va.apply(this,arguments)}function mc(w,C){return lu.apply(this,arguments)}function lu(){return(lu=(0,H.Z)(function*(w,C){const S=Wl(w),U=(yield ya()).transaction(vi,"readwrite");return yield U.objectStore(vi).put(C,S),yield U.done,C})).apply(this,arguments)}function Ds(){return(Ds=(0,H.Z)(function*(w){const C=Wl(w),O=(yield ya()).transaction(vi,"readwrite");yield O.objectStore(vi).delete(C),yield O.done})).apply(this,arguments)}function Wl({appConfig:w}){return w.appId}const Kn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ql(w,C){return du.apply(this,arguments)}function du(){return(du=(0,H.Z)(function*(w,C){const S=yield Zo(w),O=Ec(C),U={method:"POST",headers:S,body:JSON.stringify(O)};let q;try{q=yield(yield fetch(Kl(w.appConfig),U)).json()}catch(ue){throw Kn.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(q.error)throw Kn.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Kn.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function hu(){return(hu=(0,H.Z)(function*(w,C){const S=yield Zo(w),O=Ec(C.subscriptionOptions),U={method:"PATCH",headers:S,body:JSON.stringify(O)};let q;try{q=yield(yield fetch(`${Kl(w.appConfig)}/${C.token}`,U)).json()}catch(ue){throw Kn.create("token-update-failed",{errorInfo:ue?.toString()})}if(q.error)throw Kn.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Kn.create("token-update-no-token");return q.token})).apply(this,arguments)}function jp(w,C){return fu.apply(this,arguments)}function fu(){return(fu=(0,H.Z)(function*(w,C){const O={method:"DELETE",headers:yield Zo(w)};try{const q=yield(yield fetch(`${Kl(w.appConfig)}/${C}`,O)).json();if(q.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(U){throw Kn.create("token-unsubscribe-failed",{errorInfo:U?.toString()})}})).apply(this,arguments)}function Kl({projectId:w}){return`${jh}/projects/${w}/registrations`}function Zo(w){return _c.apply(this,arguments)}function _c(){return(_c=(0,H.Z)(function*({appConfig:w,installations:C}){const S=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Ec({p256dh:w,auth:C,endpoint:S,vapidKey:O}){const U={web:{endpoint:S,auth:C,p256dh:w}};return O!==Gl&&(U.web.applicationPubKey=O),U}const Zl=6048e5;function Yl(){return Yl=(0,H.Z)(function*(w){const C=yield function ri(w,C){return gu.apply(this,arguments)}(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:Fi(C.getKey("auth")),p256dh:Fi(C.getKey("p256dh"))},O=yield An(w.firebaseDependencies);if(O){if(function mu(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(O.subscriptionOptions,S))return Date.now()>=O.createTime+Zl?function Ic(w,C){return Ql.apply(this,arguments)}(w,{token:O.token,createTime:Date.now(),subscriptionOptions:S}):O.token;try{yield jp(w.firebaseDependencies,O.token)}catch(U){console.warn(U)}return zs(w.firebaseDependencies,S)}return zs(w.firebaseDependencies,S)}),Yl.apply(this,arguments)}function pu(){return pu=(0,H.Z)(function*(w){const C=yield An(w.firebaseDependencies);C&&(yield jp(w.firebaseDependencies,C.token),yield function yc(w){return Ds.apply(this,arguments)}(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),pu.apply(this,arguments)}function Ql(){return Ql=(0,H.Z)(function*(w,C){try{const S=yield function vc(w,C){return hu.apply(this,arguments)}(w.firebaseDependencies,C),O=Object.assign(Object.assign({},C),{token:S,createTime:Date.now()});return yield mc(w.firebaseDependencies,O),S}catch(S){throw yield function Gh(w){return pu.apply(this,arguments)}(w),S}}),Ql.apply(this,arguments)}function zs(w,C){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,H.Z)(function*(w,C){const O={token:yield ql(w,C),createTime:Date.now(),subscriptionOptions:C};return yield mc(w,O),O.token})).apply(this,arguments)}function gu(){return(gu=(0,H.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hs(C)})})).apply(this,arguments)}function en(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Wh(w,C){if(!C.notification)return;w.notification={};const S=C.notification.title;S&&(w.notification.title=S);const O=C.notification.body;O&&(w.notification.body=O);const U=C.notification.image;U&&(w.notification.image=U);const q=C.notification.icon;q&&(w.notification.icon=q)}(C,w),function Yo(w,C){C.data&&(w.data=C.data)}(C,w),function ii(w,C){var S,O,U,q,ue;if(!(C.fcmOptions||null!==(S=C.notification)&&void 0!==S&&S.click_action))return;w.fcmOptions={};const je=null!==(U=null===(O=C.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==U?U:null===(q=C.notification)||void 0===q?void 0:q.click_action;je&&(w.fcmOptions.link=je);const Be=null===(ue=C.fcmOptions)||void 0===ue?void 0:ue.analytics_label;Be&&(w.fcmOptions.analyticsLabel=Be)}(C,w),C}function Cc(w,C){const S=[];for(let O=0;O<w.length;O++)S.push(w.charAt(O)),O<C.length&&S.push(C.charAt(O));return S.join("")}function Ar(w){return Kn.create("missing-app-config-values",{valueName:w})}Cc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kh{constructor(C,S,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const U=function go(w){if(!w||!w.options)throw Ar("App Configuration Object");if(!w.name)throw Ar("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const O of C)if(!S[O])throw Ar(O);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:U,installations:S,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Tc(){return(Tc=(0,H.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(dc,{scope:zl}),w.swRegistration.update().catch(()=>{})}catch(C){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Ei(){return(Ei=(0,H.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield function bc(w){return Tc.apply(this,arguments)}(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function vu(){return(vu=(0,H.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=Gl)})).apply(this,arguments)}function _u(){return _u=(0,H.Z)(function*(w,C){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function yu(w,C){return vu.apply(this,arguments)}(w,C?.vapidKey),yield function _i(w,C){return Ei.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function wc(w){return Yl.apply(this,arguments)}(w)}),_u.apply(this,arguments)}function _t(){return(_t=(0,H.Z)(function*(w,C,S){const O=function Jl(w){switch(w){case $s.NOTIFICATION_CLICKED:return"notification_open";case $s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:S[$h],message_name:S[Sn],message_time:S[Hh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qo(){return Qo=(0,H.Z)(function*(w,C){const S=C.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===$s.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(en(S)):w.onMessageHandler.next(en(S)));const O=S.data;(function qh(w){return"object"==typeof w&&!!w&&$h in w})(O)&&"1"===O["google.c.a.e"]&&(yield function $p(w,C,S){return _t.apply(this,arguments)}(w,S.messageType,O))}),Qo.apply(this,arguments)}const Eu="@firebase/messaging",Xl=w=>{const C=new Kh(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Ac(w,C){return Qo.apply(this,arguments)}(C,S)),C},mo=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:O=>function Sc(w,C){return _u.apply(this,arguments)}(C,O)}};function wu(){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,H.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zh(){(0,te._registerComponent)(new De.wA("messaging",Xl,"PUBLIC")),(0,te._registerComponent)(new De.wA("messaging-internal",mo,"PRIVATE")),(0,te.registerVersion)(Eu,"0.12.4"),(0,te.registerVersion)(Eu,"0.12.4","esm2017")}();const vo="analytics",wi="firebase_id",Nc="origin",Ea=6e4,td="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nd="https://www.googletagmanager.com/gtag/js",Un=new ke.Yd("@firebase/analytics"),dn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rc(w){if(!w.startsWith(nd)){const C=dn.create("invalid-gtag-resource",{gtagURL:w});return Un.warn(C.message),""}return w}function ns(w){return Promise.all(w.map(C=>C.catch(S=>S)))}function Jo(){return(Jo=(0,H.Z)(function*(w,C,S,O,U,q){const ue=O[U];try{if(ue)yield C[ue];else{const Be=(yield ns(S)).find(et=>et.measurementId===U);Be&&(yield C[Be.appId])}}catch(je){Un.error(je)}w("config",U,q)})).apply(this,arguments)}function _o(){return(_o=(0,H.Z)(function*(w,C,S,O,U){try{let q=[];if(U&&U.send_to){let ue=U.send_to;Array.isArray(ue)||(ue=[ue]);const je=yield ns(S);for(const Be of ue){const et=je.find(wt=>wt.measurementId===Be),Et=et&&C[et.appId];if(!Et){q=[];break}q.push(Et)}}0===q.length&&(q=Object.values(C)),yield Promise.all(q),w("event",O,U||{})}catch(q){Un.error(q)}})).apply(this,arguments)}const zp=30,Fc=new class Qh{constructor(C={},S=1e3){this.throttleMetadata=C,this.intervalMillis=S}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,S){this.throttleMetadata[C]=S}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Jh(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Du(){return(Du=(0,H.Z)(function*(w){var C;const{appId:S,apiKey:O}=w,U={method:"GET",headers:Jh(O)},q=td.replace("{app-id}",S),ue=yield fetch(q,U);if(200!==ue.status&&304!==ue.status){let je="";try{const Be=yield ue.json();null!==(C=Be.error)&&void 0!==C&&C.message&&(je=Be.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:je})}return ue.json()})).apply(this,arguments)}function id(){return(id=(0,H.Z)(function*(w,C=Fc,S){const{appId:O,apiKey:U,measurementId:q}=w.options;if(!O)throw dn.create("no-app-id");if(!U){if(q)return{measurementId:q,appId:O};throw dn.create("no-api-key")}const ue=C.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new sd;return setTimeout((0,H.Z)(function*(){je.abort()}),void 0!==S?S:Ea),xr({appId:O,apiKey:U,measurementId:q},ue,je,C)})).apply(this,arguments)}function xr(w,C,S){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,H.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:S},O,U=Fc){var q;const{appId:ue,measurementId:je}=w;try{yield function vn(w,C){return new Promise((S,O)=>{const U=Math.max(C-Date.now(),0),q=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(q),O(dn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(O,C)}catch(Be){if(je)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:ue,measurementId:je};throw Be}try{const Be=yield function Xh(w){return Du.apply(this,arguments)}(w);return U.deleteThrottleMetadata(ue),Be}catch(Be){const et=Be;if(!function ef(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(et)){if(U.deleteThrottleMetadata(ue),je)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:ue,measurementId:je};throw Be}const Et=503===Number(null===(q=et?.customData)||void 0===q?void 0:q.httpStatus)?(0,ae.$s)(S,U.intervalMillis,zp):(0,ae.$s)(S,U.intervalMillis),wt={throttleEndTimeMillis:Date.now()+Et,backoffCount:S+1};return U.setThrottleMetadata(ue,wt),Un.debug(`Calling attemptFetch again in ${Et} millis`),xr(w,wt,O,U)}}),Gs.apply(this,arguments)}class sd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let od,ea;function Vc(){return(Vc=(0,H.Z)(function*(w,C,S,O,U){if(U&&U.global)w("event",S,O);else{const q=yield C;w("event",S,Object.assign(Object.assign({},O),{send_to:q}))}})).apply(this,arguments)}function $r(){return($r=(0,H.Z)(function*(){if(!(0,ae.hl)())return Un.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return Un.warn(dn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ws(){return Ws=(0,H.Z)(function*(w,C,S,O,U,q,ue){var je;const Be=function Lc(w){return id.apply(this,arguments)}(w);Be.then(jn=>{S[jn.measurementId]=jn.appId,w.options.measurementId&&jn.measurementId!==w.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Un.error(jn)),C.push(Be);const et=function Ca(){return $r.apply(this,arguments)}().then(jn=>{if(jn)return O.getId()}),[Et,wt]=yield Promise.all([Be,et]);(function rd(w){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(nd)&&S.src.includes(w))return S;return null})(q)||function Hp(w,C){const S=function Ii(w,C){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(w,C)),S}("firebase-js-sdk-policy",{createScriptURL:Rc}),O=document.createElement("script"),U=`${nd}?l=${w}&id=${C}`;O.src=S?S?.createScriptURL(U):U,O.async=!0,document.head.appendChild(O)}(q,Et.measurementId),ea&&(U("consent","default",ea),function is(w){ea=w}(void 0)),U("js",new Date);const ji=null!==(je=ue?.config)&&void 0!==je?je:{};return ji[Nc]="firebase",ji.update=!0,null!=wt&&(ji[wi]=wt),U("config",Et.measurementId,ji),od&&(U("set",od),function ss(w){od=w}(void 0)),Et.measurementId}),Ws.apply(this,arguments)}class Uc{constructor(C){this.app=C}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},cd=[];const tf={};let Vi,si,qs="dataLayer",Ks=!1;function dd(w,C,S){!function ld(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((O,U)=>`(${U+1}) ${O}`).join(" "),S=dn.create("invalid-analytics-context",{errorInfo:C});Un.warn(S.message)}}();const O=w.options.appId;if(!O)throw dn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw dn.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[O])throw dn.create("already-exists",{id:O});if(!Ks){!function Iu(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(qs);const{wrappedGtag:q,gtagCore:ue}=function wa(w,C,S,O,U){let q=function(...ue){window[O].push(arguments)};return window[U]&&"function"==typeof window[U]&&(q=window[U]),window[U]=function Pc(w,C,S,O){function q(){return q=(0,H.Z)(function*(ue,...je){try{if("event"===ue){const[Be,et]=je;yield function rs(w,C,S,O,U){return _o.apply(this,arguments)}(w,C,S,Be,et)}else if("config"===ue){const[Be,et]=je;yield function Oc(w,C,S,O,U,q){return Jo.apply(this,arguments)}(w,C,S,O,Be,et)}else if("consent"===ue){const[Be]=je;w("consent","update",Be)}else if("get"===ue){const[Be,et,Et]=je;w("get",Be,et,Et)}else if("set"===ue){const[Be]=je;w("set",Be)}else w(ue,...je)}catch(Be){Un.error(Be)}}),q.apply(this,arguments)}return function U(ue){return q.apply(this,arguments)}}(q,w,C,S),{gtagCore:q,wrappedGtag:window[U]}}(Li,cd,tf,qs,"gtag");si=q,Vi=ue,Ks=!0}return Li[O]=function Vt(w,C,S,O,U,q,ue){return Ws.apply(this,arguments)}(w,cd,tf,C,Vi,qs,S),new Uc(w)}function Ui(){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,H.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Su="@firebase/analytics";!function Cs(){(0,te._registerComponent)(new De.wA(vo,(C,{options:S})=>dd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,te._registerComponent)(new De.wA("analytics-internal",function w(C){try{const S=C.getProvider(vo).getImmediate();return{logEvent:(O,U,q)=>function Tu(w,C,S,O){w=(0,ae.m9)(w),function Gp(w,C,S,O,U){return Vc.apply(this,arguments)}(si,Li[w.app.options.appId],C,S,O).catch(U=>Un.error(U))}(S,O,U,q)}}catch(S){throw dn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,te.registerVersion)(Su,"0.10.0"),(0,te.registerVersion)(Su,"0.10.0","esm2017")}();var Zs=k(7394);class fd extends Zs.w0{constructor(C,S){super()}schedule(C,S=0){return this}}const Ys={setInterval(w,C,...S){const{delegate:O}=Ys;return O?.setInterval?O.setInterval(w,C,...S):setInterval(w,C,...S)},clearInterval(w){const{delegate:C}=Ys;return(C?.clearInterval||clearInterval)(w)},delegate:void 0};var zc=k(9039);class Do extends fd{constructor(C,S){super(C,S),this.scheduler=C,this.work=S,this.pending=!1}schedule(C,S=0){var O;if(this.closed)return this;this.state=C;const U=this.id,q=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(q,U,S)),this.pending=!0,this.delay=S,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(q,this.id,S),this}requestAsyncId(C,S,O=0){return Ys.setInterval(C.flush.bind(C,this),O)}recycleAsyncId(C,S,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return S;null!=S&&Ys.clearInterval(S)}execute(C,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(C,S);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,S){let U,O=!1;try{this.work(C)}catch(q){O=!0,U=q||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:C,scheduler:S}=this,{actions:O}=S;this.work=this.state=this.scheduler=null,this.pending=!1,(0,zc.P)(O,this),null!=C&&(this.id=this.recycleAsyncId(S,C,null)),this.delay=null,super.unsubscribe()}}}var Gc=k(4552);class Bi{constructor(C,S=Bi.now){this.schedulerActionCtor=C,this.now=S}schedule(C,S=0,O){return new this.schedulerActionCtor(this,C).schedule(O,S)}}Bi.now=Gc.l.now;class Sa extends Bi{constructor(C,S=Bi.now){super(C,S),this.actions=[],this._active=!1}flush(C){const{actions:S}=this;if(this._active)return void S.push(C);let O;this._active=!0;do{if(O=C.execute(C.state,C.delay))break}while(C=S.shift());if(this._active=!1,O){for(;C=S.shift();)C.unsubscribe();throw O}}}const Aa=new class ta extends Sa{}(class Au extends Do{constructor(C,S){super(C,S),this.scheduler=C,this.work=S}schedule(C,S=0){return S>0?super.schedule(C,S):(this.delay=S,this.state=C,this.scheduler.flush(this),this)}execute(C,S){return S>0||this.closed?super.execute(C,S):this._execute(C,S)}requestAsyncId(C,S,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(C,S,O):(C.flush(this),0)}}),Co=new Sa(Do);var bo=k(5592),Ma=k(9397),Xs=k(5137),Wc=k(3093);const hr=new h.GfV("7.6.1"),bs="__angularfire_symbol__analyticsIsSupportedValue",qc="__angularfire_symbol__analyticsIsSupported",rf="__angularfire_symbol__remoteConfigIsSupportedValue",Kc="__angularfire_symbol__remoteConfigIsSupported",Mu="__angularfire_symbol__messagingIsSupportedValue",Zc="__angularfire_symbol__messagingIsSupported";function sf(w,C,S){if(C){if(1===C.length)return C[0];const q=C.filter(ue=>ue.app===S);if(1===q.length)return q[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[qc]||(globalThis[qc]=Ui().then(w=>globalThis[bs]=w).catch(()=>globalThis[bs]=!1)),globalThis[Zc]||(globalThis[Zc]=wu().then(w=>globalThis[Mu]=w).catch(()=>globalThis[Mu]=!1)),globalThis[Kc]||(globalThis[Kc]=uc().then(w=>globalThis[rf]=w).catch(()=>globalThis[rf]=!1));const xu=(w,C)=>{const S=C?[C]:(0,L.C6)(),O=[];return S.forEach(U=>{U.container.getProvider(w).instances.forEach(ue=>{O.includes(ue)||O.push(ue)})}),O};function xa(){}class Ci{constructor(C,S=Aa){this.zone=C,this.delegate=S}now(){return this.delegate.now()}schedule(C,S,O){const U=this.zone;return this.delegate.schedule(function(ue){U.runGuarded(()=>{C.apply(this,[ue])})},S,O)}}class Nu{constructor(C){this.zone=C,this.task=null}call(C,S){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),S.pipe((0,Ma.b)({next:O,complete:O,error:O})).subscribe(C).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let af=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ci(Zone.current)),this.insideAngular=S.run(()=>new Ci(Zone.current,Co)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ts(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function To(w){return Ts().ngZone.run(()=>w())}function qp(w){return Ts(),function bi(w){return function(S){return(S=S.lift(new Nu(w.ngZone))).pipe((0,Xs.R)(w.outsideAngular),(0,Wc.Q)(w.insideAngular))}}(Ts())(w)}const eo=(w,C)=>function(){const O=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),To(()=>w.apply(void 0,O))},Ss=(w,C)=>function(){let S;const O=arguments;for(let q=0;q<arguments.length;q++)"function"==typeof O[q]&&(C&&(S||(S=To(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)))),O[q]=eo(O[q],S));const U=function na(w){return Ts().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,O));if(!C){if(U instanceof bo.y){const q=Ts();return U.pipe((0,Xs.R)(q.outsideAngular),(0,Wc.Q)(q.insideAngular))}return To(()=>U)}return U instanceof bo.y?U.pipe(qp):U instanceof Promise?To(()=>new Promise((q,ue)=>U.then(je=>To(()=>q(je)),je=>To(()=>ue(je))))):"function"==typeof U&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),U.apply(this,arguments)}:To(()=>U)}},6878:(pt,Te,k)=>{k.d(Te,{$:()=>dc,A:()=>j,D:()=>ce,I:()=>Ll,J:()=>pa,L:()=>Tr,N:()=>yi,P:()=>Vt,Q:()=>ts,R:()=>Eo,U:()=>ac,V:()=>uc,W:()=>cc,X:()=>Lt,Y:()=>po,Z:()=>_r,_:()=>js,a:()=>Ie,a0:()=>Gl,a1:()=>$h,a2:()=>lw,a3:()=>fc,a4:()=>uu,a5:()=>zh,a6:()=>vi,a7:()=>ya,a8:()=>va,a9:()=>lu,aA:()=>Z,aB:()=>Js,aC:()=>Wn,aD:()=>tr,aE:()=>Sa,aF:()=>jc,aG:()=>nf,aH:()=>xn,aL:()=>yo,aO:()=>ws,aa:()=>yc,ab:()=>Wl,ac:()=>My,ad:()=>vc,ae:()=>jp,af:()=>Kl,ai:()=>Zl,aj:()=>Yl,ak:()=>Gh,an:()=>Uh,ao:()=>Wh,aq:()=>vu,ar:()=>Eu,as:()=>Ee,at:()=>Cn,au:()=>mt,av:()=>_e,aw:()=>U,ax:()=>Wc,ay:()=>bn,az:()=>pe,b:()=>ed,c:()=>si,d:()=>dd,e:()=>Bc,f:()=>Su,g:()=>zc,h:()=>Zs,i:()=>kc,j:()=>Gc,k:()=>et,l:()=>Da,m:()=>ji,p:()=>Ge,r:()=>bu,s:()=>Nr,u:()=>Ca});var h=k(5861),L=k(9058),H=k(534),te=k(7582),ae=k(7879),De=k(4537);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},$e=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ae.Yd("@firebase/auth");function Se(v,...p){Ne.logLevel<=ae.in.ERROR&&Ne.error(`Auth (${H.SDK_VERSION}): ${v}`,...p)}function _e(v,...p){throw J(v,...p)}function pe(v,...p){return J(v,...p)}function ve(v,p,m){const I=Object.assign(Object.assign({},$e()),{[p]:m});return new L.LL("auth","Firebase",I).create(p,{appName:v.name})}function Ae(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&_e(v,"argument-error"),ve(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J(v,...p){if("string"!=typeof v){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return We.create(v,...p)}function Z(v,p,...m){if(!v)throw J(p,...m)}function ge(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Se(p),new Error(p)}function Ee(v,p){v||ge(p)}function Fn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Dr(){return"http:"===ti()||"https:"===ti()}function ti(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class he{constructor(p,m){this.shortDelay=p,this.longDelay=m,Ee(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Ri(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dr()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(v,p){Ee(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class xe{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new he(3e4,6e4);function qe(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tt(v,p,m,I){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(v,p,m,I,M={}){return ft(v,M,(0,h.Z)(function*(){let R={},W={};I&&("GET"===p?W=I:R={body:JSON.stringify(I)});const oe=(0,L.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),Ve=yield v._getAdditionalHeaders();return Ve["Content-Type"]="application/json",v.languageCode&&(Ve["X-Firebase-Locale"]=v.languageCode),xe.fetch()(qt(v,v.config.apiHost,m,oe),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ft(v,p,m){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(v,p,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},Le),p);try{const M=new St(v),R=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw sr(v,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const oe=R.ok?W.errorMessage:W.error.message,[Ve,Ke]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw sr(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ve)throw sr(v,"email-already-in-use",W);if("USER_DISABLED"===Ve)throw sr(v,"user-disabled",W);const lt=I[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw ve(v,lt,Ke);_e(v,lt)}}catch(M){if(M instanceof L.ZR)throw M;_e(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Qt(v,p,m,I){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(v,p,m,I,M={}){const R=yield tt(v,p,m,I,M);return"mfaPendingCredential"in R&&_e(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function qt(v,p,m,I){const M=`${p}${m}?${I}`;return v.config.emulator?we(v.config,M):`${v.config.apiScheme}://${M}`}class St{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(pe(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(v,p,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const M=pe(v,p,I);return M.customData._tokenResponse=m,M}function pi(){return(pi=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gi(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ls(){return(Ls=(0,h.Z)(function*(v,p=!1){const m=(0,L.m9)(v),I=yield m.getIdToken(p),M=ct(I);Z(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,W=R?.sign_in_provider;return{claims:M,token:I,authTime:gi(Wt(M.auth_time)),issuedAtTime:gi(Wt(M.iat)),expirationTime:gi(Wt(M.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Wt(v){return 1e3*Number(v)}function ct(v){const[p,m,I]=v.split(".");if(void 0===p||void 0===m||void 0===I)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(m);return M?JSON.parse(M):(Se("Failed to decode base64 JWT payload"),null)}catch(M){return Se("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Dn(v,p){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof L.ZR&&function Cr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class mi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Jt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qi(v){return ln.apply(this,arguments)}function ln(){return ln=(0,h.Z)(function*(v){var p;const m=v.auth,I=yield v.getIdToken(),M=yield Dn(v,function ks(v,p){return ps.apply(this,arguments)}(m,{idToken:I}));Z(M?.users.length,m,"internal-error");const R=M.users[0];v._notifyReloadListener(R);const W=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function Uo(v){return v.map(p=>{var{providerId:m}=p,I=(0,te._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(R.providerUserInfo):[],oe=function Ya(v,p){return[...v.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(v.providerData,W),lt=!!v.isAnonymous&&!(v.email&&R.passwordHash||oe?.length),Ut={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:oe,metadata:new Jt(R.createdAt,R.lastLoginAt),isAnonymous:lt};Object.assign(v,Ut)}),ln.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(v){const p=(0,L.m9)(v);yield Qi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(v,p){const m=yield ft(v,{},(0,h.Z)(function*(){const I=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:R}=v.config,W=qt(v,M,"/v1/token",`key=${R}`),oe=yield v._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(W,{method:"POST",headers:oe,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Z(p.idToken,"internal-error"),Z(typeof p.idToken<"u","internal-error"),Z(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function yt(v){const p=ct(v);return Z(p,"internal-error"),Z(typeof p.exp<"u","internal-error"),Z(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,h.Z)(function*(){return Z(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:W}=yield function gs(v,p){return or.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(M,R,Number(W))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:M,expirationTime:R}=m,W=new Lr;return I&&(Z("string"==typeof I,"internal-error",{appName:p}),W.refreshToken=I),M&&(Z("string"==typeof M,"internal-error",{appName:p}),W.accessToken=M),R&&(Z("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return ge("not implemented")}}function br(v,p){Z("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class er{constructor(p){var{uid:m,auth:I,stsTokenManager:M}=p,R=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Jt(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const I=yield Dn(m,m.stsTokenManager.getToken(m.auth,p));return Z(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function Fs(v){return Ls.apply(this,arguments)}(this,p)}reload(){return function rn(v){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Z(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new er(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,h.Z)(function*(){let M=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield Qi(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Dn(p,function fi(v,p){return pi.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,M,R,W,oe,Ve,Ke,lt;const Ut=null!==(I=m.displayName)&&void 0!==I?I:void 0,Ti=null!==(M=m.email)&&void 0!==M?M:void 0,So=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,uf=null!==(W=m.photoURL)&&void 0!==W?W:void 0,Yc=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,Pa=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Zp=null!==(Ke=m.createdAt)&&void 0!==Ke?Ke:void 0,Yp=null!==(lt=m.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Ou,emailVerified:dw,isAnonymous:Oy,providerData:vd,stsTokenManager:_d}=m;Z(Ou&&_d,p,"internal-error");const Qp=Lr.fromJSON(this.name,_d);Z("string"==typeof Ou,p,"internal-error"),br(Ut,p.name),br(Ti,p.name),Z("boolean"==typeof dw,p,"internal-error"),Z("boolean"==typeof Oy,p,"internal-error"),br(So,p.name),br(uf,p.name),br(Yc,p.name),br(Pa,p.name),br(Zp,p.name),br(Yp,p.name);const cf=new er({uid:Ou,auth:p,email:Ti,emailVerified:dw,displayName:Ut,isAnonymous:Oy,photoURL:uf,phoneNumber:So,tenantId:Yc,stsTokenManager:Qp,createdAt:Zp,lastLoginAt:Yp});return vd&&Array.isArray(vd)&&(cf.providerData=vd.map(Py=>Object.assign({},Py))),Pa&&(cf._redirectEventId=Pa),cf}static _fromIdTokenResponse(p,m,I=!1){return(0,h.Z)(function*(){const M=new Lr;M.updateFromServerResponse(m);const R=new er({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:I});return yield Qi(R),R})()}}const Vr=new Map;function Wn(v){Ee(v instanceof Function,"Expected a class definition");let p=Vr.get(v);return p?(Ee(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Vr.set(v,p),p)}const yi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var M=this;return(0,h.Z)(function*(){M.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=I.storage[m];return void 0===M?null:M})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function tr(v,p,m){return`firebase:${v}:${p}:${m}`}class V{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:M,name:R}=this.auth;this.fullUserKey=tr(this.userKey,M.apiKey,R),this.fullPersistenceKey=tr("persistence",M.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?er._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new V(Wn(yi),p,I);const M=(yield Promise.all(m.map(function(){var Ke=(0,h.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let R=M[0]||Wn(yi);const W=tr(I,p.config.apiKey,p.name);let oe=null;for(const Ke of m)try{const lt=yield Ke._get(W);if(lt){const Ut=er._fromJSON(p,lt);Ke!==R&&(oe=Ut),R=Ke;break}}catch{}const Ve=M.filter(Ke=>Ke._shouldAllowMigration);return R._shouldAllowMigration&&Ve.length?(R=Ve[0],oe&&(yield R._set(W,oe.toJSON())),yield Promise.all(m.map(function(){var Ke=(0,h.Z)(function*(lt){if(lt!==R)try{yield lt._remove(W)}catch{}});return function(lt){return Ke.apply(this,arguments)}}())),new V(R,p,I)):new V(R,p,I)})()}}function F(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Je(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(G(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Kt(p))return"Blackberry";if(ar(p))return"Webos";if(se(p))return"Safari";if((p.includes("chrome/")||X(p))&&!p.includes("edge/"))return"Chrome";if(mt(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function G(v=(0,L.z$)()){return/firefox\//i.test(v)}function se(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function X(v=(0,L.z$)()){return/crios\//i.test(v)}function Je(v=(0,L.z$)()){return/iemobile/i.test(v)}function mt(v=(0,L.z$)()){return/android/i.test(v)}function Kt(v=(0,L.z$)()){return/blackberry/i.test(v)}function ar(v=(0,L.z$)()){return/webos/i.test(v)}function Cn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function bn(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ln(v=(0,L.z$)()){return Cn(v)||mt(v)||ar(v)||Kt(v)||/windows phone/i.test(v)||Je(v)}function ms(v,p=[]){let m;switch(v){case"Browser":m=F((0,L.z$)());break;case"Worker":m=`${F((0,L.z$)())}-${v}`;break;default:m=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${H.SDK_VERSION}/${I}`}function Y(){return(Y=(0,h.Z)(function*(v){return(yield tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Re(v,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(v,p){return tt(v,"GET","/v2/recaptchaConfig",qe(v,p))})).apply(this,arguments)}function vt(v){return void 0!==v&&void 0!==v.getResponse}function Nt(v){return void 0!==v&&void 0!==v.enterprise}class Xt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Tn(v){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=M=>{const R=pe("internal-error");R.customData=M,m(R)},I.type="text/javascript",I.charset="UTF-8",function qn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function ys(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Qa{constructor(p){this.type="recaptcha-enterprise",this.auth=xn(p)}verify(p="verify",m=!1){var I=this;return(0,h.Z)(function*(){function R(){return R=(0,h.Z)(function*(oe){if(!m){if(null==oe.tenantId&&null!=oe._agentRecaptchaConfig)return oe._agentRecaptchaConfig.siteKey;if(null!=oe.tenantId&&void 0!==oe._tenantRecaptchaConfigs[oe.tenantId])return oe._tenantRecaptchaConfigs[oe.tenantId].siteKey}return new Promise(function(){var Ve=(0,h.Z)(function*(Ke,lt){Re(oe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ut=>{if(void 0!==Ut.recaptchaKey){const Ti=new Xt(Ut);return null==oe.tenantId?oe._agentRecaptchaConfig=Ti:oe._tenantRecaptchaConfigs[oe.tenantId]=Ti,Ke(Ti.siteKey)}lt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ut=>{lt(Ut)})});return function(Ke,lt){return Ve.apply(this,arguments)}}())}),R.apply(this,arguments)}function W(oe,Ve,Ke){const lt=window.grecaptcha;Nt(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(oe,{action:p}).then(Ut=>{Ve(Ut)}).catch(()=>{Ve("NO_RECAPTCHA")})}):Ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((oe,Ve)=>{(function M(oe){return R.apply(this,arguments)})(I.auth).then(Ke=>{if(!m&&Nt(window.grecaptcha))W(Ke,oe,Ve);else{if(typeof window>"u")return void Ve(new Error("RecaptchaVerifier is only supported in browser"));Tn("https://www.google.com/recaptcha/enterprise.js?render="+Ke).then(()=>{W(Ke,oe,Ve)}).catch(lt=>{Ve(lt)})}}).catch(Ke=>{Ve(Ke)})})})()}}function vs(v,p,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,h.Z)(function*(v,p,m,I=!1){const M=new Qa(v);let R;try{R=yield M.verify(m)}catch{R=yield M.verify(m,!0)}const W=Object.assign({},p);return Object.assign(W,I?{captchaResp:R}:{captchaResponse:R}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class Ph{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const I=R=>new Promise((W,oe)=>{try{W(p(R))}catch(Ve){oe(Ve)}});I.onAbort=m,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const I=[];try{for(const M of m.queue)yield M(p),M.onAbort&&I.push(M.onAbort)}catch(M){I.reverse();for(const R of I)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Ur{constructor(p,m,I,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kh(this),this.idTokenSubscription=new kh(this),this.beforeStateQueue=new Ph(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=Wn(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,R;if(!I._deleted&&(I.persistenceManager=yield V.create(I,p),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(R=I.currentUser)||void 0===R?void 0:R.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var I;const M=yield m.assertedPersistence.getCurrentUser();let R=M,W=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const oe=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Ve=R?._redirectEventId,Ke=yield m.tryRedirectSignIn(p);(!oe||oe===Ve)&&Ke?.user&&(R=Ke.user,W=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(R)}catch(oe){R=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(oe))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return Z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield Qi(p)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ne(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const I=p?(0,L.m9)(p):null;return I&&Z(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return p&&Z(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Wn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const m=yield Re(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Xt(m);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new Qa(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,h.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&Wn(p)||m._popupRedirectResolver;Z(I,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[Wn(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var I,M;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,M){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,I,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ms(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(I["X-Firebase-Client"]=M);const R=yield p._getAppCheckToken();return R&&(I["X-Firebase-AppCheck"]=R),I})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var m;const I=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function ht(v,...p){Ne.logLevel<=ae.in.WARN&&Ne.warn(`Auth (${H.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function xn(v){return(0,L.m9)(v)}class kh{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ll(v,p,m){const I=xn(v);Z(I._canInitEmulator,I,"emulator-config-failed"),Z(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const M=!!m?.disableWarnings,R=Ja(p),{host:W,port:oe}=function $o(v){const p=Ja(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const R=M[1];return{host:R,port:tc(I.substr(R.length+1))}}{const[R,W]=I.split(":");return{host:R,port:tc(W)}}}(p);I.config.emulator={url:`${R}//${W}${null===oe?"":`:${oe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:W,port:oe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Fh(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ja(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function tc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class pa{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,m){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function Xa(v,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:resetPassword",qe(v,p))})).apply(this,arguments)}function nc(v,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",qe(v,p))})).apply(this,arguments)}function eu(v,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPassword",qe(v,p))})).apply(this,arguments)}function ga(v,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:sendOobCode",qe(v,p))})).apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(v,p){return ga(v,p)})).apply(this,arguments)}function Vs(v,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(v,p){return ga(v,p)})).apply(this,arguments)}function ic(v,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.Z)(function*(v,p){return ga(v,p)})).apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(v,p){return ga(v,p)})).apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithEmailLink",qe(v,p))})).apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithEmailLink",qe(v,p))})).apply(this,arguments)}class gn extends pa{constructor(p,m,I,M=null){super("password",I),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new gn(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new gn(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){var I;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const R=yield vs(p,M,"signInWithPassword");return eu(p,R)}return eu(p,M).catch(function(){var R=(0,h.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const oe=yield vs(p,M,"signInWithPassword");return eu(p,oe)}return Promise.reject(W)});return function(W){return R.apply(this,arguments)}}());case"emailLink":return function Lh(v,p){return En.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:_e(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return nc(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Xe(v,p){return At.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:_e(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function nr(v,p){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithIdp",qe(v,p))})).apply(this,arguments)}class Tr extends pa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Tr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):_e("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=m,R=(0,te._T)(m,["providerId","signInMethod"]);if(!I||!M)return null;const W=new Tr(I,M);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(p){return nr(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,nr(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,nr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Us(){return(Us=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:sendVerificationCode",qe(v,p))})).apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,p))})).apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(v,p){const m=yield Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,p));if(m.temporaryProof)throw sr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zo={USER_NOT_FOUND:"user-not-found"};function fo(){return(fo=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zo)})).apply(this,arguments)}class Sr extends pa{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Sr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Sr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function _s(v,p){return It.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function nu(v,p){return oc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Nn(v,p){return fo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:R}=p;return I||m||M||R?new Sr({verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:R}):null}}class Bs{constructor(p){var m,I,M,R,W,oe;const Ve=(0,L.zd)((0,L.pd)(p)),Ke=null!==(m=Ve.apiKey)&&void 0!==m?m:null,lt=null!==(I=Ve.oobCode)&&void 0!==I?I:null,Ut=function vr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ve.mode)&&void 0!==M?M:null);Z(Ke&&lt&&Ut,"argument-error"),this.apiKey=Ke,this.operation=Ut,this.code=lt,this.continueUrl=null!==(R=Ve.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Ve.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(oe=Ve.tenantId)&&void 0!==oe?oe:null}static parseLink(p){const m=function ru(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,I=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(I?(0,L.zd)((0,L.pd)(I)).link:null)||I||m||p||v}(p);try{return new Bs(m)}catch{return null}}}let ts=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return gn._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const M=Bs.parseLink(I);return Z(M,"argument-error"),gn._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Oi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Es extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Lt extends Es{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Z("providerId"in m&&"signInMethod"in m,"argument-error"),Tr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Z(p.idToken||p.accessToken,"argument-error"),Tr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Lt.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Lt.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:R,nonce:W,providerId:oe}=p;if(!I&&!M&&!m&&!R||!oe)return null;try{return new Lt(oe)._credential({idToken:m,accessToken:I,nonce:W,pendingToken:R})}catch{return null}}}let ac=(()=>{class v extends Es{constructor(){super("facebook.com")}static credential(m){return Tr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends Es{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Tr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:M}=m;if(!I&&!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),cc=(()=>{class v extends Es{constructor(){super("github.com")}static credential(m){return Tr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ws extends pa{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return nr(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,nr(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,nr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:R}=m;return I&&M&&R&&I===M?new ws(I,R):null}static _create(p,m){return new ws(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends Oi{constructor(p){Z(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return po.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return po.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ws.fromJSON(p);return Z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return ws._create(I,m)}catch{return null}}}let _r=(()=>{class v extends Es{constructor(){super("twitter.com")}static credential(m,I){return Tr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=m;if(!I||!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function iu(v,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signUp",qe(v,p))})).apply(this,arguments)}class sn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,M=!1){return(0,h.Z)(function*(){const R=yield er._fromIdTokenResponse(p,I,M),W=Wo(I);return new sn({user:R,providerId:W,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=Wo(I);return new sn({user:p,providerId:M,_tokenResponse:I,operationType:m})})()}}function Wo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function js(v){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(v){var p;const m=xn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new sn({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield iu(m,{returnSecureToken:!0}),M=yield sn._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class jr extends L.ZR{constructor(p,m,I,M){var R;super(m.code,m.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,jr.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,M){return new jr(p,m,I,M)}}function ma(v,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?jr._fromErrorAndOperation(v,R,p,I):R})}function Vh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Uh(v,p){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v);yield lc(!0,m,p);const{providerUserInfo:I}=yield function jt(v,p){return lo.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=Vh(I||[]);return m.providerData=m.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Bl.apply(this,arguments)}function ki(v,p){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(v,p,m=!1){const I=yield Dn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return sn._forOperation(v,"link",I)})).apply(this,arguments)}function lc(v,p,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.Z)(function*(v,p,m){yield Qi(p);const M=!1===v?"provider-already-linked":"no-such-provider";Z(Vh(p.providerData).has(m)===v,p.auth,M)})).apply(this,arguments)}function Bh(v,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(v,p,m=!1){const{auth:I}=v,M="reauthenticate";try{const R=yield Dn(v,ma(I,M,p,v),m);Z(R.idToken,I,"internal-error");const W=ct(R.idToken);Z(W,I,"internal-error");const{sub:oe}=W;return Z(v.uid===oe,I,"user-mismatch"),sn._forOperation(v,M,R)}catch(R){throw"auth/user-not-found"===R?.code&&_e(I,"user-mismatch"),R}})).apply(this,arguments)}function $l(v,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(v,p,m=!1){const I="signIn",M=yield ma(v,I,p),R=yield sn._fromIdTokenResponse(v,I,M);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function dc(v,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,h.Z)(function*(v,p){return $l(xn(v),p)})).apply(this,arguments)}function Gl(v,p){return jh.apply(this,arguments)}function jh(){return(jh=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v);return yield lc(!1,m,p.providerId),ki(m,p)})).apply(this,arguments)}function $h(v,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v,p){return Bh((0,L.m9)(v),p)})).apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithCustomToken",qe(v,p))})).apply(this,arguments)}function lw(v,p){return $s.apply(this,arguments)}function $s(){return $s=(0,h.Z)(function*(v,p){const m=xn(v),I=yield function Hh(v,p){return hc.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),M=yield sn._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(M.user),M}),$s.apply(this,arguments)}class Fi{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Hs._fromServerResponse(p,m):"totpInfo"in m?Ko._fromServerResponse(p,m):_e(p,"internal-error")}}class Hs extends Fi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Hs(m)}}class Ko extends Fi{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ko(m)}}function au(v,p,m){var I;Z((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),Z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Z(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Z(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function fc(v,p,m){return pc.apply(this,arguments)}function pc(){return pc=(0,h.Z)(function*(v,p,m){var I;const M=xn(v),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const W=yield vs(M,R,"getOobCode",!0);m&&au(M,W,m),yield Vs(M,W)}else m&&au(M,R,m),yield Vs(M,R).catch(function(){var W=(0,h.Z)(function*(oe){if("auth/missing-recaptcha-token"!==oe.code)return Promise.reject(oe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ve=yield vs(M,R,"getOobCode",!0);m&&au(M,Ve,m),yield Vs(M,Ve)}});return function(oe){return W.apply(this,arguments)}}())}),pc.apply(this,arguments)}function uu(v,p,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,h.Z)(function*(v,p,m){yield Xa((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function zh(v,p){return cu.apply(this,arguments)}function cu(){return cu=(0,h.Z)(function*(v,p){yield function Ul(v,p){return Br.apply(this,arguments)}((0,L.m9)(v),{oobCode:p})}),cu.apply(this,arguments)}function vi(v,p){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v),I=yield Xa(m,{oobCode:p}),M=I.requestType;switch(Z(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(I.mfaInfo,m,"internal-error");default:Z(I.email,m,"internal-error")}let R=null;return I.mfaInfo&&(R=Fi._fromServerResponse(xn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function ya(v,p){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v,p){const{data:m}=yield vi((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function va(v,p,m){return mc.apply(this,arguments)}function mc(){return mc=(0,h.Z)(function*(v,p,m){var I;const M=xn(v),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ke=yield vs(M,R,"signUpPassword");W=iu(M,Ke)}else W=iu(M,R).catch(function(){var Ke=(0,h.Z)(function*(lt){if("auth/missing-recaptcha-token"===lt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ut=yield vs(M,R,"signUpPassword");return iu(M,Ut)}return Promise.reject(lt)});return function(lt){return Ke.apply(this,arguments)}}());const oe=yield W.catch(Ke=>Promise.reject(Ke)),Ve=yield sn._fromIdTokenResponse(M,"signIn",oe);return yield M._updateCurrentUser(Ve.user),Ve}),mc.apply(this,arguments)}function lu(v,p,m){return dc((0,L.m9)(v),ts.credential(p,m))}function yc(v,p,m){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,h.Z)(function*(v,p,m){var I;const M=xn(v),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function W(oe,Ve){Z(Ve.handleCodeInApp,M,"argument-error"),Ve&&au(M,oe,Ve)}if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const oe=yield vs(M,R,"getOobCode",!0);W(oe,m),yield ic(M,oe)}else W(R,m),yield ic(M,R).catch(function(){var oe=(0,h.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ke=yield vs(M,R,"getOobCode",!0);W(Ke,m),yield ic(M,Ke)}});return function(Ve){return oe.apply(this,arguments)}}())}),Ds.apply(this,arguments)}function Wl(v,p){const m=Bs.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function My(v,p,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v),M=ts.credentialWithLink(p,m||Fn());return Z(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),dc(I,M)})).apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:createAuthUri",qe(v,p))})).apply(this,arguments)}function vc(v,p){return hu.apply(this,arguments)}function hu(){return hu=(0,h.Z)(function*(v,p){const I={identifier:p,continueUri:Dr()?Fn():"http://localhost"},{signinMethods:M}=yield function ql(v,p){return du.apply(this,arguments)}((0,L.m9)(v),I);return M||[]}),hu.apply(this,arguments)}function jp(v,p){return fu.apply(this,arguments)}function fu(){return fu=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&au(m.auth,M,p);const{email:R}=yield function mr(v,p){return cr.apply(this,arguments)}(m.auth,M);R!==v.email&&(yield v.reload())}),fu.apply(this,arguments)}function Kl(v,p,m){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&au(I.auth,R,m);const{email:W}=yield function Ho(v,p){return sc.apply(this,arguments)}(I.auth,R);W!==v.email&&(yield v.reload())}),Zo.apply(this,arguments)}function Ec(){return(Ec=(0,h.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zl(v,p){return wc.apply(this,arguments)}function wc(){return wc=(0,h.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,L.m9)(v),R={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield Dn(I,function _c(v,p){return Ec.apply(this,arguments)}(I.auth,R));I.displayName=W.displayName||null,I.photoURL=W.photoUrl||null;const oe=I.providerData.find(({providerId:Ve})=>"password"===Ve);oe&&(oe.displayName=I.displayName,oe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(W)}),wc.apply(this,arguments)}function Yl(v,p){return pu((0,L.m9)(v),p,null)}function Gh(v,p){return pu((0,L.m9)(v),null,p)}function pu(v,p,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,h.Z)(function*(v,p,m){const{auth:I}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const W=yield Dn(v,nc(I,R));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class zs{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class Dc extends zs{constructor(p,m,I,M){super(p,m,I),this.username=M}}class ri extends zs{constructor(p,m){super(p,"facebook.com",m)}}class gu extends Dc{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class mu extends zs{constructor(p,m){super(p,"google.com",m)}}class en extends Dc{constructor(p,m,I){super(p,"twitter.com",m,I)}}function Wh(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ql(v){var p,m;if(!v)return null;const{providerId:I}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const W=null===(m=null===(p=ct(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new zs(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!I)return null;switch(I){case"facebook.com":return new ri(R,M);case"github.com":return new gu(R,M);case"google.com":return new mu(R,M);case"twitter.com":return new en(R,M,v.screenName||null);case"custom":case"anonymous":return new zs(R,null);default:return new zs(R,I,M)}}(m)}class Ei{constructor(p,m,I){this.type=p,this.credential=m,this.auth=I}static _fromIdtoken(p,m){return new Ei("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ei("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ei._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Ei._fromIdtoken(p.multiFactorSession.idToken)}return null}}class yu{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=xn(p),M=m.customData._serverResponse,R=(M.mfaInfo||[]).map(oe=>Fi._fromServerResponse(I,oe));Z(M.mfaPendingCredential,I,"internal-error");const W=Ei._fromMfaPendingCredential(M.mfaPendingCredential);return new yu(W,R,function(){var oe=(0,h.Z)(function*(Ve){const Ke=yield Ve._process(I,W);delete M.mfaInfo,delete M.mfaPendingCredential;const lt=Object.assign(Object.assign({},M),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(m.operationType){case"signIn":const Ut=yield sn._fromIdTokenResponse(I,m.operationType,lt);return yield I._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return Z(m.user,I,"internal-error"),sn._forOperation(m.user,m.operationType,lt);default:_e(I,"internal-error")}});return function(Ve){return oe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function vu(v,p){var m;const I=(0,L.m9)(v),M=p;return Z(p.customData.operationType,I,"argument-error"),Z(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),yu._fromError(I,M)}class Ac{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>Fi._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Ac(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Ei._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var I=this;return(0,h.Z)(function*(){const M=p,R=yield I.getSession(),W=yield Dn(I.user,M._process(I.user.auth,R,m));return yield I.user._updateTokensIfNecessary(W),I.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const R=yield Dn(m.user,function Jl(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==I),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const Qo=new WeakMap;function Eu(v){const p=(0,L.m9)(v);return Qo.has(p)||Qo.set(p,Ac._fromUser(p)),Qo.get(p)}const _a="__sak";class Xl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ed=(()=>{class v extends Xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mo(){const v=(0,L.z$)();return se(v)||Cn(v)}()&&function Ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ln(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),R=this.localCache[I];M!==R&&m(I,R,M)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((oe,Ve,Ke)=>{this.notifyListeners(oe,Ke)});const M=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(M);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!I)return}const R=()=>{const oe=this.storage.getItem(M);!I&&this.localCache[M]===oe||this.notifyListeners(M,oe)},W=this.storage.getItem(M);!function yn(){return(0,L.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var M=()=>super._set,R=this;return(0,h.Z)(function*(){yield M().call(R,m,I),R.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,M=this;return(0,h.Z)(function*(){const R=yield I().call(M,m);return M.localCache[m]=JSON.stringify(R),R})()}_remove(m){var I=()=>super._remove,M=this;return(0,h.Z)(function*(){yield I().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Ie=(()=>{class v extends Xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let Yh=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(R=>R.isListeningto(m));if(I)return I;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const M=m,{eventId:R,eventType:W,data:oe}=M.data,Ve=I.handlersMap[W];if(!Ve?.size)return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Ke=Array.from(Ve).map(function(){var Ut=(0,h.Z)(function*(Ti){return Ti(M.origin,oe)});return function(Ti){return Ut.apply(this,arguments)}}()),lt=yield function Yt(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(Ke);M.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:lt})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function yo(v="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return v+m}class Mr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var M=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,oe;return new Promise((Ve,Ke)=>{const lt=yo("",20);R.port1.start();const Ut=setTimeout(()=>{Ke(new Error("unsupported_event"))},I);oe={messageChannel:R,onMessage(Ti){const So=Ti;if(So.data.eventId===lt)switch(So.data.status){case"ack":clearTimeout(Ut),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ve(So.data.response);break;default:clearTimeout(Ut),clearTimeout(W),Ke(new Error("invalid_response"))}}},M.handlers.add(oe),R.port1.addEventListener("message",oe.onMessage),M.target.postMessage({eventType:p,eventId:lt,data:m},[R.port2])}).finally(()=>{oe&&M.removeMessageHandler(oe)})})()}}function Rn(){return window}function wi(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function Ea(){return(Ea=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Un="firebaseLocalStorageDb",dn="firebaseLocalStorage",Rc="fbase_key";class ns{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ii(v,p){return v.transaction([dn],p?"readwrite":"readonly").objectStore(dn)}function Iu(){const v=indexedDB.open(Un,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(dn,{keyPath:Rc})}catch(M){m(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(dn)?p(I):(I.close(),yield function Hp(){const v=indexedDB.deleteDatabase(Un);return new ns(v).toPromise()}(),p(yield Iu()))}))})}function Oc(v,p,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(v,p,m){const I=Ii(v,!0).put({[Rc]:p,value:m});return new ns(I).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(v,p){const m=Ii(v,!1).get(p),I=yield new ns(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Pc(v,p){const m=Ii(v,!0).delete(p);return new ns(m).toPromise()}const kc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Iu()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const R=yield I._openDb();return yield m(R)}catch(R){if(M++>3)throw R;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return wi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Yh._getInstance(function nd(){return wi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(M,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(M,R){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,M;if(m.activeServiceWorker=yield function Nc(){return Ea.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Mr(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(I=R[0])&&void 0!==I&&I.fulfilled&&null!==(M=R[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function td(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Iu();return yield Oc(m,_a,"1"),yield Pc(m,_a),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(R=>Oc(R,m,I)),M.localCache[m]=I,M.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=yield I._withRetries(R=>function rs(v,p){return _o.apply(this,arguments)}(R,m));return I.localCache[m]=M,M})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(M=>Pc(M,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(W=>{const oe=Ii(W,!1).getAll();return new ns(oe).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:W,value:oe}of I)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(oe)&&(m.notifyListeners(W,oe),M.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),M.push(W));return M})()}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Lc=1e12;class id{constructor(p){this.auth=p,this.counter=Lc,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new xr(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||Lc;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Lc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(p||Lc))||void 0===I||I.execute(),""})()}}class xr{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Z(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gs(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vn=ys("rcb"),ef=new he(3e4,6e4);class od{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Rn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Z(function Gp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&vt(Rn().grecaptcha)?Promise.resolve(Rn().grecaptcha):new Promise((I,M)=>{const R=Rn().setTimeout(()=>{M(pe(p,"network-request-failed"))},ef.get());Rn()[vn]=()=>{Rn().clearTimeout(R),delete Rn()[vn];const oe=Rn().grecaptcha;if(!oe||!vt(oe))return void M(pe(p,"internal-error"));const Ve=oe.render;oe.render=(Ke,lt)=>{const Ut=Ve(Ke,lt);return this.counter++,Ut},this.hostLanguage=m,I(oe)},Tn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:vn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),M(pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Rn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vc{load(p){return(0,h.Z)(function*(){return new id(p)})()}clearedOneInstance(){}}const ad="recaptcha",Ia={theme:"light",type:"image"};class Eo{constructor(p,m=Object.assign({},Ia),I){this.parameters=m,this.type=ad,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(I),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Z(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vc:new od,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(R=>{const W=oe=>{oe&&(p.tokenChangeListeners.delete(W),R(oe))};p.tokenChangeListeners.add(W),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=Rn()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){Z(Dr()&&!wi(),p.auth,"internal-error"),yield function ud(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function le(v){return Y.apply(this,arguments)}(p.auth);Z(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _n{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Sr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Nr(v,p,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(v,p,m){const I=xn(v),M=yield is(I,p,(0,L.m9)(m));return new _n(M,R=>dc(I,R))})).apply(this,arguments)}function Da(v,p,m){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v);yield lc(!1,I,"phone");const M=yield is(I.auth,p,(0,L.m9)(m));return new _n(M,R=>Gl(I,R))})).apply(this,arguments)}function bu(v,p,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v),M=yield is(I.auth,p,(0,L.m9)(m));return new _n(M,R=>$h(I,R))})).apply(this,arguments)}function is(v,p,m){return ss.apply(this,arguments)}function ss(){return ss=(0,h.Z)(function*(v,p,m){var I;const M=yield m.verify();try{let R;if(Z("string"==typeof M,v,"argument-error"),Z(m.type===ad,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return Z("enroll"===W.type,v,"internal-error"),(yield function Sc(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:start",qe(v,p))}(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Z("signin"===W.type,v,"internal-error");const oe=(null===(I=R.multiFactorHint)||void 0===I?void 0:I.uid)||R.multiFactorUid;return Z(oe,v,"missing-multi-factor-info"),(yield function Qh(v,p){return tt(v,"POST","/v2/accounts/mfaSignIn:start",qe(v,p))}(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function Vn(v,p){return Us.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:M});return W}}finally{m._reset()}}),ss.apply(this,arguments)}function Ca(v,p){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(v,p){yield ki((0,L.m9)(v),p)})).apply(this,arguments)}let Vt=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=xn(m)}verifyPhoneNumber(m,I){return is(this.auth,m,(0,L.m9)(I))}static credential(m,I){return Sr._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:M}=m;return I&&M?Sr._fromTokenResponse(I,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ws(v,p){return p?Wn(p):(Z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Uc extends pa{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return nr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return nr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return nr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Li(v){return $l(v.auth,new Uc(v),v.bypassAuthState)}function cd(v){const{auth:p,user:m}=v;return Z(m,p,"internal-error"),Bh(m,new Uc(v),v.bypassAuthState)}function tf(v){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(v){const{auth:p,user:m}=v;return Z(m,p,"internal-error"),ki(m,new Uc(v),v.bypassAuthState)})).apply(this,arguments)}class Di{constructor(p,m,I,M,R=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(I,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:R,tenantId:W,error:oe,type:Ve}=p;if(oe)return void m.reject(oe);const Ke={auth:m.auth,requestUri:I,sessionId:M,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Ke))}catch(lt){m.reject(lt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Li;case"linkViaPopup":case"linkViaRedirect":return tf;case"reauthViaPopup":case"reauthViaRedirect":return cd;default:_e(this.auth,"internal-error")}}resolve(p){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vi=new he(2e3,1e4);function si(v,p,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,p,m){const I=xn(v);Ae(v,p,Oi);const M=Ws(I,m);return new os(I,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Bc(v,p,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v);Ae(I.auth,p,Oi);const M=Ws(I.auth,m);return new os(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function dd(v,p,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v);Ae(I.auth,p,Oi);const M=Ws(I.auth,m);return new os(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let os=(()=>{class v extends Di{constructor(m,I,M,R,W){super(m,I,R,W),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return Z(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){Ee(1===m.filter.length,"Popup operations only handle one event");const I=yo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(pe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Vi.get())};m()}}return v.currentPopupAction=null,v})();const Ui="pendingRedirect",Mn=new Map;class as extends Di{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=Mn.get(m.auth._key());if(!I){try{const R=(yield function hd(v,p){return Io.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(R)}catch(M){I=()=>Promise.reject(M)}Mn.set(m.auth._key(),I)}return m.bypassAuthState||Mn.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Io(){return(Io=(0,h.Z)(function*(v,p){const m=$c(p),I=Tu(v);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(m));return yield I._remove(m),M})).apply(this,arguments)}function ba(v,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,h.Z)(function*(v,p){return Tu(v)._set($c(p),"true")})).apply(this,arguments)}function nf(){Mn.clear()}function jc(v,p){Mn.set(v._key(),p)}function Tu(v){return Wn(v._redirectPersistence)}function $c(v){return tr(Ui,v.config.apiKey,v.name)}function Su(v,p,m){return function Hc(v,p,m){return Cs.apply(this,arguments)}(v,p,m)}function Cs(){return(Cs=(0,h.Z)(function*(v,p,m){const I=xn(v);Ae(v,p,Oi),yield I._initializationPromise;const M=Ws(I,m);return yield ba(M,I),M._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Zs(v,p,m){return function fd(v,p,m){return Ys.apply(this,arguments)}(v,p,m)}function Ys(){return(Ys=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v);Ae(I.auth,p,Oi),yield I.auth._initializationPromise;const M=Ws(I.auth,m);yield ba(M,I.auth);const R=yield Aa(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function zc(v,p,m){return function Do(v,p,m){return Au.apply(this,arguments)}(v,p,m)}function Au(){return(Au=(0,h.Z)(function*(v,p,m){const I=(0,L.m9)(v);Ae(I.auth,p,Oi),yield I.auth._initializationPromise;const M=Ws(I.auth,m);yield lc(!1,I,p.providerId),yield ba(M,I.auth);const R=yield Aa(I);return M._openRedirect(I.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Gc(v,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(v,p){return yield xn(v)._initializationPromise,Sa(v,p,!1)})).apply(this,arguments)}function Sa(v,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(v,p,m=!1){const I=xn(v),M=Ws(I,p),W=yield new as(I,M,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield I._persistUserIfCurrent(W.user),yield I._setRedirectUser(null,p)),W})).apply(this,arguments)}function Aa(v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(v){const p=yo(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Js{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Xs(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ma(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!Ma(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(pe(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bo(p))}saveEventToCache(p){this.cachedEventUids.add(bo(p)),this.lastProcessedEventTime=Date.now()}}function bo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ma({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Wc(v){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(v,p={}){return tt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const bs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qc=/^https?/;function Kc(){return(Kc=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Wc(v);for(const m of p)try{if(Mu(m))return}catch{}_e(v,"unauthorized-domain")})).apply(this,arguments)}function Mu(v){const p=Fn(),{protocol:m,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===I}if(!qc.test(m))return!1;if(bs.test(v))return I===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Zc=new he(3e4,6e4);function us(){const v=Rn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let gd=null;const sf=new he(5e3,15e3),xu="__/auth/iframe",xa="emulator/auth/iframe",Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function af(v){const p=v.config;Z(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?we(p,xa):`https://${v.config.authDomain}/${xu}`,I={apiKey:p.apiKey,appName:v.name,v:H.SDK_VERSION},M=Nu.get(v.config.apiHost);M&&(I.eid=M);const R=v._getFrameworks();return R.length&&(I.fw=R.join(",")),`${m}?${(0,L.xO)(I).slice(1)}`}function na(){return na=(0,h.Z)(function*(v){const p=yield function Bn(v){return gd=gd||function pd(v){return new Promise((p,m)=>{var I,M,R;function W(){us(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{us(),m(pe(v,"network-request-failed"))},timeout:Zc.get()})}if(null!==(M=null===(I=Rn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Rn().gapi)||void 0===R||!R.load){const oe=ys("iframefcb");return Rn()[oe]=()=>{gapi.load?W():m(pe(v,"network-request-failed"))},Tn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ve=>m(Ve))}W()}}).catch(p=>{throw gd=null,p})}(v),gd}(v),m=Rn().gapi;return Z(m,v,"internal-error"),p.open({where:document.body,url:af(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},I=>new Promise(function(){var M=(0,h.Z)(function*(R,W){yield I.restyle({setHideOnLeave:!1});const oe=pe(v,"network-request-failed"),Ve=Rn().setTimeout(()=>{W(oe)},sf.get());function Ke(){Rn().clearTimeout(Ve),R(I)}I.ping(Ke).then(Ke,()=>{W(oe)})});return function(R,W){return M.apply(this,arguments)}}()))}),na.apply(this,arguments)}const To={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eo{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const C="__/auth/handler",S="emulator/auth/handler",O=encodeURIComponent("fac");function U(v,p,m,I,M,R){return q.apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(v,p,m,I,M,R){Z(v.config.authDomain,v,"auth-domain-config-required"),Z(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:H.SDK_VERSION,eventId:M};if(p instanceof Oi){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[lt,Ut]of Object.entries(R||{}))W[lt]=Ut}if(p instanceof Es){const lt=p.getScopes().filter(Ut=>""!==Ut);lt.length>0&&(W.scopes=lt.join(","))}v.tenantId&&(W.tid=v.tenantId);const oe=W;for(const lt of Object.keys(oe))void 0===oe[lt]&&delete oe[lt];const Ve=yield v._getAppCheckToken(),Ke=Ve?`#${O}=${encodeURIComponent(Ve)}`:"";return`${function ue({config:v}){return v.emulator?we(v,S):`https://${v.authDomain}/${C}`}(v)}?${(0,L.xO)(oe).slice(1)}${Ke}`})).apply(this,arguments)}const je="webStorageSupport",et=class Be{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ie,this._completeRedirectFn=Sa,this._overrideRedirectResult=jc}_openPopup(p,m,I,M){var R=this;return(0,h.Z)(function*(){var W;Ee(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const oe=yield U(p,m,I,Fn(),M);return function Ss(v,p,m,I=500,M=600){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),W=Math.max((window.screen.availWidth-I)/2,0).toString();let oe="";const Ve=Object.assign(Object.assign({},To),{width:I.toString(),height:M.toString(),top:R,left:W}),Ke=(0,L.z$)().toLowerCase();m&&(oe=X(Ke)?"_blank":m),G(Ke)&&(p=p||"http://localhost",Ve.scrollbars="yes");const lt=Object.entries(Ve).reduce((Ti,[So,uf])=>`${Ti}${So}=${uf},`,"");if(function xt(v=(0,L.z$)()){var p;return Cn(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ke)&&"_self"!==oe)return function w(v,p){const m=document.createElement("a");m.href=v,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",oe),new eo(null);const Ut=window.open(p||"",oe,lt);Z(Ut,v,"popup-blocked");try{Ut.focus()}catch{}return new eo(Ut)}(p,oe,yo())})()}_openRedirect(p,m,I,M){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(p),function vo(v){Rn().location.href=v}(yield U(p,m,I,Fn(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:R}=this.eventManagers[m];return M?Promise.resolve(M):(Ee(R,"If manager is not set, promise should be"),R)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const I=yield function Ts(v){return na.apply(this,arguments)}(p),M=new Js(p);return I.register("authEvent",R=>(Z(R?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(je,{type:je},M=>{var R;const W=null===(R=M?.[0])||void 0===R?void 0:R[je];void 0!==W&&m(!!W),_e(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function rf(v){return Kc.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ln()||se()||Cn()}};class Et{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}class wt extends Et{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new wt(p)}_finalizeEnroll(p,m,I){return function _u(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",qe(v,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Fc(v,p){return tt(v,"POST","/v2/accounts/mfaSignIn:finalize",qe(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ji=(()=>{class v{constructor(){}static assertion(m){return wt._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var rr="@firebase/auth";class Ra{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Ru(v){(0,H._registerComponent)(new De.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:W,authDomain:oe}=I.options;Z(W&&!W.includes(":"),"invalid-api-key",{appName:I.name});const Ve={apiKey:W,authDomain:oe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ms(v)},Ke=new Ur(I,M,R,Ve);return function Bp(v,p){const m=p?.persistence||[],I=(Array.isArray(m)?m:[m]).map(Wn);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Ke,m),Ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new De.wA("auth-internal",p=>{const m=xn(p.getProvider("auth").getImmediate());return new Ra(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(rr,"0.23.2",function md(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,H.registerVersion)(rr,"0.23.2","esm2017")}("Browser")},9058:(pt,Te,k)=>{k.d(Te,{$s:()=>Wn,BH:()=>ve,L:()=>be,LL:()=>In,P0:()=>Se,Pz:()=>pe,Sg:()=>Ae,UG:()=>ge,US:()=>De,ZB:()=>re,ZR:()=>tt,aH:()=>_e,b$:()=>Dr,eu:()=>Le,hl:()=>xe,jU:()=>Ee,m9:()=>tr,ne:()=>Dn,pd:()=>ct,r3:()=>jt,ru:()=>Fn,tV:()=>z,uI:()=>Z,vZ:()=>gi,w1:()=>Ri,xO:()=>Ls,xb:()=>ks,z$:()=>J,zI:()=>Ue,zd:()=>Wt});const te=function(V){const F=[];let G=0;for(let se=0;se<V.length;se++){let X=V.charCodeAt(se);X<128?F[G++]=X:X<2048?(F[G++]=X>>6|192,F[G++]=63&X|128):55296==(64512&X)&&se+1<V.length&&56320==(64512&V.charCodeAt(se+1))?(X=65536+((1023&X)<<10)+(1023&V.charCodeAt(++se)),F[G++]=X>>18|240,F[G++]=X>>12&63|128,F[G++]=X>>6&63|128,F[G++]=63&X|128):(F[G++]=X>>12|224,F[G++]=X>>6&63|128,F[G++]=63&X|128)}return F},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let X=0;X<V.length;X+=3){const Je=V[X],mt=X+1<V.length,Kt=mt?V[X+1]:0,ar=X+2<V.length,Cn=ar?V[X+2]:0;let yn=(15&Kt)<<2|Cn>>6,Ln=63&Cn;ar||(Ln=64,mt||(yn=64)),se.push(G[Je>>2],G[(3&Je)<<4|Kt>>4],G[yn],G[Ln])}return se.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(te(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,se=0;for(;G<V.length;){const X=V[G++];if(X<128)F[se++]=String.fromCharCode(X);else if(X>191&&X<224){const Je=V[G++];F[se++]=String.fromCharCode((31&X)<<6|63&Je)}else if(X>239&&X<365){const ar=((7&X)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[se++]=String.fromCharCode(55296+(ar>>10)),F[se++]=String.fromCharCode(56320+(1023&ar))}else{const Je=V[G++],mt=V[G++];F[se++]=String.fromCharCode((15&X)<<12|(63&Je)<<6|63&mt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let X=0;X<V.length;){const Je=G[V.charAt(X++)],Kt=X<V.length?G[V.charAt(X)]:0;++X;const Cn=X<V.length?G[V.charAt(X)]:64;++X;const xt=X<V.length?G[V.charAt(X)]:64;if(++X,null==Je||null==Kt||null==Cn||null==xt)throw new ke;se.push(Je<<2|Kt>>4),64!==Cn&&(se.push(Kt<<4&240|Cn>>2),64!==xt&&se.push(Cn<<6&192|xt))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(V){return function(V){const F=te(V);return De.encodeByteArray(F,!0)}(V).replace(/\./g,"")},z=function(V){try{return De.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!Fe(G)||(V[G]=re(V[G],F[G]));return V}function Fe(V){return"__proto__"!==V}const Ne=()=>{try{return function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&z(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Se=V=>{const F=(V=>{var F,G;return null===(G=null===(F=Ne())||void 0===F?void 0:F.emulatorHosts)||void 0===G?void 0:G[V]})(V);if(!F)return;const G=F.lastIndexOf(":");if(G<=0||G+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const se=parseInt(F.substring(G+1),10);return"["===F[0]?[F.substring(1,G-1),se]:[F.substring(0,G),se]},_e=()=>{var V;return null===(V=Ne())||void 0===V?void 0:V.config},pe=V=>{var F;return null===(F=Ne())||void 0===F?void 0:F[`_${V}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,se)=>{G?this.reject(G):this.resolve(se),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,se))}}}function Ae(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=F||"demo-project",X=V.iat||0,Je=V.sub||V.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:X,exp:X+3600,auth_time:X,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},V);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(mt)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function ge(){var V;const F=null===(V=Ne())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function Fn(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Dr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ri(){const V=J();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((V,F)=>{try{let G=!0;const se="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(se);X.onsuccess=()=>{X.result.close(),G||self.indexedDB.deleteDatabase(se),V(!0)},X.onupgradeneeded=()=>{G=!1},X.onerror=()=>{var Je;F((null===(Je=X.error)||void 0===Je?void 0:Je.message)||"")}}catch(G){F(G)}})}function Ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(F,G,se){super(G),this.code=F,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}}class In{constructor(F,G,se){this.service=F,this.serviceName=G,this.errors=se}create(F,...G){const se=G[0]||{},X=`${this.service}/${F}`,Je=this.errors[F],mt=Je?function ft(V,F){return V.replace(un,(G,se)=>{const X=F[se];return null!=X?String(X):`<${se}?>`})}(Je,se):"Error";return new tt(X,`${this.serviceName}: ${mt} (${X}).`,se)}}const un=/\{\$([^}]+)}/g;function jt(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function ks(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function gi(V,F){if(V===F)return!0;const G=Object.keys(V),se=Object.keys(F);for(const X of G){if(!se.includes(X))return!1;const Je=V[X],mt=F[X];if(ho(Je)&&ho(mt)){if(!gi(Je,mt))return!1}else if(Je!==mt)return!1}for(const X of se)if(!G.includes(X))return!1;return!0}function ho(V){return null!==V&&"object"==typeof V}function Ls(V){const F=[];for(const[G,se]of Object.entries(V))Array.isArray(se)?se.forEach(X=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(X))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(se));return F.length?"&"+F.join("&"):""}function Wt(V){const F={};return V.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[X,Je]=se.split("=");F[decodeURIComponent(X)]=decodeURIComponent(Je)}}),F}function ct(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}function Dn(V,F){const G=new st(V,F);return G.subscribe.bind(G)}class st{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(se=>{this.error(se)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,se){let X;if(void 0===F&&void 0===G&&void 0===se)throw new Error("Missing Observer.");X=function mi(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:se},void 0===X.next&&(X.next=Jt),void 0===X.error&&(X.error=Jt),void 0===X.complete&&(X.complete=Jt);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Je}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jt(){}const Lr=1e3,br=2,er=144e5,Vr=.5;function Wn(V,F=Lr,G=br){const se=F*Math.pow(G,V),X=Math.round(Vr*se*(Math.random()-.5)*2);return Math.min(er,se+X)}function tr(V){return V&&V._delegate?V._delegate:V}},6293:(pt,Te,k)=>{var h=k(8926);let L=null;function H(){return L}class ae{}const De=new h.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(be)},providedIn:"platform"}),n})();const Ge=new h.OlP("Location Initialized");let be=(()=>{class n extends ke{constructor(){super(),this._doc=(0,h.f3M)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)($e)},providedIn:"root"}),n})();const ce=new h.OlP("appBaseHref");let $e=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ke),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),We=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=z(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ke),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function _e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(Se(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function ht(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=re,n.joinWithSlash=z,n.stripTrailingSlash=j,n.\u0275fac=function(t){return new(t||n)(h.LFG(Fe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ne(){return new He((0,h.LFG)(Fe))}()},providedIn:"root"}),n})();function Se(n){return n.replace(/\/index.html$/,"")}function Xi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}class Ph{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ph(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),xn(g,o)}});for(let o=0,u=r.length;o<u;o++){const g=r.get(o).context;g.index=o,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{xn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xn(n,e){n.context.$implicit=e.item}let fa=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ll("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ll("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bp{constructor(){this.$implicit=null,this.ngIf=null}}function Ll(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Bs(n){return"server"===n}let Es=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Lt((0,h.LFG)(De),window)}),n})();class Lt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function uc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ac(this.window.history)||ac(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ac(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pi{}class gu extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mu extends gu{static makeCurrent(){!function te(n){L||(L=n)}(new mu)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wh(){return en=en||document.querySelector("base"),en?en.getAttribute("href"):null}();return null==t?null:function ii(n){Yo=Yo||document.createElement("a"),Yo.setAttribute("href",n);const e=Yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){en=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xi(document.cookie,e)}}let Yo,en=null,Cc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const go=new h.OlP("EventManagerPlugins");let Ar=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(go),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Kh{constructor(e){this._doc=e}}const bc="ng-app-id";let Tc=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bs(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${bc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(bc),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(bc,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(De),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _i={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ei=/%COMP%/g,$p=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ac(n,e){return e.map(t=>t.replace(Ei,n))}let Qo=(()=>{class n{constructor(t,r,o,u,l,g,_,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.doc=l,this.platformId=g,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Bs(g),this.defaultRenderer=new Eu(t,l,_,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Mc?o.applyToHost(t):o instanceof wu&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,g=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,A=this.removeStylesOnCompDestory,N=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new Mc(_,b,r,this.appId,A,l,g,N);break;case h.ifc.ShadowDom:return new Zh(_,b,t,r,l,g,this.nonce,N);default:u=new wu(_,b,r,A,l,g,N)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ar),h.LFG(Tc),h.LFG(h.AFp),h.LFG($p),h.LFG(De),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Eu{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(_i[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=_i[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=_i[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=H().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function mo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zh extends Eu{constructor(e,t,r,o,u,l,g,_){super(e,u,l,_),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=Ac(o.id,o.styles);for(const A of b){const N=document.createElement("style");g&&N.setAttribute("nonce",g),N.textContent=A,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wu extends Eu{constructor(e,t,r,o,u,l,g,_){super(e,u,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=_?Ac(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Mc extends wu{constructor(e,t,r,o,u,l,g,_){const b=o+"-"+r.id;super(e,t,r,u,l,g,_,b),this.contentAttr=function _t(n){return"_ngcontent-%COMP%".replace(Ei,n)}(b),this.hostAttr=function Jl(n){return"_nghost-%COMP%".replace(Ei,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ed=(()=>{class n extends Kh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(De))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const xc=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yh=(()=>{class n extends Kh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),xc.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let o=Ie[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),xc.forEach(l=>{l!==o&&(0,Yt[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(De))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const nd=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function wi(){mu.makeCurrent()},multi:!0},{provide:De,useFactory:function Ea(){return(0,h.RDi)(document),document},deps:[]}]),Un=new h.OlP(""),Er=[{provide:h.rWj,useClass:class qh{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const g=function(_){l=l||_,u--,0==u&&r(l)};o.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],dn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Nc(){return new h.qLn},deps:[]},{provide:go,useClass:ed,multi:!0,deps:[De,h.R0b,h.Lbi]},{provide:go,useClass:Yh,multi:!0,deps:[De]},Qo,Tc,Ar,{provide:h.FYo,useExisting:Qo},{provide:Pi,useClass:Cc,deps:[]},[]];let Rc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Un,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...dn,...Er],imports:[zo,h.hGG]}),n})(),Oc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(De))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Iu(){return new Oc((0,h.LFG)(De))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var _n=k(2459),Nr=k(5592);const{isArray:Xo}=Array,{getPrototypeOf:Da,prototype:Cu,keys:bu}=Object;function ea(n){if(1===n.length){const e=n[0];if(Xo(e))return{args:e,keys:null};if(function is(n){return n&&"object"==typeof n&&Da(n)===Cu}(e)){const t=bu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ss=k(4829),Ca=k(4564),$r=k(8251),Vt=k(7398);const{isArray:Ws}=Array;function Li(n){return(0,Vt.U)(e=>function Uc(n,e){return Ws(e)?n(...e):n(e)}(n,e))}function cd(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let qs=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Di=(()=>{class n extends qs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Vi=new h.OlP("NgValueAccessor"),Bc={provide:Vi,useExisting:(0,h.Gpc)(()=>wo),multi:!0},dd=new h.OlP("CompositionEventMode");let wo=(()=>{class n extends qs{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ld(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(dd,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Bc]),h.qOj]}),n})();function os(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Ui(n){return null!=n&&"number"==typeof n.length}const Mn=new h.OlP("NgValidators"),as=new h.OlP("NgAsyncValidators"),hd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Io{static min(e){return function ba(n){return e=>{if(os(e.value)||os(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ta(n){return e=>{if(os(e.value)||os(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function nf(n){return os(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Tu(n){return os(n.value)||hd.test(n.value)?null:{email:!0}}(e)}static minLength(e){return $c(e)}static maxLength(e){return function Su(n){return e=>Ui(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Hc(n){if(!n)return Cs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(os(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Gc(e)}static composeAsync(e){return Sa(e)}}function $c(n){return e=>os(e.value)||!Ui(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Cs(n){return null}function Zs(n){return null!=n}function fd(n){return(0,h.QGY)(n)?(0,_n.D)(n):n}function Ys(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zc(n,e){return e.map(t=>t(n))}function Au(n){return n.map(e=>function Do(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gc(n){if(!n)return null;const e=n.filter(Zs);return 0==e.length?null:function(t){return Ys(zc(t,e))}}function Bi(n){return null!=n?Gc(Au(n)):null}function Sa(n){if(!n)return null;const e=n.filter(Zs);return 0==e.length?null:function(t){return function tf(...n){const e=(0,Ca.jO)(n),{args:t,keys:r}=ea(n),o=new Nr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let _=l,b=l;for(let A=0;A<l;A++){let N=!1;(0,ss.Xf)(t[A]).subscribe((0,$r.x)(u,B=>{N||(N=!0,b--),g[A]=B},()=>_--,void 0,()=>{(!_||!N)&&(b||u.next(r?cd(r,g):g),u.complete())}))}});return e?o.pipe(Li(e)):o}(zc(t,e).map(fd)).pipe((0,Vt.U)(Ys))}}function ta(n){return null!=n?Sa(Au(n)):null}function Aa(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qs(n){return n._rawValidators}function Co(n){return n._rawAsyncValidators}function Js(n){return n?Array.isArray(n)?n:[n]:[]}function bo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ma(n,e){const t=Js(e);return Js(n).forEach(o=>{bo(t,o)||t.push(o)}),t}function Xs(n,e){return Js(e).filter(t=>!bo(n,t))}class Wc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ta(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hr extends Wc{get formDirective(){return null}get path(){return null}}class bs extends Wc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mu=(()=>{class n extends qc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bs,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Zc=(()=>{class n extends qc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const eo="VALID",Ss="INVALID",w="PENDING",C="DISABLED";function S(n){return(ue(n)?n.validators:n)||null}function U(n,e){return(ue(e)?e.asyncValidators:n)||null}function ue(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function je(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function Be(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})}class et{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eo}get invalid(){return this.status===Ss}get pending(){return this.status==w}get disabled(){return this.status===C}get enabled(){return this.status!==C}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ma(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ma(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xs(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xs(e,this._rawAsyncValidators))}hasValidator(e){return bo(this._rawValidators,e)}hasAsyncValidator(e){return bo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=w,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=C,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eo,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eo||this.status===w)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?C:eo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=w,this._hasOwnPendingAsyncValidator=!0;const t=fd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?C:this.errors?Ss:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w)?w:this._anyControlsHaveStatus(Ss)?Ss:eo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ue(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function O(n){return Array.isArray(n)?Bi(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function q(n){return Array.isArray(n)?ta(n):n||null}(this._rawAsyncValidators)}}class Et extends et{constructor(e,t,r){super(S(t),U(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Be(this,0,e),Object.keys(e).forEach(r=>{je(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jn extends Et{}const $i=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hr}),Hr="always";function rr(n,e){return[...e.path,n]}function zr(n,e,t=Hr){Oa(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ny(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ry(n,e)})}(n,e),function v(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kp(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ry(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ru(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ra(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function md(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Oa(n,e){const t=Qs(n);null!==e.validator?n.setValidators(Aa(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Co(n);null!==e.asyncValidator?n.setAsyncValidators(Aa(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();md(e._rawValidators,o),md(e._rawAsyncValidators,o)}function yd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Qs(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Co(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return md(e._rawValidators,r),md(e._rawAsyncValidators,r),t}function Ry(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ve(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ut(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===wo?t=u:function Ke(n){return Object.getPrototypeOf(n.constructor)===Di}(u)?r=u:o=u}),o||r||t||null}function Zp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Yp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ou=class extends et{constructor(e=null,t,r){super(S(t),U(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ue(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Yp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Yp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fw={provide:bs,useExisting:(0,h.Gpc)(()=>Ed)},ky=(()=>Promise.resolve())();let Ed=(()=>{class n extends bs{constructor(t,r,o,u,l,g){super(),this._changeDetectorRef=l,this.callSetDisabledState=g,this.control=new Ou,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ut(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ve(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ky.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,h.VuI)(r);ky.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?rr(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hr,9),h.Y36(Mn,10),h.Y36(as,10),h.Y36(Vi,10),h.Y36(h.sBO,8),h.Y36($i,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([fw]),h.qOj,h.TTD]}),n})(),lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const kC={provide:Vi,useExisting:(0,h.Gpc)(()=>Vy),multi:!0};let Fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),Ly=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:Fy}),n})(),Vy=(()=>{class n extends Di{constructor(t,r,o,u){super(t,r),this._registry=o,this._injector=u,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,h.f3M)($i,{optional:!0})??Hr}ngOnInit(){this._control=this._injector.get(bs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ly),h.Y36(h.zs3))},n.\u0275dir=h.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h._Bn([kC]),h.qOj]}),n})();const Jp=new h.OlP("NgModelWithFormControlWarning"),cs={provide:hr,useExisting:(0,h.Gpc)(()=>wd)};let wd=(()=>{class n extends hr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return zr(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ra(t.control||null,t,!1),function Ti(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function lt(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Ra(r||null,t),(n=>n instanceof Ou)(o)&&(zr(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function p(n,e){Oa(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function m(n,e){return yd(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oa(this.form,this),this._oldForm&&yd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mn,10),h.Y36(as,10),h.Y36($i,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([cs]),h.qOj,h.TTD]}),n})();const vw={provide:bs,useExisting:(0,h.Gpc)(()=>By)};let By=(()=>{class n extends bs{set isDisabled(t){}constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ut(0,u)}ngOnChanges(t){this._added||this._setUpControl(),Ve(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return rr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(hr,13),h.Y36(Mn,10),h.Y36(as,10),h.Y36(Vi,10),h.Y36(Jp,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([vw]),h.qOj,h.TTD]}),n})();const _w={provide:Vi,useExisting:(0,h.Gpc)(()=>Xp),multi:!0};function Ew(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Xp=(()=>{class n extends Di{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Ew(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function ww(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([_w]),h.qOj]}),n})(),jy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ew(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Xp,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const VC={provide:Vi,useExisting:(0,h.Gpc)(()=>Hy),multi:!0};function Iw(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Hy=(()=>{class n extends Di{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let g=0;g<l.length;g++){const b=this._getOptionValue(l[g].value);o.push(b)}}else{const l=r.options;for(let g=0;g<l.length;g++){const _=l[g];if(_.selected){const b=this._getOptionValue(_.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function $y(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([VC]),h.qOj]}),n})(),Id=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Iw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Iw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Hy,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Pu=(()=>{class n{constructor(){this._validator=Cs}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cs,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const BC={provide:Mn,useExisting:(0,h.Gpc)(()=>Wy),multi:!0};let Wy=(()=>{class n extends Pu{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Cw(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>$c(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([BC]),h.qOj]}),n})(),eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Fy]}),n})();class Yy extends et{constructor(e,t,r){super(S(t),U(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Be(this,0,e),e.forEach((r,o)=>{je(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Qy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let HC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return Qy(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Et(o,u)}record(t,r=null){const o=this._reduceControls(t);return new jn(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Qy(r)?u=r:(u.validators=r,u.asyncValidators=o),new Ou(t,{...u,nonNullable:!0})):new Ou(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new Yy(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ou||t instanceof et?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$i,useValue:t.callSetDisabledState??Hr}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[eg]}),n})(),Rw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$i,useValue:t.callSetDisabledState??Hr}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[eg]}),n})();var Dt=k(2096),oi=k(1631),Td=k(4674);function ka(n,e){return(0,Td.m)(e)?(0,oi.z)(n,e,1):(0,oi.z)(n,1)}var Hi=k(9360);function Ao(n,e){return(0,Hi.e)((t,r)=>{let o=0;t.subscribe((0,$r.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Xc(n){return(0,Hi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var fr=k(4664);class ff{}class Sd{}class ls{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ls?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ls;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ls?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ow{encodeKey(e){return Xy(e)}encodeValue(e){return Xy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GC=/%(\d[a-f0-9])/gi,WC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xy(n){return encodeURIComponent(n).replace(GC,(e,t)=>WC[t]??e)}function pf(n){return`${n}`}class Mo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ow,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zC(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[l,g]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],_=t.get(l)||[];_.push(g),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(pf):[pf(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Mo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(pf(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ad{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function kw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KC(n){return typeof Blob<"u"&&n instanceof Blob}function Fw(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new ls),this.context||(this.context=new Ad),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new Mo,this.urlWithParams=t}serializeBody(){return null===this.body?null:kw(this.body)||KC(this.body)||Fw(this.body)||function ev(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fw(this.body)?null:KC(this.body)?this.body.type||null:kw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((N,B)=>N.set(B,e.setHeaders[B]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((N,B)=>N.set(B,e.setParams[B]),b)),new gf(t,r,u,{params:b,headers:_,context:A,reportProgress:g,responseType:o,withCredentials:l})}}var $n=(()=>(($n=$n||{})[$n.Sent=0]="Sent",$n[$n.UploadProgress=1]="UploadProgress",$n[$n.ResponseHeader=2]="ResponseHeader",$n[$n.DownloadProgress=3]="DownloadProgress",$n[$n.Response=4]="Response",$n[$n.User=5]="User",$n))();class Md{constructor(e,t=200,r="OK"){this.headers=e.headers||new ls,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class mf extends Md{constructor(e={}){super(e),this.type=$n.ResponseHeader}clone(e={}){return new mf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class el extends Md{constructor(e={}){super(e),this.type=$n.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new el({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tv extends Md{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nv=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof gf)u=t;else{let _,b;_=o.headers instanceof ls?o.headers:new ls(o.headers),o.params&&(b=o.params instanceof Mo?o.params:new Mo({fromObject:o.params})),u=new gf(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,Dt.of)(u).pipe(ka(_=>this.handler.handle(_)));if(t instanceof gf||"events"===o.observe)return l;const g=l.pipe(Ao(_=>_ instanceof el));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,Vt.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Mo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,tg(o,r))}post(t,r,o={}){return this.request("POST",t,tg(o,r))}put(t,r,o={}){return this.request("PUT",t,tg(o,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ff))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Vw(n,e){return e(n)}function Nx(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const Ox=new h.OlP(""),rg=new h.OlP(""),YC=new h.OlP("");function Uw(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(Ox,{optional:!0})??[]).reduceRight(Nx,Vw));const r=(0,h.f3M)(h.HDt),o=r.add();return n(e,t).pipe(Xc(()=>r.remove(o)))}}let Bw=(()=>{class n extends ff{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(rg),...this.injector.get(YC,[])]));this.chain=o.reduceRight((u,l)=>function Rx(n,e,t){return(r,o)=>t.runInContext(()=>e(r,u=>n(u,o)))}(u,l,this.injector),Vw)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Xc(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Sd),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Vx=/^\)\]\}',?\n/;let sg=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,_n.D)(r.\u0275loadImpl()):(0,Dt.of)(null)).pipe((0,fr.w)(()=>new Nr.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((ye,Ce)=>l.setRequestHeader(ye,Ce.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ye=t.detectContentTypeHeader();null!==ye&&l.setRequestHeader("Content-Type",ye)}if(t.responseType){const ye=t.responseType.toLowerCase();l.responseType="json"!==ye?ye:"text"}const g=t.serializeBody();let _=null;const b=()=>{if(null!==_)return _;const ye=l.statusText||"OK",Ce=new ls(l.getAllResponseHeaders()),ot=function iv(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return _=new mf({headers:Ce,status:l.status,statusText:ye,url:ot}),_},A=()=>{let{headers:ye,status:Ce,statusText:ot,url:bt}=b(),at=null;204!==Ce&&(at=typeof l.response>"u"?l.responseText:l.response),0===Ce&&(Ce=at?200:0);let Mt=Ce>=200&&Ce<300;if("json"===t.responseType&&"string"==typeof at){const Gt=at;at=at.replace(Vx,"");try{at=""!==at?JSON.parse(at):null}catch(nn){at=Gt,Mt&&(Mt=!1,at={error:nn,text:at})}}Mt?(u.next(new el({body:at,headers:ye,status:Ce,statusText:ot,url:bt||void 0})),u.complete()):u.error(new tv({error:at,headers:ye,status:Ce,statusText:ot,url:bt||void 0}))},N=ye=>{const{url:Ce}=b(),ot=new tv({error:ye,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ce||void 0});u.error(ot)};let B=!1;const Q=ye=>{B||(u.next(b()),B=!0);let Ce={type:$n.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ce.total=ye.total),"text"===t.responseType&&l.responseText&&(Ce.partialText=l.responseText),u.next(Ce)},fe=ye=>{let Ce={type:$n.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ce.total=ye.total),u.next(Ce)};return l.addEventListener("load",A),l.addEventListener("error",N),l.addEventListener("timeout",N),l.addEventListener("abort",N),t.reportProgress&&(l.addEventListener("progress",Q),null!==g&&l.upload&&l.upload.addEventListener("progress",fe)),l.send(g),u.next({type:$n.Sent}),()=>{l.removeEventListener("error",N),l.removeEventListener("abort",N),l.removeEventListener("load",A),l.removeEventListener("timeout",N),t.reportProgress&&(l.removeEventListener("progress",Q),null!==g&&l.upload&&l.upload.removeEventListener("progress",fe)),l.readyState!==l.DONE&&l.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Pi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const zw=new h.OlP("XSRF_ENABLED"),sv=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gw=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ww{}let JC=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(De),h.LFG(h.Lbi),h.LFG(sv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qw(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(zw)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(Ww).getToken(),o=(0,h.f3M)(Gw);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Hn=(()=>((Hn=Hn||{})[Hn.Interceptors=0]="Interceptors",Hn[Hn.LegacyInterceptors=1]="LegacyInterceptors",Hn[Hn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Hn[Hn.NoXsrfProtection=3]="NoXsrfProtection",Hn[Hn.JsonpSupport=4]="JsonpSupport",Hn[Hn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Hn[Hn.Fetch=6]="Fetch",Hn))();function La(n,e){return{\u0275kind:n,\u0275providers:e}}function XC(...n){const e=[nv,sg,Bw,{provide:ff,useExisting:Bw},{provide:Sd,useExisting:sg},{provide:rg,useValue:qw,multi:!0},{provide:zw,useValue:!0},{provide:Ww,useClass:JC}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const Kw=new h.OlP("LEGACY_INTERCEPTOR_FN");let Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[XC(La(Hn.LegacyInterceptors,[{provide:Kw,useFactory:Uw},{provide:rg,useExisting:Kw,multi:!0}]))]}),n})();var xo=k(5619),_f=k(2737),Jw=k(7103);function Ef(...n){const e=(0,Ca.yG)(n),t=(0,Ca.jO)(n),{args:r,keys:o}=ea(n);if(0===r.length)return(0,_n.D)([],e);const u=new Nr.y(function zx(n,e,t=_f.y){return r=>{og(e,()=>{const{length:o}=n,u=new Array(o);let l=o,g=o;for(let _=0;_<o;_++)og(e,()=>{const b=(0,_n.D)(n[_],e);let A=!1;b.subscribe((0,$r.x)(r,N=>{u[_]=N,A||(A=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>cd(o,l):_f.y));return t?u.pipe(Li(t)):u}function og(n,e,t){n?(0,Jw.f)(t,n,e):e()}const xd=(0,k(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nd=k(7537);function Va(...n){return function Xw(){return(0,Nd.J)(1)}()((0,_n.D)(n,(0,Ca.yG)(n)))}function e0(n){return new Nr.y(e=>{(0,ss.Xf)(n()).subscribe(e)})}var cv=k(8407);function Fu(n,e){const t=(0,Td.m)(n)?n:()=>n,r=o=>o.error(t());return new Nr.y(e?o=>e.schedule(r,0,o):r)}var Lu=k(6232),ag=k(7394);function Rd(){return(0,Hi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$r.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Vu extends Nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ag.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$r.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ag.w0.EMPTY)}return e}refCount(){return Rd()(this)}}var Ua=k(8645);function Uu(n){return n<=0?()=>Lu.E:(0,Hi.e)((e,t)=>{let r=0;e.subscribe((0,$r.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function ug(n){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,$r.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function lv(n=Od){return(0,Hi.e)((e,t)=>{let r=!1;e.subscribe((0,$r.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Od(){return new xd}function Bu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ao((o,u)=>n(o,u,r)):_f.y,Uu(1),t?ug(e):lv(()=>new xd))}var zi=k(9397);function tl(n){return(0,Hi.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,$r.x)(t,void 0,void 0,l=>{u=(0,ss.Xf)(n(l,tl(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function hv(n){return n<=0?()=>Lu.E:(0,Hi.e)((e,t)=>{let r=[];e.subscribe((0,$r.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}const Bt="primary",cg=Symbol("RouteTitle");class ob{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pd(n){return new ob(n)}function Gx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))o[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function As(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!r0(n[o],e[o]))return!1;return!0}function r0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function lg(n){return n.length>0?n[n.length-1]:null}function ia(n){return function uv(n){return!!n&&(n instanceof Nr.y||(0,Td.m)(n.lift)&&(0,Td.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,_n.D)(Promise.resolve(n)):(0,Dt.of)(n)}const wf={exact:function Df(n,e,t){if(!il(n.segments,e.segments)||!nl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Df(n.children[r],e.children[r],t))return!1;return!0},subset:pv},dg={exact:function If(n,e){return As(n,e)},subset:function Cf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>r0(n[t],e[t]))},ignored:()=>!0};function hg(n,e,t){return wf[t.paths](n.root,e.root,t.matrixParams)&&dg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function pv(n,e,t){return fg(n,e,e.segments,t)}function fg(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!il(o,t)||e.hasChildren()||!nl(o,t,r))}if(n.segments.length===t.length){if(!il(n.segments,t)||!nl(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!pv(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(il(n.segments,o)&&nl(n.segments,o,r)&&n.children[Bt])&&fg(n.children[Bt],e,u,r)}}function nl(n,e,t){return e.every((r,o)=>dg[t](n[o].parameters,r.parameters))}class bf{constructor(e=new fn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pd(this.queryParams)),this._queryParamMap}toString(){return ub.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gg(this)}}class rl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pd(this.parameters)),this._parameterMap}toString(){return Sf(this)}}function il(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new pg},providedIn:"root"}),n})();class pg{parse(e){const t=new fb(e);return new bf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mg(e.root,!0)}`,r=function a0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Fd(t)}=${Fd(o)}`).join("&"):`${Fd(t)}=${Fd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ub=new pg;function gg(n){return n.segments.map(e=>Sf(e)).join("/")}function mg(n,e){if(!n.hasChildren())return gg(n);if(e){const t=n.children[Bt]?mg(n.children[Bt],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==Bt&&r.push(`${o}:${mg(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ab(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Bt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Bt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Bt?[mg(n.children[Bt],!1)]:[`${o}:${mg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${gg(n)}/${t[0]}`:`${gg(n)}/(${t.join("//")})`}}function o0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fd(n){return o0(n).replace(/%3B/gi,";")}function mv(n){return o0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(n){return decodeURIComponent(n)}function yg(n){return Tf(n.replace(/\+/g,"%20"))}function Sf(n){return`${mv(n.path)}${function cb(n){return Object.keys(n).map(e=>`;${mv(e)}=${mv(n[e])}`).join("")}(n.parameters)}`}const lb=/^[^\/()?;#]+/;function vg(n){const e=n.match(lb);return e?e[0]:""}const qx=/^[^\/()?;=#]+/,_g=/^[^=?&#]+/,Ld=/^[^&#]+/;class fb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new fn(e,t)),r}parseSegment(){const e=vg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new rl(Tf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function db(n){const e=n.match(qx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=vg(this.remaining);o&&(r=o,this.capture(r))}e[Tf(t)]=Tf(r)}parseQueryParam(e){const t=function hb(n){const e=n.match(_g);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Af(n){const e=n.match(Ld);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=yg(t),u=yg(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Bt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Bt]:new fn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function yv(n){return n.segments.length>0?new fn([],{[Bt]:n}):n}function u0(n){const e={};for(const r of Object.keys(n.children)){const u=u0(n.children[r]);if(r===Bt&&0===u.segments.length&&u.hasChildren())for(const[l,g]of Object.entries(u.children))e[l]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function pb(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}function sl(n){return n instanceof bf}function vv(n){let e;const o=yv(function t(u){const l={};for(const _ of u.children){const b=t(_);l[_.outlet]=b}const g=new fn(u.url,l);return u===n&&(e=g),g}(n.root));return e??o}function Eg(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return l0(o,o,o,t,r);const u=function Ig(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ol(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([_,b])=>{g[_]="string"==typeof b?b.split("/"):b}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new ol(t,e,r)}(e);if(u.toRoot())return l0(o,o,new fn([],{}),t,r);const l=function d0(n,e,t){if(n.isAbsolute)return new Mf(e,!0,0);if(!t)return new Mf(e,!1,NaN);if(null===t.parent)return new Mf(t,!0,0);const r=ju(n.commands[0])?0:1;return function gb(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,!1);o=r.segments.length}return new Mf(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),g=l.processChildren?xf(l.segmentGroup,l.index,u.commands):h0(l.segmentGroup,l.index,u.commands);return l0(o,l.segmentGroup,g,t,r)}function ju(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vd(n){return"object"==typeof n&&null!=n&&n.outlets}function l0(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([_,b])=>{u[_]=Array.isArray(b)?b.map(A=>`${A}`):`${b}`}),l=n===e?t:wg(n,e,t);const g=yv(u0(l));return new bf(g,u,o)}function wg(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:wg(u,e,t)}),new fn(n.segments,r)}class ol{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ju(r[0]))throw new h.vHH(4003,!1);const o=r.find(Vd);if(o&&o!==lg(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function h0(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return xf(n,e,t);const r=function yb(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],g=t[r];if(Vd(g))break;const _=`${g}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!sa(_,b,l))return u;r+=2}else{if(!sa(_,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new fn(n.segments.slice(0,r.pathIndex),{});return u.children[Bt]=new fn(n.segments.slice(r.pathIndex),n.children),xf(u,0,o)}return r.match&&0===o.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?_v(n,e,t):r.match?xf(n,0,o):_v(n,e,t)}function xf(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function mb(n){return Vd(n[0])?n[0].outlets:{[Bt]:n}}(t),o={};if(!r[Bt]&&n.children[Bt]&&1===n.numberOfChildren&&0===n.children[Bt].segments.length){const u=xf(n.children[Bt],e,t);return new fn(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=h0(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new fn(n.segments,o)}}function _v(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Vd(u)){const _=f0(u.outlets);return new fn(r,_)}if(0===o&&ju(t[0])){r.push(new rl(n.segments[e].path,al(t[0]))),o++;continue}const l=Vd(u)?u.outlets[Bt]:`${u}`,g=o<t.length-1?t[o+1]:null;l&&g&&ju(g)?(r.push(new rl(l,al(g))),o+=2):(r.push(new rl(l,{})),o++)}return new fn(r,{})}function f0(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=_v(new fn([],{}),0,r))}),e}function al(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sa(n,e,t){return n==t.path&&As(e,t.parameters)}const Ud="imperative";class Ba{constructor(e,t){this.id=e,this.url=t}}class Ev extends Ba{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bd extends Ba{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wv extends Ba{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jd extends Ba{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class Dg extends Ba{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kx extends Ba{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p0 extends Ba{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cg extends Ba{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class g0 extends Ba{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m0 extends Ba{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _b{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $d,this.attachRef=null}}let $d=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _b,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class E0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}}function bg(n,e){if(n===e.value)return e;for(const t of e.children){const r=bg(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}class ja{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cv extends E0{constructor(e,t){super(e),this.snapshot=t,Rf(this,e)}toString(){return this.snapshot.toString()}}function bv(n,e){const t=function $u(n,e){const l=new ul([],{},{},"",{},Bt,e,null,{});return new cl("",new ja(l,[]))}(0,e),r=new xo.X([new rl("",{})]),o=new xo.X({}),u=new xo.X({}),l=new xo.X({}),g=new xo.X(""),_=new No(r,o,l,g,u,Bt,e,t.root);return _.snapshot=t.root,new Cv(new ja(_,[]),t)}class No{constructor(e,t,r,o,u,l,g,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Vt.U)(b=>b[cg]))??(0,Dt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>Pd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>Pd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Eb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ul{get title(){return this.data?.[cg]}constructor(e,t,r,o,u,l,g,_,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=g,this.routeConfig=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cl extends E0{constructor(e,t){super(t),this.url=e,Rf(this,t)}toString(){return Hd(this._root)}}function Rf(n,e){e.value._routerState=n,e.children.forEach(t=>Rf(n,t))}function Hd(n){const e=n.children.length>0?` { ${n.children.map(Hd).join(", ")} } `:"";return`${n.value}${e}`}function Tg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,As(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),As(e.params,t.params)||n.paramsSubject.next(t.params),function Wx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!As(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),As(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Of(n,e){const t=As(n.params,e.params)&&function s0(n,e){return il(n,e)&&n.every((t,r)=>As(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Of(n.parent,e.parent))}let Pf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)($d),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(kf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new Sv(t,g,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class Sv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===No?this.route:e===$d?this.childContexts:this.parent.get(e,t)}}const kf=new h.OlP("");let Sg=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Ef([r.queryParams,r.params,r.data]).pipe((0,fr.w)(([u,l,g],_)=>(g={...u,...l,...g},0===_?(0,Dt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ff(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Ib(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ff(n,r,o);return Ff(n,r)})}(n,e,t);return new ja(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Ff(n,g)),l}}const r=function w0(n){return new No(new xo.X(n.url),new xo.X(n.params),new xo.X(n.queryParams),new xo.X(n.fragment),new xo.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ff(n,u));return new ja(r,o)}}const Av="ngNavigationCancelingError";function I0(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=D0(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function D0(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Av]=!0,r.cancellationCode=e,t&&(r.url=t),r}function C0(n){return Mv(n)&&sl(n.url)}function Mv(n){return n&&n[Av]}let xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[Pf],encapsulation:2}),n})();function Nv(n){const e=n.children&&n.children.map(Nv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=xv),t}function Ro(n){return n.outlet||Bt}function Lf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class bb{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Tg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Nf(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Nf(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Nf(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Nf(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new vb(u.value.snapshot))}),e.children.length&&this.forwardEvent(new _0(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Tg(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),Tg(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=Lf(o.snapshot);l.attachRef=null,l.route=o,l.injector=g,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class A0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ag{constructor(e,t){this.component=e,this.route=t}}function Tb(n,e,t){const r=n._root;return ll(r,e?e._root:null,t,[r.value])}function Gi(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function ll(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Nf(e);return n.children.forEach(l=>{(function Ab(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const _=function M0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!il(n.url,e.url);case"pathParamsOrQueryParamsChange":return!il(n.url,e.url)||!As(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(n,e)||!As(n.queryParams,e.queryParams);default:return!Of(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new A0(r)):(u.data=l.data,u._resolvedData=l._resolvedData),ll(n,e,u.component?g?g.children:null:t,r,o),_&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Ag(g.outlet.component,l))}else l&&Vf(e,g,o),o.canActivateChecks.push(new A0(r)),ll(n,null,u.component?g?g.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,g])=>Vf(g,t.getContext(l),o)),o}function Vf(n,e,t){const r=Nf(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Vf(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ag(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function zd(n){return"function"==typeof n}function xg(n){return n instanceof xd||"EmptyError"===n?.name}const no=Symbol("INITIAL_VALUE");function Gd(){return(0,fr.w)(n=>Ef(n.map(e=>e.pipe(Uu(1),function sb(...n){const e=(0,Ca.yG)(n);return(0,Hi.e)((t,r)=>{(e?Va(n,t,e):Va(n,t)).subscribe(r)})}(no)))).pipe((0,Vt.U)(e=>{for(const t of e)if(!0!==t){if(t===no)return no;if(!1===t||t instanceof bf)return t}return!0}),Ao(e=>e!==no),Uu(1)))}function Wd(n){return(0,cv.z)((0,zi.b)(e=>{if(sl(e))throw I0(0,e)}),(0,Vt.U)(e=>!0===e))}class kv{constructor(e){this.segmentGroup=e||null}}class k0{constructor(e){this.urlTree=e}}function dl(n){return Fu(new kv(n))}function Fv(n){return Fu(new k0(n))}class F0{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Dt.of)(r);if(o.numberOfChildren>1||!o.children[Bt])return Fu(new h.vHH(4e3,!1));o=o.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new bf(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[o]=t[g]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([g,_])=>{l[g]=this.createSegmentGroup(e,_,r,o)}),new fn(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Og={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uf(n,e,t,r,o){const u=Lv(n,e,t);return u.matched?(r=function Db(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Rg(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Dt.of)(!0);const u=o.map(l=>{const g=Gi(l,n);return ia(function R0(n){return n&&zd(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,Dt.of)(u).pipe(Gd(),Wd())}(r,e,t).pipe((0,Vt.U)(l=>!0===l?u:{...Og}))):(0,Dt.of)(u)}function Lv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Og}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Gx)(t,n,e);if(!o)return{...Og};const u={};Object.entries(o.posParams??{}).forEach(([g,_])=>{u[g]=_.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function Vv(n,e,t,r){return t.length>0&&function Vb(n,e,t){return t.some(r=>Pg(n,e,r)&&Ro(r)!==Bt)}(n,t,r)?{segmentGroup:new fn(e,Lb(r,new fn(t,n.children))),slicedSegments:[]}:0===t.length&&function Bf(n,e,t){return t.some(r=>Pg(n,e,r))}(n,t,r)?{segmentGroup:new fn(n.segments,L0(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fn(n.segments,n.children),slicedSegments:t}}function L0(n,e,t,r,o){const u={};for(const l of r)if(Pg(n,t,l)&&!o[Ro(l)]){const g=new fn([],{});u[Ro(l)]=g}return{...o,...u}}function Lb(n,e){const t={};t[Bt]=e;for(const r of n)if(""===r.path&&Ro(r)!==Bt){const o=new fn([],{});t[Ro(r)]=o}return t}function Pg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jb{constructor(e,t,r,o,u,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new F0(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Vv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe(tl(t=>{if(t instanceof k0)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof kv?this.noMatchError(t):t}),(0,Vt.U)(t=>{const r=new ul([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),o=new ja(r,t),u=new cl("",o),l=function c0(n,e,t=null,r=null){return Eg(vv(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Bt).pipe(tl(r=>{throw r instanceof kv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Tv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,_n.D)(o).pipe(ka(u=>{const l=r.children[u],g=function S0(n,e){const t=n.filter(r=>Ro(r)===e);return t.push(...n.filter(r=>Ro(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,l,u)}),function t0(n,e){return(0,Hi.e)(function dv(n,e,t,r,o){return(u,l)=>{let g=t,_=e,b=0;u.subscribe((0,$r.x)(l,A=>{const N=b++;_=g?n(_,A,N):(g=!0,A),r&&l.next(_)},o&&(()=>{g&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),ug(null),function n0(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ao((o,u)=>n(o,u,r)):_f.y,hv(1),t?ug(e):lv(()=>new xd))}(),(0,oi.z)(u=>{if(null===u)return dl(r);const l=V0(u);return function $b(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,Dt.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,_n.D)(t).pipe(ka(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,o,u,l).pipe(tl(_=>{if(_ instanceof kv)return(0,Dt.of)(null);throw _}))),Bu(g=>!!g),tl(g=>{if(xg(g))return function Ub(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,Dt.of)([]):dl(r);throw g}))}processSegmentAgainstRoute(e,t,r,o,u,l,g){return function iN(n,e,t,r){return!!(Ro(n)===r||r!==Bt&&Pg(e,t,n))&&("**"===n.path||Lv(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):dl(o):dl(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Fv(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,oi.z)(l=>{const g=new fn(l,{});return this.processSegment(e,t,g,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:g,consumedSegments:_,remainingSegments:b,positionalParamSegments:A}=Lv(t,o,u);if(!g)return dl(t);const N=this.applyRedirects.applyRedirectCommands(_,o.redirectTo,A);return o.redirectTo.startsWith("/")?Fv(N):this.applyRedirects.lineralizeSegments(o,N).pipe((0,oi.z)(B=>this.processSegment(e,r,t,B.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let g;if("**"===r.path){const _=o.length>0?lg(o).parameters:{},b=new ul(o,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uv(r),Ro(r),r.component??r._loadedComponent??null,r,kg(r));g=(0,Dt.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=Uf(t,r,o,e).pipe((0,Vt.U)(({matched:_,consumedSegments:b,remainingSegments:A,parameters:N})=>_?{snapshot:new ul(b,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uv(r),Ro(r),r.component??r._loadedComponent??null,r,kg(r)),consumedSegments:b,remainingSegments:A}:null));return g.pipe((0,fr.w)(_=>null===_?dl(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,fr.w)(({routes:b})=>{const A=r._loadedInjector??e,{snapshot:N,consumedSegments:B,remainingSegments:Q}=_,{segmentGroup:fe,slicedSegments:ye}=Vv(t,B,Q,b);if(0===ye.length&&fe.hasChildren())return this.processChildren(A,b,fe).pipe((0,Vt.U)(ot=>null===ot?null:[new ja(N,ot)]));if(0===b.length&&0===ye.length)return(0,Dt.of)([new ja(N,[])]);const Ce=Ro(r)===u;return this.processSegment(A,b,fe,ye,Ce?Bt:u,!0).pipe((0,Vt.U)(ot=>[new ja(N,ot)]))}))))}getChildConfig(e,t,r){return t.children?(0,Dt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Dt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ng(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Dt.of)(!0);const u=o.map(l=>{const g=Gi(l,n);return ia(function Mg(n){return n&&zd(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,Dt.of)(u).pipe(Gd(),Wd())}(e,t,r).pipe((0,oi.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,zi.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Fb(n){return Fu(D0(!1,3))}())):(0,Dt.of)({routes:[],injector:e})}}function Hb(n){const e=n.value.routeConfig;return e&&""===e.path}function V0(n){const e=[],t=new Set;for(const r of n){if(!Hb(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=V0(r.children);e.push(new ja(r.value,o))}return e.filter(r=>!t.has(r))}function Uv(n){return n.data||{}}function kg(n){return n.resolve||{}}function U0(n){return"string"==typeof n.title||null===n.title}function Bv(n){return(0,fr.w)(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,Vt.U)(()=>e)):(0,Dt.of)(e)})}const qd=new h.OlP("ROUTES");let Lg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Dt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ia(t.loadComponent()).pipe((0,Vt.U)(j0),(0,zi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Xc(()=>{this.componentLoaders.delete(t)})),o=new Vu(r,()=>new Ua.x).pipe(Rd());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Dt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Vt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b;return Array.isArray(g)?b=g:(_=g.create(t).injector,b=_.get(qd,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:b.map(Nv),injector:_}}),Xc(()=>{this.childrenLoaders.delete(r)})),l=new Vu(u,()=>new Ua.x).pipe(Rd());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return ia(t()).pipe((0,Vt.U)(j0),(0,oi.z)(r=>r instanceof h.YKP||Array.isArray(r)?(0,Dt.of)(r):(0,_n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j0(n){return function B0(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let jv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ua.x,this.configLoader=(0,h.f3M)(Lg),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(kd),this.rootContexts=(0,h.f3M)($d),this.inputBindingEnabled=null!==(0,h.f3M)(kf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Pt(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new y0(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new xo.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ud,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ao(r=>0!==r.id),(0,Vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,fr.w)(r=>{let o=!1,u=!1;return(0,Dt.of)(r).pipe((0,zi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fr.w)(l=>{const g=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new jd(l.id,t.serializeUrl(r.rawUrl),A,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Lu.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $v(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,Dt.of)(l).pipe((0,fr.w)(A=>{const N=this.transitions?.getValue();return this.events.next(new Ev(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions?.getValue()?Lu.E:Promise.resolve(A)}),function zb(n,e,t,r,o,u){return(0,oi.z)(l=>function Bb(n,e,t,r,o,u,l="emptyOnly"){return new jb(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,Vt.U)(({state:g,tree:_})=>({...l,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,zi.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,r.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(B,A)}t.browserUrlTree=A.urlAfterRedirects}const N=new Kx(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(N)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:A,extractedUrl:N,source:B,restoredState:Q,extras:fe}=l,ye=new Ev(A,this.urlSerializer.serialize(N),B,Q);this.events.next(ye);const Ce=bv(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:Ce,urlAfterRedirects:N,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},(0,Dt.of)(r)}{const A="";return this.events.next(new jd(l.id,t.serializeUrl(r.extractedUrl),A,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Lu.E}}),(0,zi.b)(l=>{const g=new p0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,Vt.U)(l=>r={...l,guards:Tb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function xb(n,e){return(0,oi.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Dt.of)({...t,guardsResult:!0}):function Pv(n,e,t,r){return(0,_n.D)(n).pipe((0,oi.z)(o=>function Pb(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Dt.of)(!0);const l=u.map(g=>{const _=Lf(e)??o,b=Gi(g,_);return ia(function N0(n){return n&&zd(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Bu())});return(0,Dt.of)(l).pipe(Gd())}(o.component,o.route,t,e,r)),Bu(o=>!0!==o,!0))}(l,r,o,n).pipe((0,oi.z)(g=>g&&function x0(n){return"boolean"==typeof n}(g)?function Nb(n,e,t,r){return(0,_n.D)(e).pipe(ka(o=>Va(function Ob(n,e){return null!==n&&e&&e(new v0(n)),(0,Dt.of)(!0)}(o.route.parent,r),function Rb(n,e){return null!==n&&e&&e(new Zx(n)),(0,Dt.of)(!0)}(o.route,r),function P0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function Sb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>e0(()=>{const g=l.guards.map(_=>{const b=Lf(l.node)??t,A=Gi(_,b);return ia(function nN(n){return n&&zd(n.canActivateChild)}(A)?A.canActivateChild(r,n):b.runInContext(()=>A(r,n))).pipe(Bu())});return(0,Dt.of)(g).pipe(Gd())}));return(0,Dt.of)(u).pipe(Gd())}(n,o.path,t),function rN(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const o=r.map(u=>e0(()=>{const l=Lf(e)??t,g=Gi(u,l);return ia(function Ov(n){return n&&zd(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Bu())}));return(0,Dt.of)(o).pipe(Gd())}(n,o.route,t))),Bu(o=>!0!==o,!0))}(r,u,n,e):(0,Dt.of)(g)),(0,Vt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,zi.b)(l=>{if(r.guardsResult=l.guardsResult,sl(l.guardsResult))throw I0(0,l.guardsResult);const g=new Cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),Ao(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Bv(l=>{if(l.guards.canActivateChecks.length)return(0,Dt.of)(l).pipe((0,zi.b)(g=>{const _=new g0(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),(0,fr.w)(g=>{let _=!1;return(0,Dt.of)(g).pipe(function Fg(n,e){return(0,oi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Dt.of)(t);let u=0;return(0,_n.D)(o).pipe(ka(l=>function Gb(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!U0(o)&&(u[cg]=o.title),function Wb(n,e,t,r){const o=function qb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Dt.of)({});const u={};return(0,_n.D)(o).pipe((0,oi.z)(l=>function Kb(n,e,t,r){const o=Lf(e)??r,u=Gi(n,o);return ia(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Bu(),(0,zi.b)(g=>{u[l]=g}))),hv(1),function fv(n){return(0,Vt.U)(()=>n)}(u),tl(l=>xg(l)?Lu.E:Fu(l)))}(u,n,e,r).pipe((0,Vt.U)(l=>(n._resolvedData=l,n.data=Tv(n,t).resolve,o&&U0(o)&&(n.data[cg]=o.title),null)))}(l.route,r,n,e)),(0,zi.b)(()=>u++),hv(1),(0,oi.z)(l=>u===o.length?(0,Dt.of)(t):Lu.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,zi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,zi.b)(g=>{const _=new m0(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Bv(l=>{const g=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,zi.b)(A=>{_.component=A}),(0,Vt.U)(()=>{})));for(const A of _.children)b.push(...g(A));return b};return Ef(g(l.targetSnapshot.root)).pipe(ug(),Uu(1))}),Bv(()=>this.afterPreactivation()),(0,Vt.U)(l=>{const g=function wb(n,e,t){const r=Ff(n,e._root,t?t._root:void 0);return new Cv(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,zi.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,Vt.U)(o=>(new bb(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Uu(1),(0,zi.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Bd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Xc(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),tl(l=>{if(u=!0,Mv(l)){C0(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new wv(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),C0(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||$v(r.source)};t.scheduleNavigation(_,Ud,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Dg(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return Lu.E}))}))}cancelNavigationTransition(t,r,o){const u=new wv(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $v(n){return n!==Ud}let Hv=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[cg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(oN)},providedIn:"root"}),n})(),oN=(()=>{class n extends Hv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Yb)},providedIn:"root"}),n})();class Zb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Yb=(()=>{class n extends Zb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kd=new h.OlP("",{providedIn:"root",factory:()=>({})});let Qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(oa)},providedIn:"root"}),n})(),oa=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ai=(()=>((ai=ai||{})[ai.COMPLETE=0]="COMPLETE",ai[ai.FAILED=1]="FAILED",ai[ai.REDIRECTING=2]="REDIRECTING",ai))();function ui(n,e){n.events.pipe(Ao(t=>t instanceof Bd||t instanceof wv||t instanceof Dg||t instanceof jd),(0,Vt.U)(t=>t instanceof Bd||t instanceof jd?ai.COMPLETE:t instanceof wv&&(0===t.code||1===t.code)?ai.REDIRECTING:ai.FAILED),Ao(t=>t!==ai.REDIRECTING),Uu(1)).subscribe(()=>{e()})}function hl(n){throw n}function Ug(n,e,t){return e.parse("/")}const ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Kd,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||hl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ug,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Qb),this.routeReuseStrategy=(0,h.f3M)(Vg),this.titleStrategy=(0,h.f3M)(Hv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(qd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(jv),this.urlSerializer=(0,h.f3M)(kd),this.location=(0,h.f3M)(He),this.componentInputBindingEnabled=!!(0,h.f3M)(kf,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bv(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ud,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:l;let N,A=null;switch(g){case"merge":A={...this.currentUrlTree.queryParams,...u};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}null!==A&&(A=this.removeEmptyProps(A));try{N=vv(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),N=this.currentUrlTree.root}return Eg(N,t,A,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=sl(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Ud,null,r)}navigate(t,r={skipLocationChange:!1}){return function Zd(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...ro}:!1===r?{...zv}:r,sl(t))return hg(this.currentUrlTree,t,o);const u=this.parseUrl(t);return hg(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let g,_,b;l?(g=l.resolve,_=l.reject,b=l.promise):b=new Promise((N,B)=>{g=N,_=B});const A=this.pendingTasks.add();return ui(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$a=(()=>{class n{constructor(t,r,o,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Ua.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Bd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Gr),h.Y36(No),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Fe))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),n})();class fl{}let Jd=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ao(t=>t instanceof Bd),ka(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,_n.D)(o).pipe((0,Nd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Dt.of)(null);const u=o.pipe((0,oi.z)(l=>null===l?(0,Dt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,_n.D)([u,l]).pipe((0,Nd.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(fl),h.LFG(Lg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bg=new h.OlP("");let Gv=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bd?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Iv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Iv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function aa(n,e){return{\u0275kind:n,\u0275providers:e}}function jg(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Gr),o=n.get(H0);1===n.get(z0)&&r.initialNavigation(),n.get(rT,null,h.XFs.Optional)?.setUpPreloading(),n.get(Bg,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const H0=new h.OlP("",{factory:()=>new Ua.x}),z0=new h.OlP("",{providedIn:"root",factory:()=>1}),rT=new h.OlP("");function iT(n){return aa(0,[{provide:rT,useExisting:Jd},{provide:fl,useExisting:n}])}const Xd=new h.OlP("ROUTER_FORROOT_GUARD"),qv=[He,{provide:kd,useClass:pg},Gr,$d,{provide:No,useFactory:function Wv(n){return n.routerState.root},deps:[Gr]},Lg,[]];function $g(){return new h.PXZ("Router",Gr)}let Kv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qv,[],{provide:qd,multi:!0,useValue:t},{provide:Xd,useFactory:zf,deps:[[Gr,new h.FiY,new h.tp0]]},{provide:Kd,useValue:r||{}},r?.useHash?{provide:Fe,useClass:We}:{provide:Fe,useClass:$e},{provide:Bg,useFactory:()=>{const n=(0,h.f3M)(Es),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Kd),r=(0,h.f3M)(jv),o=(0,h.f3M)(kd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Gv(o,r,n,e,t)}},r?.preloadingStrategy?iT(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:$g},r?.initialNavigation?aT(r):[],r?.bindToComponentInputs?aa(8,[Sg,{provide:kf,useExisting:Sg}]).\u0275providers:[],[{provide:q0,useFactory:jg},{provide:h.tb,multi:!0,useExisting:q0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:qd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xd,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function zf(n){return"guarded"}function aT(n){return["disabled"===n.initialNavigation?aa(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Gr);return()=>{e.setUpLocationChangeListener()}}},{provide:z0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?aa(2,[{provide:z0,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ge,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Gr),u=e.get(H0);ui(o,()=>{r(!0)}),e.get(jv).afterPreactivation=()=>(r(!0),u.closed?(0,Dt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const q0=new h.OlP("");var cT=k(6878),wr=k(9058),Ha=k(534),Hu=k(7879),Qv=k(4537),lT=k(3019),Gf=k(3093),Z0=k(4552);class Y0 extends Ua.x{constructor(e=1/0,t=1/0,r=Z0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)g=_;g&&r.splice(0,g+1)}}}var dT=k(3020);function Q0(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,dT.B)({connector:()=>new Y0(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function J0(n,e){return(0,Td.m)(e)?(0,fr.w)(()=>n,e):(0,fr.w)(()=>n)}var Hg=k(5137),On=k(543),za=k(6304),pl=k(3182);class Ga{constructor(e){return e}}class Wf{constructor(){return(0,pl.C6)()}}const Jv=new h.OlP("angularfire2._apps"),hT={provide:Ga,useFactory:function eI(n){return n&&1===n.length?n[0]:new Ga((0,pl.Mq)())},deps:[[new h.FiY,Jv]]},fT={provide:Wf,deps:[[new h.FiY,Jv]]};function zg(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ga(r)}}let Gg=(()=>{class n{constructor(t){(0,pl.KN)("angularfire",On.q4.full,"core"),(0,pl.KN)("angularfire",On.q4.full,"app"),(0,pl.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[hT,fT]}),n})();function tI(n,...e){return{ngModule:Gg,providers:[{provide:Jv,useFactory:zg(n),multi:!0,deps:[h.R0b,h.zs3,On.HU,...e]}]}}const nI=(0,On.u3)(pl.ZF,!0);var it=k(5861);const Xv=new Map,e_={activated:!1,tokenObservers:[]},sI={initialized:!1,enabled:!1};function Zn(n){return Xv.get(n)||Object.assign({},e_)}function Wg(){return sI}const t_="https://content-firebaseappcheck.googleapis.com/v1",n_="exchangeDebugToken",r_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cI{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new wr.BH,yield function lI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wr.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wr=new wr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qg(n){if(!Zn(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function Kg(n,e){return i_.apply(this,arguments)}function i_(){return(i_=(0,it.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(N){throw Wr.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw Wr.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(N){throw Wr.create("fetch-parse-error",{originalErrorMessage:N?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const b=1e3*Number(_[1]),A=Date.now();return{token:g.token,expireTimeMillis:A+b,issuedAtTimeMillis:A}})).apply(this,arguments)}function Zg(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${t_}/projects/${t}/apps/${r}:${n_}?key=${o}`,body:{debug_token:e}}}const yT="firebase-app-check-database",o_=1,Yg="firebase-app-check-store";let Qg=null;function a_(){return(a_=(0,it.Z)(function*(n,e){const r=(yield function hI(){return Qg||(Qg=new Promise((n,e)=>{try{const t=indexedDB.open(yT,o_);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Wr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yg,{keyPath:"compositeKey"})}}catch(t){e(Wr.create("storage-open",{originalErrorMessage:t?.message}))}}),Qg)}()).transaction(Yg,"readwrite"),u=r.objectStore(Yg).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=_=>{l()},r.onerror=_=>{var b;g(Wr.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const th=new Hu.Yd("@firebase/app-check");function h_(n,e){return(0,wr.hl)()?function _T(n,e){return function gI(n,e){return a_.apply(this,arguments)}(function l_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{th.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jg(){return Wg().enabled}function yI(){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,it.Z)(function*(){const n=Wg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ua={error:"UNKNOWN_ERROR"};function ET(n){return wr.US.encodeString(JSON.stringify(n),!1)}function em(n){return io.apply(this,arguments)}function io(){return(io=(0,it.Z)(function*(n,e=!1){const t=n.app;qg(t);const r=Zn(t);let u,o=r.token;if(o&&!rh(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(rh(_)?o=_:yield h_(t,void 0))}if(!e&&o&&rh(o))return{token:o.token};let g,l=!1;if(Jg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Kg(Zg(t,yield yI()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield h_(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Zn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?th.warn(_.message):th.error(_),u=_}return o?u?g=rh(o)?{token:o.token,internalError:u}:rm(u):(g={token:o.token},r.token=o,yield h_(t,o)):g=rm(u),l&&function _I(n,e){const t=Zn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function so(n){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,it.Z)(function*(n){const e=n.app;qg(e);const{provider:t}=Zn(e);if(Jg()){const r=yield yI(),{token:o}=yield Kg(Zg(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function nm(n,e){const t=Zn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function vI(n){const{app:e}=n,t=Zn(e);let r=t.tokenRefresher;r||(r=function wT(n){const{app:e}=n;return new cI((0,it.Z)(function*(){let r;if(r=Zn(e).token?yield em(n,!0):yield em(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Zn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},r_.RETRIAL_MIN_WAIT,r_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rh(n){return n.expireTimeMillis-Date.now()>0}function rm(n){return{token:ET(ua),error:n}}class Kf{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Zn(this.app);for(const t of e)nm(this.app,t.next);return Promise.resolve()}}const CI="app-check-internal";!function xT(){(0,Ha._registerComponent)(new Qv.wA("app-check",n=>function IT(n,e){return new Kf(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CI).initialize()})),(0,Ha._registerComponent)(new Qv.wA(CI,n=>function EI(n){return{getToken:e=>em(n,e),getLimitedUseToken:()=>so(n),addTokenListener:e=>function tm(n,e,t,r){const{app:o}=n,u=Zn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&rh(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),vI(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>vI(n))}(n,"INTERNAL",e),removeTokenListener:e=>nm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ha.registerVersion)("@firebase/app-check","0.8.0")}();class T_{constructor(){return(0,On.vb)("app-check")}}typeof window<"u"&&window,k(7142);const AI=new h.OlP("angularfire2.auth.use-emulator"),MI=new h.OlP("angularfire2.auth.settings"),ml=new h.OlP("angularfire2.auth.tenant-id"),jT=new h.OlP("angularfire2.auth.langugage-code"),$T=new h.OlP("angularfire2.auth.use-device-language"),ih=new h.OlP("angularfire.auth.persistence");let om=(()=>{class n{constructor(t,r,o,u,l,g,_,b,A,N,B,Q){const fe=new Ua.x,ye=(0,Dt.of)(void 0).pipe((0,Gf.Q)(l.outsideAngular),(0,fr.w)(()=>u.runOutsideAngular(()=>k.e(365).then(k.bind(k,6365)))),(0,Vt.U)(()=>(0,za.on)(t,u,r)),(0,Vt.U)(Ce=>((n,e,t,r,o,u,l,g)=>(0,za.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,u&&_.useDeviceLanguage(),l)for(const[b,A]of Object.entries(l))_.settings[b]=A;return g&&_.setPersistence(g),_},[t,r,o,u,l,g]))(Ce,u,g,b,A,N,_,B)),Q0({bufferSize:1,refCount:!1}));if(Bs(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{ye.pipe(Bu()).subscribe();const ot=ye.pipe((0,fr.w)(Mt=>Mt.getRedirectResult().then(Gt=>Gt,()=>null)),On.iC,Q0({bufferSize:1,refCount:!1})),bt=ye.pipe((0,fr.w)(Mt=>new Nr.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onAuthStateChanged(nn=>Gt.next(nn),nn=>Gt.error(nn),()=>Gt.complete()))})))),at=ye.pipe((0,fr.w)(Mt=>new Nr.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onIdTokenChanged(nn=>Gt.next(nn),nn=>Gt.error(nn),()=>Gt.complete()))}))));this.authState=ot.pipe(J0(bt),(0,Hg.R)(l.outsideAngular),(0,Gf.Q)(l.insideAngular)),this.user=ot.pipe(J0(at),(0,Hg.R)(l.outsideAngular),(0,Gf.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,fr.w)(Mt=>Mt?(0,_n.D)(Mt.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,fr.w)(Mt=>Mt?(0,_n.D)(Mt.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,lT.T)(ot,fe,this.authState.pipe(Ao(Mt=>!Mt))).pipe((0,Vt.U)(Mt=>Mt?.user?Mt:null),(0,Hg.R)(l.outsideAngular),(0,Gf.Q)(l.insideAngular))}return(0,za.pX)(this,ye,u,{spy:{apply:(Ce,ot,bt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&bt.then(at=>fe.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(za.Dh),h.LFG(za.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(On.HU),h.LFG(AI,8),h.LFG(MI,8),h.LFG(ml,8),h.LFG(jT,8),h.LFG($T,8),h.LFG(ih,8),h.LFG(T_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class HT{constructor(){return(0,On.vb)("auth")}}var Qe,xI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po={},O_=O_||{},Rt=xI||self;function pm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gm="closure_uid_"+(1e9*Math.random()>>>0),NI=0;function cS(n,e,t){return n.call.apply(n.bind,arguments)}function lS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Ai(n,e,t){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cS:lS).apply(null,arguments)}function sh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[o].apply(r,l)}}function Wa(){this.s=this.s,this.o=this.o}Wa.prototype.s=!1,Wa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function uS(n){Object.prototype.hasOwnProperty.call(n,gm)&&n[gm]||(n[gm]=++NI)}(this)},Wa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function P_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function OI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pm(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mi.prototype.h=function(){this.defaultPrevented=!0};var hS=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",()=>{},e),Rt.removeEventListener("test",()=>{},e)}catch{}return n}();function Qf(n){return/^[\s\xa0]*$/.test(n)}function mm(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function ko(n){return-1!=mm().indexOf(n)}function ym(n){return ym[" "](n),n}ym[" "]=function(){};var _m,n,pS=ko("Opera"),vl=ko("Trident")||ko("MSIE"),PI=ko("Edge"),k_=PI||vl,kI=ko("Gecko")&&!(-1!=mm().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),F_=-1!=mm().toLowerCase().indexOf("webkit")&&!ko("Edge");function vm(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Jf="",L_=(n=mm(),kI?/rv:([^\);]+)(\)|;)/.exec(n):PI?/Edge\/([\d\.]+)/.exec(n):vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):F_?/WebKit\/(\S+)/.exec(n):pS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(L_&&(Jf=L_?L_[1]:""),vl){var V_=vm();if(null!=V_&&V_>parseFloat(Jf)){_m=String(V_);break e}}_m=Jf}var LI=Rt.document&&vl&&(vm()||parseInt(_m,10))||void 0;function ca(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kI){e:{try{ym(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ca.$.h.call(this)}}qr(ca,Mi);var VI={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ep="closure_listenable_"+(1e6*Math.random()|0),KN=0;function U_(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++KN,this.fa=this.ia=!1}function oh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function B_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function j_(n){const e={};for(const t in n)e[t]=n[t];return e}const BI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<BI.length;u++)t=BI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ah(n){this.src=n,this.g={},this.h=0}function Em(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=RI(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(oh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wm(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}ah.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=wm(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new U_(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Im="closure_lm_"+(1e6*Math.random()|0),Dm={};function jI(n,e,t,r,o){if(r&&r.once)return HI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)jI(n,e[u],t,r,o);return null}return t=W_(t),n&&n[ep]?n.O(e,t,yl(r)?!!r.capture:!!r,o):$I(n,e,t,!1,r,o)}function $I(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=yl(o)?!!o.capture:!!o,g=G_(n);if(g||(n[Im]=g=new ah(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function gS(){const e=mS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hS||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(z_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function HI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)HI(n,e[u],t,r,o);return null}return t=W_(t),n&&n[ep]?n.P(e,t,yl(r)?!!r.capture:!!r,o):$I(n,e,t,!0,r,o)}function H_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)H_(n,e[u],t,r,o);else r=yl(r)?!!r.capture:!!r,t=W_(t),n&&n[ep]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wm(u=n.g[e],t,r,o))&&(oh(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=G_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wm(e,t,r,o)),(t=-1<n?e[n]:null)&&zI(t))}function zI(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ep])Em(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(z_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=G_(e))?(Em(t,n),0==t.h&&(t.src=null,e[Im]=null)):oh(n)}}}function z_(n){return n in Dm?Dm[n]:Dm[n]="on"+n}function mS(n,e){if(n.fa)n=!0;else{e=new ca(e,this);var t=n.listener,r=n.la||n.src;n.ia&&zI(n),n=t.call(r,e)}return n}function G_(n){return(n=n[Im])instanceof ah?n:null}var GI="__closure_events_fn_"+(1e9*Math.random()>>>0);function W_(n){return"function"==typeof n?n:(n[GI]||(n[GI]=function(e){return n.handleEvent(e)}),n[GI])}function Kr(){Wa.call(this),this.i=new ah(this),this.S=this,this.J=null}function ci(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var o=e;$_(e=new Mi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=Cm(l,r,!0,e)&&o}if(o=Cm(l=e.g=n,r,!0,e)&&o,o=Cm(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Cm(l=e.g=t[u],r,!1,e)&&o}function Cm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,_=l.la||l.src;l.ia&&Em(n.i,l),o=!1!==g.call(_,r)&&o}}return o&&!r.defaultPrevented}qr(Kr,Wa),Kr.prototype[ep]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){H_(this,n,e,t,r)},Kr.prototype.N=function(){if(Kr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)oh(t[r]);delete n.g[e],n.h--}}this.J=null},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var q_=Rt.JSON.stringify;function vS(){var n=bm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var WI=new class yS{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ES,n=>n.reset());class ES{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function IS(n){Rt.setTimeout(()=>{throw n},0)}let qa,uh=!1,bm=new class _S{constructor(){this.h=this.g=null}add(e,t){const r=WI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},K_=()=>{const n=Rt.Promise.resolve(void 0);qa=()=>{n.then(qI)}};var qI=()=>{for(var n;n=vS();){try{n.h.call(n.g)}catch(t){IS(t)}var e=WI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uh=!1};function tp(n,e){Kr.call(this),this.h=n||1,this.g=e||Rt,this.j=Ai(this.qb,this),this.l=Date.now()}function Z_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Y_(n,e,t){if("function"==typeof n)t&&(n=Ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function DS(n){n.g=Y_(()=>{n.g=null,n.i&&(n.i=!1,DS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(tp,Kr),(Qe=tp.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ci(this,"tick"),this.ga&&(Z_(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){tp.$.N.call(this),Z_(this),delete this.g};class CS extends Wa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DS(this)}N(){super.N(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function np(n){Wa.call(this),this.h=n,this.g={}}qr(np,Wa);var KI=[];function ZI(n,e,t,r){Array.isArray(t)||(t&&(KI[0]=t.toString()),t=KI);for(var o=0;o<t.length;o++){var u=jI(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function YI(n){B_(n.g,function(e,t){this.g.hasOwnProperty(t)&&zI(e)},n),n.g={}}function zu(){this.g=!0}function Wi(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function J_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return q_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}np.prototype.N=function(){np.$.N.call(this),YI(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zu.prototype.Ea=function(){this.g=!1},zu.prototype.info=function(){};var Fo={},QI=null;function Tm(){return QI=QI||new Kr}function JI(n){Mi.call(this,Fo.Ta,n)}function Gu(n){const e=Tm();ci(e,new JI(e))}function X_(n,e){Mi.call(this,Fo.STAT_EVENT,n),this.stat=e}function qi(n){const e=Tm();ci(e,new X_(e,n))}function XI(n,e){Mi.call(this,Fo.Ua,n),this.size=e}function _l(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Fo.Ta="serverreachability",qr(JI,Mi),Fo.STAT_EVENT="statevent",qr(X_,Mi),Fo.Ua="timingevent",qr(XI,Mi);var Sm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Am(){}function nD(){}Am.prototype.h=null;var tE,ch={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lh(){Mi.call(this,"d")}function eE(){Mi.call(this,"c")}function rp(){}function dh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new np(this),this.P=rD,this.V=new tp(n=k_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mm}function Mm(){this.i=null,this.g="",this.h=!1}qr(lh,Mi),qr(eE,Mi),qr(rp,Am),rp.prototype.g=function(){return new XMLHttpRequest},rp.prototype.i=function(){return{}},tE=new rp;var rD=45e3,nE={},ip={};function xm(n,e,t){n.L=1,n.v=ap(la(e)),n.s=t,n.S=!0,iD(n,null)}function iD(n,e){n.G=Date.now(),hh(n),n.A=la(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),lD(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Mm,n.g=wE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new CS(Ai(n.Pa,n,n.g),n.O)),ZI(n.U,n.g,"readystatechange",n.nb),e=n.I?j_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Gu(),function bS(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),_=0;_<g.length;_++){var b=g[_].split("=");if(1<b.length){var A=b[0];b=b[1];var N=A.split("_");l=2<=N.length&&"type"==N[1]?l+(A+"=")+b+"&":l+(A+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function sD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Nm(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=rE(n,t),o==ip){4==e&&(n.o=4,qi(14),r=!1),Wi(n.j,n.m,null,"[Incomplete Response]");break}if(o==nE){n.o=4,qi(15),Wi(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Wi(n.j,n.m,o,null),iE(n,o)}sD(n)&&o!=ip&&o!=nE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),hp(e),e.M=!0,qi(11))):(Wi(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),sp(n))}function rE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ip:(t=Number(e.substring(t,r)),isNaN(t)?nE:(r+=1)+t>e.length?ip:(e=e.slice(r,r+t),n.C=r+t,e))}function hh(n){n.Y=Date.now()+n.P,Rm(n,n.P)}function Rm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_l(Ai(n.lb,n),e)}function fh(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function sp(n){0==n.l.H||n.J||fp(n.l,n)}function El(n){fh(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Z_(n.V),YI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function iE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||mh(t.i,n)))if(!n.K&&mh(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bm(t),vE(t)}Um(t),qi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=_l(Ai(t.ib,t),6e3));if(1>=hD(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else vh(t,11)}else if((n.K||t.g==n)&&Bm(t),!Qf(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const A=b[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const N=b[4];null!=N&&(t.Ga=N,t.l.info("SVER="+t.Ga));const B=b[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const fe=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fe){var u=r.i;u.g||-1==fe.indexOf("spdy")&&-1==fe.indexOf("quic")&&-1==fe.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(up(u,u.h),u.h=null))}if(r.F){const ye=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.Da=ye,Pn(r.I,r.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=HS(r,r.J?r.pa:null,r.Y),l.K){RS(r.i,l);var g=l,_=r.L;_&&g.setTimeout(_),g.B&&(fh(g),hh(g)),r.g=l}else jS(r);0<t.j.length&&_E(t)}else"stop"!=b[0]&&"close"!=b[0]||vh(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?vh(t,7):ED(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}Gu()}catch{}}function Om(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function oD(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function SS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Qe=dh.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Lo(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const A=Lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||k_||this.g&&(this.h.h||this.g.ja()||gE(this.g)))){this.J||4!=A||7==e||Gu(),fh(this);var t=this.g.da();this.ca=t;t:if(sD(this)){var r=gE(this.g);n="";var o=r.length,u=4==Lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){El(this),sp(this);var l="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Q_(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qf(g)){var b=g;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,qi(12),El(this),sp(this);break e}Wi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iE(this,t)}this.S?(Nm(this,A,l),k_&&this.i&&3==A&&(ZI(this.U,this.V,"tick",this.mb),this.V.start())):(Wi(this.j,this.m,l,null),iE(this,l)),4==A&&El(this),this.i&&!this.J&&(4==A?fp(this.l,this):(this.i=!1,hh(this)))}else(function vD(n){const e={};n=(n.g&&2<=Lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Qf(n[r]))continue;var t=wS(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function UI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),El(this),sp(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Lo(this.g),e=this.g.ja();this.C<e.length&&(fh(this),Nm(this,n,e),this.i&&4!=n&&hh(this))}},Qe.cancel=function(){this.J=!0,El(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function TS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gu(),qi(17)),El(this),this.o=2,sp(this)):Rm(this,this.Y-n)};var sE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wu){this.h=n.h,Pm(this,n.j),this.s=n.s,this.g=n.g,op(this,n.m),this.l=n.l;var e=n.i,t=new wl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oE(this,t),this.o=n.o}else n&&(e=String(n).match(sE))?(this.h=!1,Pm(this,e[1]||"",!0),this.s=ph(e[2]||""),this.g=ph(e[3]||"",!0),op(this,e[4]),this.l=ph(e[5]||"",!0),oE(this,e[6]||"",!0),this.o=ph(e[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}function la(n){return new Wu(n)}function Pm(n,e,t){n.j=t?ph(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function op(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oE(n,e,t){e instanceof wl?(n.i=e,function xS(n,e){e&&!n.j&&(oo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(cD(this,r),lD(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Pr(e,YN)),n.i=new wl(e,n.h))}function Pn(n,e,t){n.i.set(e,t)}function ap(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ph(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pr(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gh),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gh(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pr(e,aD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pr(e,aD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pr(t,"/"==t.charAt(0)?ZN:MS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pr(t,uD)),n.join("")};var aD=/[#\/\?@]/g,MS=/[#\?:]/g,ZN=/[#\?]/g,YN=/[#\?@]/g,uD=/#/g;function wl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function oo(n){n.g||(n.g=new Map,n.h=0,n.i&&function AS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cD(n,e){oo(n),e=Il(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function km(n,e){return oo(n),e=Il(n,e),n.g.has(e)}function lD(n,e,t){cD(n,e),0<t.length&&(n.i=null,n.g.set(Il(n,e),P_(t)),n.h+=t.length)}function Il(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dD(n){this.l=n||aE,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ka&&Rt.g.Ka()&&Rt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=wl.prototype).add=function(n,e){oo(this),this.i=null,n=Il(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){oo(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Qe.ta=function(){oo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Qe.Z=function(n){oo(this);let e=[];if("string"==typeof n)km(this,n)&&(e=e.concat(this.g.get(Il(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return oo(this),this.i=null,km(this,n=Il(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var aE=10;function uE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hD(n){return n.h?1:n.g?n.g.size:0}function mh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function up(n,e){n.g?n.g.add(e):n.h=e}function RS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return P_(n.i)}dD.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var OS=class{stringify(n){return Rt.JSON.stringify(n,void 0)}parse(n){return Rt.JSON.parse(n,void 0)}};function fD(){this.g=new OS}function yh(n,e,t){const r=t||"";try{Om(n,function(o,u){let l=o;yl(o)&&(l=q_(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function cp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Dl(n){this.l=n.fc||null,this.j=n.ob||!1}function lE(n,e){Kr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=dE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qr(Dl,Am),Dl.prototype.g=function(){return new lE(this.l,this.j)},Dl.prototype.i=function(n){return function(){return n}}({}),qr(lE,Kr);var dE=0;function kS(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dp(n)}function dp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=lE.prototype).open=function(n,e){if(this.readyState!=dE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dp(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=dE},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kS(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lp(this):dp(this),3==this.readyState&&kS(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,lp(this))},Qe.Ya=function(n){this.g&&(this.response=n,lp(this))},Qe.ka=function(){this.g&&lp(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FS=Rt.JSON.parse;function Yn(n){Kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hE,this.L=this.M=!1}qr(Yn,Kr);var hE="",LS=/^https?$/i,pD=["POST","PUT"];function mD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yD(n),Fm(n)}function yD(n){n.F||(n.F=!0,ci(n,"complete"),ci(n,"error"))}function fE(n){if(n.h&&typeof O_<"u"&&(!n.C[1]||4!=Lo(n)||2!=n.da()))if(n.v&&4==Lo(n))Y_(n.La,0,n);else if(ci(n,"readystatechange"),4==Lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(sE)[1]||null;!o&&Rt.self&&Rt.self.location&&(o=Rt.self.location.protocol.slice(0,-1)),r=!LS.test(o?o.toLowerCase():"")}t=r}if(t)ci(n,"complete"),ci(n,"success");else{n.m=6;try{var u=2<Lo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",yD(n)}}finally{Fm(n)}}}function Fm(n,e){if(n.g){pE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function pE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Lo(n){return n.g?n.g.readyState:0}function gE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case hE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _D(n){let e="";return B_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_D(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Lm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yE(n){this.Ga=0,this.j=[],this.l=new zu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lm("baseRetryDelayMs",5e3,n),this.hb=Lm("retryDelaySeedMs",1e4,n),this.eb=Lm("forwardChannelMaxRetries",2,n),this.xa=Lm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new dD(n&&n.concurrentRequestLimit),this.Ja=new fD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ED(n){if(VS(n),3==n.H){var e=n.W++,t=la(n.I);if(Pn(t,"SID",n.K),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Vm(n,t),(e=new dh(n,n.l,e)).L=2,e.v=ap(la(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon)try{t=Rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=wE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hh(e)}$S(n)}function vE(n){n.g&&(hp(n),n.g.cancel(),n.g=null)}function VS(n){vE(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function _E(n){if(!uE(n.i)&&!n.m){n.m=!0;var e=n.Na;qa||K_(),uh||(qa(),uh=!0),bm.add(e,n),n.C=0}}function US(n,e){var t;t=e?e.m:n.W++;const r=la(n.I);Pn(r,"SID",n.K),Pn(r,"RID",t),Pn(r,"AID",n.V),Vm(n,r),n.o&&n.s&&mE(r,n.o,n.s),t=new dh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BS(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),up(n.i,t),xm(t,r,e)}function Vm(n,e){n.na&&B_(n.na,function(t,r){Pn(e,r,t)}),n.h&&Om({},function(t,r){Pn(e,r,t)})}function BS(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ai(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let b=o[_].g;const A=o[_].map;if(b-=u,0>b)u=Math.max(0,o[_].g-100),g=!1;else try{yh(A,l,"req"+b+"_")}catch{r&&r(A)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jS(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qa||K_(),uh||(qa(),uh=!0),bm.add(e,n),n.A=0}}function Um(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=_l(Ai(n.Ma,n),wD(n,n.A)),n.A++,0))}function hp(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function EE(n){n.g=new dh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=la(n.wa);Pn(e,"RID","rpc"),Pn(e,"SID",n.K),Pn(e,"AID",n.V),Pn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Pn(e,"TO",n.qa),Pn(e,"TYPE","xmlhttp"),Vm(n,e),n.o&&n.s&&mE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ap(la(e)),t.s=null,t.S=!0,iD(t,n)}function Bm(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function fp(n,e){var t=null;if(n.g==e){Bm(n),hp(n),n.g=null;var r=2}else{if(!mh(n.i,e))return;t=e.F,RS(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;ci(r=Tm(),new XI(r,t)),_E(n)}else jS(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function QN(n,e){return!(hD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=_l(Ai(n.Na,n,e),wD(n,n.C)),n.C++,0)))}(n,e)||2==r&&Um(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:vh(n,5);break;case 4:vh(n,10);break;case 3:vh(n,6);break;default:vh(n,2)}}function wD(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function vh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ai(n.pb,n);t||(t=new Wu("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Pm(t,"https"),ap(t)),function PS(n,e){const t=new zu;if(Rt.Image){const r=new Image;r.onload=sh(cp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=sh(cp,t,r,"TestLoadImage: error",!1,e),r.onabort=sh(cp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=sh(cp,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qi(2);n.H=0,n.h&&n.h.za(e),$S(n),VS(n)}function $S(n){if(n.H=0,n.ma=[],n.h){const e=cE(n.i);(0!=e.length||0!=n.j.length)&&(OI(n.ma,e),OI(n.ma,n.j),n.i.i.length=0,P_(n.j),n.j.length=0),n.h.ya()}}function HS(n,e,t){var r=t instanceof Wu?la(t):new Wu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),op(r,r.m);else{var o=Rt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Wu(null);r&&Pm(u,r),e&&(u.g=e),o&&op(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Pn(r,t,e),Pn(r,"VER",n.ra),Vm(n,r),r}function wE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Ha&&!n.va?new Dl({ob:!0}):n.va)).Oa(n.J),e}function ID(){}function jm(){if(vl&&!(10<=Number(LI)))throw Error("Environmental error: no available transport.")}function xs(n,e){Kr.call(this),this.g=new yE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Qf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cl(this)}function zS(n){lh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function DD(){eE.call(this),this.status=1}function Cl(n){this.g=n}function da(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ns(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function mn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(Qe=Yn.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tE.g(),this.C=function tD(n){return n.h||(n.h=n.i())}(this.u?this.u:tE),this.g.onreadystatechange=Ai(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void mD(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Rt.FormData&&n instanceof Rt.FormData,!(0<=RI(pD,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pE(this),0<this.B&&((this.L=function gD(n){return vl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.ua,this)):this.A=Y_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){mD(this,u)}},Qe.ua=function(){typeof O_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ci(this,"complete"),ci(this,"abort"),Fm(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),Yn.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?fE(this):this.kb())},Qe.kb=function(){fE(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FS(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=yE.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new dh(this,this.l,n);let u=this.s;if(this.U&&(u?(u=j_(u),$_(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BS(this,o,e),Pn(t=la(this.I),"RID",n),Pn(t,"CVER",22),this.F&&Pn(t,"X-HTTP-Session-Id",this.F),Vm(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(_D(u)))+"&"+e:this.o&&mE(t,this.o,u)),up(this.i,o),this.bb&&Pn(t,"TYPE","init"),this.P?(Pn(t,"$req",e),Pn(t,"SID","null"),o.aa=!0,xm(o,t,null)):xm(o,t,e),this.H=2}}else 3==this.H&&(n?US(this,n):0==this.j.length||uE(this.i)||US(this))},Qe.Ma=function(){if(this.u=null,EE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=_l(Ai(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qi(10),vE(this),EE(this))},Qe.ib=function(){null!=this.v&&(this.v=null,vE(this),Um(this),qi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qi(2)):(this.l.info("Failed to ping google.com"),qi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=ID.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},jm.prototype.g=function(n,e){return new xs(n,e)},qr(xs,Kr),xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;qi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=HS(n,null,n.Y),_E(n)},xs.prototype.close=function(){ED(this.g)},xs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=q_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&_E(e)},xs.prototype.N=function(){this.g.h=null,delete this.j,ED(this.g),delete this.g,xs.$.N.call(this)},qr(zS,lh),qr(DD,eE),qr(Cl,ID),Cl.prototype.Ba=function(){ci(this.g,"a")},Cl.prototype.Aa=function(n){ci(this.g,new zS(n))},Cl.prototype.za=function(n){ci(this.g,new DD)},Cl.prototype.ya=function(){ci(this.g,"b")},qr(da,function CD(){this.blockSize=-1}),da.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},da.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)Ns(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){Ns(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){Ns(this,r),o=0;break}}this.h=o,this.i+=e},da.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var IE={};function $m(n){return-128<=n&&128>n?function fS(n,e){var t=IE;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new mn([0|e],0>e?-1:0)}):new mn([0|n],0>n?-1:0)}function ha(n){if(isNaN(n)||!isFinite(n))return _h;if(0>n)return Zr(ha(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=li;return new mn(e,0)}var li=4294967296,_h=$m(0),pp=$m(1),bD=$m(16777216);function Ka(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ds(n){return-1==n.h}function Zr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new mn(t,~n.h).add(pp)}function gp(n,e){return n.add(Zr(e))}function Hm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Eh(n,e){this.g=n,this.h=e}function mp(n,e){if(Ka(e))throw Error("division by zero");if(Ka(n))return new Eh(_h,_h);if(ds(n))return e=mp(Zr(n),e),new Eh(Zr(e.g),Zr(e.h));if(ds(e))return e=mp(n,Zr(e)),new Eh(Zr(e.g),e.h);if(30<n.g.length){if(ds(n)||ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pp,r=e;0>=r.X(n);)t=DE(t),r=DE(r);var o=bl(t,1),u=bl(r,1);for(r=bl(r,2),t=bl(t,2);!Ka(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=bl(r,1),t=bl(t,1)}return e=gp(n,o.R(e)),new Eh(o,e)}for(o=_h;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=ha(t)).R(e);ds(l)||0<l.X(n);)l=(u=ha(t-=r)).R(e);Ka(u)&&(u=pp),o=o.add(u),n=gp(n,l)}return new Eh(o,n)}function DE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new mn(t,n.h)}function bl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new mn(o,n.h)}(Qe=mn.prototype).ea=function(){if(ds(this))return-Zr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:li+r)*e,e*=li}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ka(this))return"0";if(ds(this))return"-"+Zr(this).toString(n);for(var e=ha(Math.pow(n,6)),t=this,r="";;){var o=mp(t,e).g,u=((0<(t=gp(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ka(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return ds(n=gp(this,n))?-1:Ka(n)?0:1},Qe.abs=function(){return ds(this)?Zr(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new mn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Ka(this)||Ka(n))return _h;if(ds(this))return ds(n)?Zr(this).R(Zr(n)):Zr(Zr(this).R(n));if(ds(n))return Zr(this.R(Zr(n)));if(0>this.X(bD)&&0>n.X(bD))return ha(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(o)>>>16,_=65535&n.D(o);t[2*r+2*o]+=l*_,Hm(t,2*r+2*o),t[2*r+2*o+1]+=u*_,Hm(t,2*r+2*o+1),t[2*r+2*o+1]+=l*g,Hm(t,2*r+2*o+1),t[2*r+2*o+2]+=u*g,Hm(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new mn(t,0)},Qe.gb=function(n){return mp(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new mn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new mn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new mn(t,this.h^n.h)},jm.prototype.createWebChannel=jm.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,Sm.NO_ERROR=0,Sm.TIMEOUT=8,Sm.HTTP_ERROR=6,eD.COMPLETE="complete",nD.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",Kr.prototype.listen=Kr.prototype.O,Yn.prototype.listenOnce=Yn.prototype.P,Yn.prototype.getLastError=Yn.prototype.Sa,Yn.prototype.getLastErrorCode=Yn.prototype.Ia,Yn.prototype.getStatus=Yn.prototype.da,Yn.prototype.getResponseJson=Yn.prototype.Wa,Yn.prototype.getResponseText=Yn.prototype.ja,Yn.prototype.send=Yn.prototype.ha,Yn.prototype.setWithCredentials=Yn.prototype.Oa,da.prototype.digest=da.prototype.l,da.prototype.reset=da.prototype.reset,da.prototype.update=da.prototype.j,mn.prototype.add=mn.prototype.add,mn.prototype.multiply=mn.prototype.R,mn.prototype.modulo=mn.prototype.gb,mn.prototype.compare=mn.prototype.X,mn.prototype.toNumber=mn.prototype.ea,mn.prototype.toString=mn.prototype.toString,mn.prototype.getBits=mn.prototype.D,mn.fromNumber=ha,mn.fromString=function GS(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zr(GS(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ha(Math.pow(e,8)),r=_h,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=ha(Math.pow(e,u)),r=r.R(u).add(ha(l))):r=(r=r.R(t)).add(ha(l))}return r};var WS=Po.createWebChannelTransport=function(){return new jm},TD=Po.getStatEventTarget=function(){return Tm()},CE=Po.ErrorCode=Sm,bE=Po.EventType=eD,qu=Po.Event=Fo,TE=Po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},SE=Po.FetchXmlHttpFactory=Dl,wh=Po.WebChannel=nD,qS=Po.XhrIo=Yn,JN=Po.Md5=da,Tl=Po.Integer=mn;const SD="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Ih="9.22.2";const Ku=new Hu.Yd("@firebase/firestore");function zm(){return Ku.logLevel}function Oe(n,...e){if(Ku.logLevel<=Hu.in.DEBUG){const t=e.map(AD);Ku.debug(`Firestore (${Ih}): ${n}`,...t)}}function gr(n,...e){if(Ku.logLevel<=Hu.in.ERROR){const t=e.map(AD);Ku.error(`Firestore (${Ih}): ${n}`,...t)}}function ao(n,...e){if(Ku.logLevel<=Hu.in.WARN){const t=e.map(AD);Ku.warn(`Firestore (${Ih}): ${n}`,...t)}}function AD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function dt(n,e){n||rt()}function Ze(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends wr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class xD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZS{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let l=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zn,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const b=l;e.enqueueRetryable((0,it.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zn)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt("string"==typeof r.accessToken),new yp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(null===e||"string"==typeof e),new Yr(e)}}class YS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XN{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new YS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt("string"==typeof t.token),this.T=t.token,new AE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JS{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=tR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function Sl(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Qn(0,0))}static max(){return new gt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gm{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Gm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends Gm{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Gm{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return nR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===g?(l=!l,o++):"."!==g||l?(r+=g,o++):(u(),o++)}if(u(),l)throw new Me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}function Km(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rs(gt.min(),Ye.empty(),-1)}static max(){return new Rs(gt.max(),Ye.empty(),-1)}}function _p(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}const Zm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ym{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xl(n){return RD.apply(this,arguments)}function RD(){return RD=(0,it.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==Zm)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),RD.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,u=0,l=!1;e.forEach(g=>{++o,g.next(()=>{++u,l&&u===o&&t()},_=>r(_))}),l=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const u=e.length,l=new Array(u);let g=0;for(let _=0;_<u;_++){const b=_;t(e[b]).next(A=>{l[b]=A,++g,g===u&&r(l)},A=>o(A))}})}static doWhile(e,t){return new ee((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}function Zu(n){return"IndexedDbTransactionError"===n.name}let Ki=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Qm(n){return null==n}function bh(n){return 0===n&&1/n==-1/0}function lA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kn{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OE(this.root,e,this.comparator,!1)}getReverseIterator(){return new OE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OE(this.root,e,this.comparator,!0)}}class OE{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??di.RED,this.left=o??di.EMPTY,this.right=u??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new di(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return di.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hA(this.data.getIterator())}getIteratorFrom(e){return new hA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class hA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Os{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Os([])}unionWith(e){let t=new Gn(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fA("Invalid base64 string: "+o):o}}(e);return new Jr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function s(n){if(dt(!!n),"string"==typeof n){let e=0;const t=i.exec(n);if(dt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:a(n.seconds),nanos:a(n.nanos)}}function a(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function c(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function d(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function f(n){const e=n.mapValue.fields.__previous_value__;return d(e)?f(e):e}function y(n){const e=s(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class E{constructor(e,t,r,o,u,l,g,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=b}}class D{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new D("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof D&&e.projectId===this.projectId&&e.database===this.database}}const T={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function P(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?d(n)?4:aR(n)?9007199254740991:10:rt()}function $(n,e){if(n===e)return!0;const t=P(n);if(t!==P(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return y(n).isEqual(y(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=s(r.timestampValue),l=s(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,c(n.bytesValue).isEqual(c(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return a(r.geoPointValue.latitude)===a(o.geoPointValue.latitude)&&a(r.geoPointValue.longitude)===a(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return a(r.integerValue)===a(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=a(r.doubleValue),l=a(o.doubleValue);return u===l?bh(u)===bh(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Sl(n.arrayValue.values||[],e.arrayValue.values||[],$);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(lA(u)!==lA(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!$(u[g],l[g])))return!1;return!0}(n,e);default:return rt()}var o}function K(n,e){return void 0!==(n.values||[]).find(t=>$(t,e))}function de(n,e){if(n===e)return 0;const t=P(n),r=P(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=a(o.integerValue||o.doubleValue),g=a(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return Pe(n.timestampValue,e.timestampValue);case 4:return Pe(y(n),y(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(o,u){const l=c(o),g=c(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),g=u.split("/");for(let _=0;_<l.length&&_<g.length;_++){const b=Ot(l[_],g[_]);if(0!==b)return b}return Ot(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Ot(a(o.latitude),a(u.latitude));return 0!==l?l:Ot(a(o.longitude),a(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],g=u.values||[];for(let _=0;_<l.length&&_<g.length;++_){const b=de(l[_],g[_]);if(b)return b}return Ot(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===T.mapValue&&u===T.mapValue)return 0;if(o===T.mapValue)return 1;if(u===T.mapValue)return-1;const l=o.fields||{},g=Object.keys(l),_=u.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const N=Ot(g[A],b[A]);if(0!==N)return N;const B=de(l[g[A]],_[b[A]]);if(0!==B)return B}return Ot(g.length,b.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Pe(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=s(n),r=s(e),o=Ot(t.seconds,r.seconds);return 0!==o?o:Ot(t.nanos,r.nanos)}function ze(n){return ut(n)}function ut(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=s(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?c(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=ut(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of o)l?l=!1:u+=",",u+=`${g}:${ut(r.fields[g])}`;return u+"}"}(n.mapValue):rt();var e}function Ct(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ht(n){return!!n&&"integerValue"in n}function zt(n){return!!n&&"arrayValue"in n}function hi(n){return!!n&&"nullValue"in n}function Dp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ty(n){return!!n&&"mapValue"in n}function Cp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ty(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cp(t)}setAll(e){let t=Ir.emptyPath(),r={},o=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=g.popLast()}l?r[g.lastSegment()]=Cp(l):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());ty(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];ty(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Nl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Zi(Cp(this.value))}}function lR(n){const e=[];return Nl(n.fields,(t,r)=>{const o=new Ir([t]);if(ty(r)){const u=lR(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Os(e)}class Jn{constructor(e,t,r,o,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new Jn(e,0,gt.min(),gt.min(),gt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r,o){return new Jn(e,1,t,gt.min(),r,o,0)}static newNoDocument(e,t){return new Jn(e,2,t,gt.min(),gt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,gt.min(),gt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,t){this.position=e,this.inclusive=t}}function dR(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(l.referenceValue),t.key):de(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function hR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$(n.position[t],e.position[t]))return!1;return!0}class ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function IP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class fR{}class tn extends fR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new DP(e,t,r):"array-contains"===t?new TP(e,r):"in"===t?new _R(e,r):"not-in"===t?new SP(e,r):"array-contains-any"===t?new AP(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new CP(e,r):new bP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(de(t,this.value)):null!==t&&P(this.value)===P(t)&&this.matchesComparison(de(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends fR{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new wn(e,t)}matches(e){return ry(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ry(n){return"and"===n.op}function gA(n){return function pR(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}(n)&&ry(n)}function mA(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+ze(n.value);if(gA(n))return n.filters.map(e=>mA(e)).join(",");{const e=n.filters.map(t=>mA(t)).join(",");return`${n.op}(${e})`}}function gR(n,e){return n instanceof tn?(t=n,(r=e)instanceof tn&&t.op===r.op&&t.field.isEqual(r.field)&&$(t.value,r.value)):n instanceof wn?function(t,r){return r instanceof wn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&gR(u,r.filters[l]),!0)}(n,e):void rt();var t,r}function yR(n){return n instanceof tn?`${(e=n).field.canonicalString()} ${e.op} ${ze(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(yR).join(" ,")+"}"}(n):"Filter";var e}class DP extends tn{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class CP extends tn{constructor(e,t){super(e,"in",t),this.keys=vR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bP extends tn{constructor(e,t){super(e,"not-in",t),this.keys=vR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class TP extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zt(t)&&K(t.arrayValue,this.value)}}class _R extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&K(this.value.arrayValue,t)}}class SP extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!K(this.value.arrayValue,t)}}class AP extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>K(this.value.arrayValue,r))}}class MP{constructor(e,t=null,r=[],o=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function yA(n,e=null,t=[],r=[],o=null,u=null,l=null){return new MP(n,e,t,r,o,u,l)}function bp(n){const e=Ze(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ze(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ze(r)).join(",")),e.dt=t}return e.dt}function PE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hR(n.startAt,e.startAt)&&hR(n.endAt,e.endAt)}function WD(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Rl{constructor(e,t=null,r=[],o=[],u=null,l="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function iy(n){return new Rl(n)}function DR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function KD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _A(n){return null!==n.collectionGroup}function Tp(n){const e=Ze(n);if(null===e.wt){e.wt=[];const t=KD(e),r=vA(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ny(t)),e.wt.push(new ny(Ir.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ny(Ir.keyField(),u))}}}return e.wt}function Ps(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=yA(e.path,e.collectionGroup,Tp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Tp(e))t.push(new ny(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Th(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Th(e.startAt.position,e.startAt.inclusive):null;e._t=yA(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function EA(n,e){e.getFirstInequalityField(),KD(n);const t=n.filters.concat([e]);return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ZD(n,e,t){return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kE(n,e){return PE(Ps(n),Ps(e))&&n.limitType===e.limitType}function CR(n){return`${bp(Ps(n))}|lt:${n.limitType}`}function wA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>yR(r)).join(", ")}]`),Qm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ze(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ze(r)).join(",")),`Target(${t})`}(Ps(n))}; limitType=${n.limitType})`}function FE(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Tp(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const g=dR(o,u,l);return o.inclusive?g<=0:g<0}(t.startAt,Tp(t),r)||t.endAt&&!function(o,u,l){const g=dR(o,u,l);return o.inclusive?g>=0:g>0}(t.endAt,Tp(t),r)));var t,r}function TR(n){return(e,t)=>{let r=!1;for(const o of Tp(n)){const u=xP(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function xP(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,u,l){const g=u.data.field(o),_=l.data.field(o);return null!==g&&null!==_?de(g,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}const NP=new kn(Ye.comparator);function uo(){return NP}const SR=new kn(Ye.comparator);function LE(...n){let e=SR;for(const t of n)e=e.insert(t.key,t);return e}function AR(n){let e=SR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qu(){return VE()}function MR(){return VE()}function VE(){return new Ol(n=>n.toString(),(n,e)=>n.isEqual(e))}const RP=new kn(Ye.comparator),OP=new Gn(Ye.comparator);function $t(...n){let e=OP;for(const t of n)e=e.add(t);return e}const PP=new Gn(Ot);function xR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function NR(n){return{integerValue:""+n}}function RR(n,e){return function Jm(n){return"number"==typeof n&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?NR(e):xR(n,e)}class YD{constructor(){this._=void 0}}function kP(n,e,t){return n instanceof sy?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&d(o)&&(o=f(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Sp?PR(n,e):n instanceof Ap?kR(n,e):function(r,o){const u=OR(r,o),l=FR(u)+FR(r.gt);return Ht(u)&&Ht(r.gt)?NR(l):xR(r.serializer,l)}(n,e)}function FP(n,e,t){return n instanceof Sp?PR(n,e):n instanceof Ap?kR(n,e):t}function OR(n,e){return n instanceof oy?Ht(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sy extends YD{}class Sp extends YD{constructor(e){super(),this.elements=e}}function PR(n,e){const t=LR(e);for(const r of n.elements)t.some(o=>$(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ap extends YD{constructor(e){super(),this.elements=e}}function kR(n,e){let t=LR(e);for(const r of n.elements)t=t.filter(o=>!$(o,r));return{arrayValue:{values:t}}}class oy extends YD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function FR(n){return a(n.integerValue||n.doubleValue)}function LR(n){return zt(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class VP{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function QD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class JD{}function VR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uy(n.key,ir.none()):new ay(n.key,n.data,ir.none());{const t=n.data,r=Zi.empty();let o=new Gn(Ir.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new Pl(n.key,r,new Os(o.toArray()),ir.none())}}function UP(n,e,t){n instanceof ay?function(r,o,u){const l=r.value.clone(),g=jR(r.fieldTransforms,o,u.transformResults);l.setAll(g),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Pl?function(r,o,u){if(!QD(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=jR(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(BR(r)),g.setAll(l),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function BE(n,e,t,r){return n instanceof ay?function(o,u,l,g){if(!QD(o.precondition,u))return l;const _=o.value.clone(),b=$R(o.fieldTransforms,g,u);return _.setAll(b),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pl?function(o,u,l,g){if(!QD(o.precondition,u))return l;const _=$R(o.fieldTransforms,g,u),b=u.data;return b.setAll(BR(o)),b.setAll(_),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):(l=t,QD(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function BP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=OR(r.transform,o||null);null!=u&&(null===t&&(t=Zi.empty()),t.set(r.field,u))}return t||null}function UR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Sl(t,r,(o,u)=>function LP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Sp&&r instanceof Sp||t instanceof Ap&&r instanceof Ap?Sl(t.elements,r.elements,$):t instanceof oy&&r instanceof oy?$(t.gt,r.gt):t instanceof sy&&r instanceof sy);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ay extends JD{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pl extends JD{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jR(n,e,t){const r=new Map;dt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,g=e.data.field(u.field);r.set(u.field,FP(l,g,t[o]))}return r}function $R(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,kP(u,l,e))}return r}class uy extends JD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DA extends JD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CA{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UP(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=BE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=BE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MR();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(o.key)?null:g;const _=VR(l,g);null!==_&&r.set(o.key,_),l.isValidDocument()||l.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(t,r)=>UR(t,r))&&Sl(this.baseMutations,e.baseMutations,(t,r)=>UR(t,r))}}class bA{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){dt(e.mutations.length===r.length);let o=RP;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new bA(e,t,r,o)}}class TA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $P{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xr,cn;function zR(n){if(void 0===n)return gr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Xr.OK:return ie.OK;case Xr.CANCELLED:return ie.CANCELLED;case Xr.UNKNOWN:return ie.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return ie.INTERNAL;case Xr.UNAVAILABLE:return ie.UNAVAILABLE;case Xr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Xr.NOT_FOUND:return ie.NOT_FOUND;case Xr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Xr.ABORTED:return ie.ABORTED;case Xr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Xr.DATA_LOSS:return ie.DATA_LOSS;default:return rt()}}(cn=Xr||(Xr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class SA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return XD}static getOrCreateInstance(){return null===XD&&(XD=new SA),XD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let XD=null;const HP=new Tl([4294967295,4294967295],0);function WR(n){const e=function GR(){return new TextEncoder}().encode(n),t=new JN;return t.update(e),new Uint8Array(t.digest())}function qR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Tl([t,r],0),new Tl([o,u],0)]}class AA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jE(`Invalid padding: ${t}`);if(r<0)throw new jE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new jE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Tl.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Tl.fromNumber(r)));return 1===o.compare(HP)&&(o=new Tl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=WR(e),[r,o]=qR(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new AA(u,o,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=WR(e),[r,o]=qR(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $E{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,HE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $E(gt.min(),o,new kn(Ot),uo(),$t())}}class HE{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new HE(r,t,$t(),$t(),$t())}}class eC{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class KR{constructor(e,t){this.targetId=e,this.Vt=t}}class ZR{constructor(e,t,r=Jr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class YR{constructor(){this.St=0,this.Dt=JR(),this.Ct=Jr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=$t(),t=$t(),r=$t();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new HE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=JR()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zP{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=uo(),this.zt=QR(),this.Wt=new kn(Ot)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(WD(l))if(0===o){const g=new Ye(l.path);this.Yt(r,g,Jn.newNoDocument(g,gt.min()))}else dt(1===o);else{const g=this.ie(r);if(g!==o){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=SA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,A,N){var B,Q,fe,ye,Ce,ot;const bt={localCacheCount:A,existenceFilterCount:N.count},at=N.unchangedNames;return at&&(bt.bloomFilter={applied:0===b,hashCount:null!==(B=at?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(ye=null===(fe=null===(Q=at?.bits)||void 0===Q?void 0:Q.bitmap)||void 0===fe?void 0:fe.length)&&void 0!==ye?ye:0,padding:null!==(ot=null===(Ce=at?.bits)||void 0===Ce?void 0:Ce.padding)&&void 0!==ot?ot:0}),bt}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let _,b;try{_=c(u).toUint8Array()}catch(A){if(A instanceof fA)return ao("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{b=new AA(_,l,g)}catch(A){return ao(A instanceof jE?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===b.It?1:o!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&WD(g.target)){const _=new Ye(g.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,Jn.newNoDocument(_,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=$t();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new $E(e,t,this.Wt,this.jt,r);return this.jt=uo(),this.zt=QR(),this.Wt=new kn(Ot),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new YR,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gn(Ot),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YR),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function QR(){return new kn(Ye.comparator)}function JR(){return new kn(Ye.comparator)}const GP={asc:"ASCENDING",desc:"DESCENDING"},WP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qP={and:"AND",or:"OR"};class KP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MA(n,e){return n.useProto3Json||Qm(e)?e:{value:e}}function cy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZP(n,e){return cy(n,e.toTimestamp())}function kr(n){return dt(!!n),gt.fromTimestamp(function(e){const t=s(e);return new Qn(t.seconds,t.nanos)}(n))}function xA(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function e1(n){const e=on.fromString(n);return dt(c1(e)),e}function zE(n,e){return xA(n.databaseId,e.path)}function Ju(n,e){const t=e1(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(n1(t))}function NA(n,e){return xA(n.databaseId,e)}function GE(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n1(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function r1(n,e,t){return{name:zE(n,e),fields:t.value.mapValue.fields}}function s1(n,e){return{documents:[NA(n,e.path)]}}function OA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=NA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=NA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return u1(wn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(_){if(0!==_.length)return _.map(b=>{return{field:Sh((A=b).field),direction:ek(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=MA(n,e.limit);var g,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function o1(n){let e=function t1(n){const e=e1(n);return 4===e.length?on.emptyPath():n1(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){dt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const N=a1(A);return N instanceof wn&&gA(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(A=>{return new ny(ly((N=A).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let g=null;t.limit&&(g=function(A){let N;return N="object"==typeof A?A.value:A,Qm(N)?null:N}(t.limit));let _=null;var A;t.startAt&&(_=new Th((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new Th(A.values||[],!A.before)}(t.endAt)),function IR(n,e,t,r,o,u,l,g){return new Rl(n,e,t,r,o,u,l,g)}(e,o,l,u,g,"F",_,b)}function a1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ly(e.unaryFilter.field);return tn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ly(e.unaryFilter.field);return tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ly(e.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ly(e.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?tn.create(ly((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>a1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function ek(n){return GP[n]}function tk(n){return WP[n]}function nk(n){return qP[n]}function Sh(n){return{fieldPath:n.canonicalString()}}function ly(n){return Ir.fromServerFormat(n.fieldPath)}function u1(n){return n instanceof tn?function(e){if("=="===e.op){if(Dp(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NAN"}};if(hi(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dp(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NOT_NAN"}};if(hi(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(e.field),op:tk(e.op),value:e.value}}}(n):n instanceof wn?function(e){const t=e.getFilters().map(r=>u1(r));return 1===t.length?t[0]:{compositeFilter:{op:nk(e.op),filters:t}}}(n):rt()}function rk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function c1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class kl{constructor(e,t,r,o,u=gt.min(),l=gt.min(),g=Jr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class l1{constructor(e){this.fe=e}}function PA(n){const e=o1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZD(e,e.limit,"L"):e}class Rp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(a(e.integerValue));else if("doubleValue"in e){const r=a(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),bh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(c(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?aR(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Rp.Ve=new Rp;class hk{constructor(){this.rn=new BA}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Rs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class BA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Gn(on.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gn(on.comparator)).toArray()}}new Uint8Array(0);class hs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class Pp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pp(0)}static Mn(){return new Pp(-1)}}class vk{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class F1{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&BE(r.mutation,o,Os.empty(),Qn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const o=Qu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=LE();return u.forEach((g,_)=>{l=l.insert(g,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Qu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,o){let u=uo();const l=VE(),g=VE();return t.forEach((_,b)=>{const A=r.get(b.key);o.has(b.key)&&(void 0===A||A.mutation instanceof Pl)?u=u.insert(b.key,b):void 0!==A?(l.set(b.key,A.mutation.getFieldMask()),BE(A.mutation,b,A.mutation.getFieldMask(),Qn.now())):l.set(b.key,Os.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((b,A)=>l.set(b,A)),t.forEach((b,A)=>{var N;return g.set(b,new wk(A,null!==(N=l.get(b))&&void 0!==N?N:null))}),g))}recalculateAndSaveOverlays(e,t){const r=VE();let o=new kn((l,g)=>l-g),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let A=r.get(_)||Os.empty();A=g.applyToLocalView(b,A),r.set(_,A);const N=(o.get(g.batchId)||$t()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const l=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),b=_.key,A=_.value,N=MR();A.forEach(B=>{if(!u.has(B)){const Q=VR(t.get(B),r.get(B));null!==Q&&N.set(B,Q),u=u.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,N))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_A(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ee.resolve(Qu());let g=-1,_=u;return l.next(b=>ee.forEach(b,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),u.get(A)?ee.resolve():this.remoteDocumentCache.getEntry(e,A).next(B=>{_=_.insert(A,B)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,_,b,$t())).next(A=>({batchId:g,changes:AR(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let o=LE();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=LE();return this.indexManager.getCollectionParents(e,o).next(l=>ee.forEach(l,g=>{const _=(b=t,A=g.child(o),new Rl(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((A,N)=>{u=u.insert(A,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((g,_)=>{const b=_.getKey();null===u.get(b)&&(u=u.insert(b,Jn.newInvalidDocument(b)))});let l=LE();return u.forEach((g,_)=>{const b=o.get(g);void 0!==b&&BE(b.mutation,_,Os.empty(),Qn.now()),FE(t,_)&&(l=l.insert(g,_))}),l})}}class Ik{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:PA(r.bundledQuery),readTime:kr(r.readTime)}),ee.resolve();var r}}class Dk{constructor(){this.overlays=new kn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qu();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=Qu(),u=t.length+1,l=new Ye(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const _=g.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new kn((b,A)=>b-A);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=Qu(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const g=Qu(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,A)=>g.set(b,A)),!(g.size()>=o)););return ee.resolve(g)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TA(t,r));let u=this.ls.get(t);void 0===u&&(u=$t(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class jA{constructor(){this.fs=new Gn(Ni.ds),this.ws=new Gn(Ni._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ni(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new on([])),r=new Ni(t,e),o=new Ni(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new on([])),r=new Ni(t,e),o=new Ni(t,e+1);let u=$t();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Ni(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Ot(e.As,t.As)}static _s(e,t){return Ot(e.As,t.As)||Ye.comparator(e.key,t.key)}}class Ck{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gn(Ni.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new CA(u,t,r,o);this.mutationQueue.push(l);for(const g of o)this.Rs=this.Rs.add(new Ni(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),o=new Ni(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const g=this.Ps(l.As);u.push(g)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Ot);return t.forEach(o=>{const u=new Ni(o,0),l=new Ni(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const l=new Ni(new Ye(u),0);let g=new Gn(Ot);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(g=g.add(_.As)),!0)},l),ee.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){dt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,o=>{const u=new Ni(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ni(t,0),o=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bk{constructor(e){this.Ds=e,this.docs=new kn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=uo();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jn.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=uo();const l=t.path,g=new Ye(l.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:b,value:{document:A}}=_.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||_p(Km(A),r)<=0||(o.has(A.key)||FE(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,o){rt()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tk(this)}getSize(e){return ee.resolve(this.size)}}class Tk extends vk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Sk{constructor(e){this.persistence=e,this.xs=new Ol(t=>bp(t),PE),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jA,this.targetCount=0,this.Ms=Pp.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class $A{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ki(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sk(this),this.indexManager=new hk,this.remoteDocumentCache=new bk(r=>this.referenceDelegate.Ls(r)),this.serializer=new l1(t),this.qs=new Ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Ck(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new Ak(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Ak extends Ym{constructor(e){super(),this.currentSequenceNumber=e}}class cC{constructor(e){this.persistence=e,this.Qs=new jA,this.js=null}static zs(e){return new cC(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const o=Ye.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,gt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class WA{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=$t(),o=$t();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new WA(e,t.fromCache,r,o)}}class V1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(DR(t))return ee.resolve(null);let r=Ps(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=ZD(t,null,"F"),r=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=$t(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.ji(t,g);return this.zi(t,b,l,_.readTime)?this.Ki(e,ZD(t,null,"F")):this.Wi(e,b,t,_)}))})))}Gi(e,t,r,o){return DR(t)||o.isEqual(gt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(zm()<=Hu.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wA(t)),this.Wi(e,l,t,function qm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=gt.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new Rs(o,Ye.empty(),e)}(o,-1)))})}ji(e,t){let r=new Gn(TR(e));return t.forEach((o,u)=>{FE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return zm()<=Hu.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",wA(t)),this.Ui.getDocumentsMatchingQuery(e,t,Rs.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class xk{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new kn(Ot),this.Yi=new Ol(u=>bp(u),PE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function B1(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,it.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let _=$t();for(const b of o){l.push(b.batchId);for(const A of b.mutations)_=_.add(A.key)}for(const b of u){g.push(b.batchId);for(const A of b.mutations)_=_.add(A.key)}return t.localDocuments.getDocuments(r,_).next(b=>({er:b,removedBatchIds:l,addedBatchIds:g}))})})}),qA.apply(this,arguments)}function j1(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Ok(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function py(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,it.Z)(function*(n,e,t){const r=Ze(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Zu(l))throw l;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),KA.apply(this,arguments)}function hC(n,e,t){const r=Ze(n);let o=gt.min(),u=$t();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,_,b){const A=Ze(g),N=A.Yi.get(b);return void 0!==N?ee.resolve(A.Ji.get(N)):A.Bs.getTargetData(_,b)}(r,l,Ps(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:gt.min(),t?u:$t())).next(g=>(function G1(n,e,t){let r=n.Xi.get(e)||gt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function bR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class XA{constructor(){this.activeTargetIds=function IA(){return PP}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K1{constructor(){this.Hr=new XA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new XA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fk{Yr(e){}shutdown(){}}class Z1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gC=null;function tM(){return null===gC?gC=268435456+Math.round(2147483648*Math.random()):gC++,"0x"+gC.toString(16)}const Lk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fs="WebChannelConnection";class Uk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=tM(),g=this.To(e,t);Oe("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const _={};return this.Eo(_,o,u),this.Ao(e,g,_,r).then(b=>(Oe("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw ao("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",g,"request:",r),b})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ih,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${Lk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=tM();return new Promise((l,g)=>{const _=new qS;_.setWithCredentials(!0),_.listenOnce(bE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case CE.NO_ERROR:const A=_.getResponseJson();Oe(fs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),l(A);break;case CE.TIMEOUT:Oe(fs,`RPC '${e}' ${u} timed out`),g(new Me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case CE.HTTP_ERROR:const N=_.getStatus();if(Oe(fs,`RPC '${e}' ${u} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B?.error;if(Q&&Q.status&&Q.message){const fe=function(ye){const Ce=ye.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Ce)>=0?Ce:ie.UNKNOWN}(Q.status);g(new Me(fe,Q.message))}else g(new Me(ie.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Me(ie.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Oe(fs,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);Oe(fs,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const o=tM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WS(),g=TD(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new SE({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const A=u.join("");Oe(fs,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=l.createWebChannel(A,_);let B=!1,Q=!1;const fe=new Vk({ro:Ce=>{Q?Oe(fs,`Not sending because RPC '${e}' stream ${o} is closed:`,Ce):(B||(Oe(fs,`Opening RPC '${e}' stream ${o} transport.`),N.open(),B=!0),Oe(fs,`RPC '${e}' stream ${o} sending:`,Ce),N.send(Ce))},oo:()=>N.close()}),ye=(Ce,ot,bt)=>{Ce.listen(ot,at=>{try{bt(at)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return ye(N,wh.EventType.OPEN,()=>{Q||Oe(fs,`RPC '${e}' stream ${o} transport opened.`)}),ye(N,wh.EventType.CLOSE,()=>{Q||(Q=!0,Oe(fs,`RPC '${e}' stream ${o} transport closed`),fe.wo())}),ye(N,wh.EventType.ERROR,Ce=>{Q||(Q=!0,ao(fs,`RPC '${e}' stream ${o} transport errored:`,Ce),fe.wo(new Me(ie.UNAVAILABLE,"The operation could not be completed")))}),ye(N,wh.EventType.MESSAGE,Ce=>{var ot;if(!Q){const bt=Ce.data[0];dt(!!bt);const Mt=bt.error||(null===(ot=bt[0])||void 0===ot?void 0:ot.error);if(Mt){Oe(fs,`RPC '${e}' stream ${o} received error:`,Mt);const Gt=Mt.status;let nn=function(Up){const oP=Xr[Up];if(void 0!==oP)return zR(oP)}(Gt),co=Mt.message;void 0===nn&&(nn=ie.INTERNAL,co="Unknown error status: "+Gt+" with message "+Mt.message),Q=!0,fe.wo(new Me(nn,co)),N.close()}else Oe(fs,`RPC '${e}' stream ${o} received:`,bt),fe._o(bt)}}),ye(g,qu.STAT_EVENT,Ce=>{Ce.stat===TE.PROXY?Oe(fs,`RPC '${e}' stream ${o} detected buffering proxy`):Ce.stat===TE.NOPROXY&&Oe(fs,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{fe.fo()},0),fe}}function mC(){return typeof document<"u"?document:null}function tw(n){return new KP(n,!0)}class nM{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Q1{constructor(e,t,r,o,u,l,g,_){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,it.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,it.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,it.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,it.Z)(function*(){e.state=0,e.start()}))}tu(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bk extends Q1{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function QP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),o=e.targetChange.targetIds||[],u=function(_,b){return _.useProto3Json?(dt(void 0===b||"string"==typeof b),Jr.fromBase64String(b||"")):(dt(void 0===b||b instanceof Uint8Array),Jr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(_){const b=void 0===_.code?ie.UNKNOWN:zR(_.code);return new Me(b,_.message||"")}(l);t=new ZR(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Ju(n,r.document.name),u=kr(r.document.updateTime),l=r.document.createTime?kr(r.document.createTime):gt.min(),g=new Zi({mapValue:{fields:r.document.fields}}),_=Jn.newFoundDocument(o,u,l,g);t=new eC(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Ju(n,r.document),u=r.readTime?kr(r.readTime):gt.min(),l=Jn.newNoDocument(o,u);t=new eC([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=Ju(n,r.document);t=new eC([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new $P(o,u);t=new KR(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return gt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?gt.min():u.readTime?kr(u.readTime):gt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=GE(this.serializer),t.addTarget=function(o,u){let l;const g=u.target;if(l=WD(g)?{documents:s1(o,g)}:{query:OA(o,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=XR(o,u.resumeToken);const _=MA(o,u.expectedCount);null!==_&&(l.expectedCount=_)}else if(u.snapshotVersion.compareTo(gt.min())>0){l.readTime=cy(o,u.snapshotVersion.toTimestamp());const _=MA(o,u.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function XP(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=GE(this.serializer),t.removeTarget=e,this.Wo(t)}}class jk extends Q1{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function JP(n,e){return n&&n.length>0?(dt(void 0!==e),n.map(t=>function(r,o){let u=kr(r.updateTime?r.updateTime:o);return u.isEqual(gt.min())&&(u=kr(o)),new VP(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.cu(r,t)}return dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=GE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function WE(n,e){let t;if(e instanceof ay)t={update:r1(n,e.key,e.value)};else if(e instanceof uy)t={delete:zE(n,e.key)};else if(e instanceof Pl)t={update:r1(n,e.key,e.data),updateMask:rk(e.fieldMask)};else{if(!(e instanceof DA))return rt();t={verify:zE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof sy)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ap)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oy)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ZP(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}(this.serializer,r))};this.Wo(t)}}class $k extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ie.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ie.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gr(t),this.mu=!1):Oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Gk{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,it.Z)(function*(){var _;Nh(l)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,it.Z)(function*(b){const A=Ze(b);A.vu.add(4),yield gy(A),A.bu.set("Unknown"),A.vu.delete(4),yield nw(A)}),function(b){return _.apply(this,arguments)})(l))}))}),this.bu=new zk(r,o)}}function nw(n){return iM.apply(this,arguments)}function iM(){return iM=(0,it.Z)(function*(n){if(Nh(n))for(const e of n.Ru)yield e(!0)}),iM.apply(this,arguments)}function gy(n){return sM.apply(this,arguments)}function sM(){return sM=(0,it.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),sM.apply(this,arguments)}function yC(n,e){const t=Ze(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),uM(t)?aM(t):yy(t).Ko()&&oM(t,e))}function rw(n,e){const t=Ze(n),r=yy(t);t.Au.delete(e),r.Ko()&&J1(t,e),0===t.Au.size&&(r.Ko()?r.jo():Nh(t)&&t.bu.set("Unknown"))}function oM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yy(n).su(e)}function J1(n,e){n.Vu.qt(e),yy(n).iu(e)}function aM(n){n.Vu=new zP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),yy(n).start(),n.bu.gu()}function uM(n){return Nh(n)&&!yy(n).Uo()&&n.Au.size>0}function Nh(n){return 0===Ze(n).vu.size}function X1(n){n.Vu=void 0}function Wk(n){return cM.apply(this,arguments)}function cM(){return cM=(0,it.Z)(function*(n){n.Au.forEach((e,t)=>{oM(n,e)})}),cM.apply(this,arguments)}function qk(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,it.Z)(function*(n,e){X1(n),uM(n)?(n.bu.Iu(e),aM(n)):n.bu.set("Unknown")}),lM.apply(this,arguments)}function Kk(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,it.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof ZR&&2===e.state&&e.cause)try{yield(r=(0,it.Z)(function*(o,u){const l=u.cause;for(const g of u.targetIds)o.Au.has(g)&&(yield o.remoteSyncer.rejectListen(g,l),o.Au.delete(g),o.Vu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vC(n,r)}else if(e instanceof eC?n.Vu.Ht(e):e instanceof KR?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(gt.min()))try{const r=yield j1(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=o.Au.get(_);b&&o.Au.set(_,b.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,_)=>{const b=o.Au.get(g);if(!b)return;o.Au.set(g,b.withResumeToken(Jr.EMPTY_BYTE_STRING,b.snapshotVersion)),J1(o,g);const A=new kl(b.target,g,_,b.sequenceNumber);oM(o,A)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield vC(n,r)}var r}),dM.apply(this,arguments)}function vC(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,it.Z)(function*(n,e,t){if(!Zu(e))throw e;n.vu.add(1),yield gy(n),n.bu.set("Offline"),t||(t=()=>j1(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield nw(n)}))}),hM.apply(this,arguments)}function eO(n,e){return e().catch(t=>vC(n,t,e))}function my(n){return fM.apply(this,arguments)}function fM(){return fM=(0,it.Z)(function*(n){const e=Ze(n),t=Rh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zk(e);)try{const o=yield Ok(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,Yk(e,o)}catch(o){yield vC(e,o)}tO(e)&&nO(e)}),fM.apply(this,arguments)}function Zk(n){return Nh(n)&&n.Eu.length<10}function Yk(n,e){n.Eu.push(e);const t=Rh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function tO(n){return Nh(n)&&!Rh(n).Uo()&&n.Eu.length>0}function nO(n){Rh(n).start()}function Qk(n){return pM.apply(this,arguments)}function pM(){return pM=(0,it.Z)(function*(n){Rh(n).hu()}),pM.apply(this,arguments)}function Jk(n){return gM.apply(this,arguments)}function gM(){return gM=(0,it.Z)(function*(n){const e=Rh(n);for(const t of n.Eu)e.uu(t.mutations)}),gM.apply(this,arguments)}function Xk(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,it.Z)(function*(n,e,t){const r=n.Eu.shift(),o=bA.from(r,e,t);yield eO(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield my(n)}),mM.apply(this,arguments)}function eF(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,it.Z)(function*(n,e){var t;e&&Rh(n).ou&&(yield(t=(0,it.Z)(function*(r,o){if(function HR(n){switch(n){default:return rt();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}(u=o.code)&&u!==ie.ABORTED){const l=r.Eu.shift();Rh(r).Qo(),yield eO(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield my(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),tO(n)&&nO(n)}),yM.apply(this,arguments)}function rO(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,it.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=Nh(t);t.vu.add(3),yield gy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield nw(t)}),vM.apply(this,arguments)}function EM(){return EM=(0,it.Z)(function*(n,e){const t=Ze(n);e?(t.vu.delete(2),yield nw(t)):e||(t.vu.add(2),yield gy(t),t.bu.set("Unknown"))}),EM.apply(this,arguments)}function yy(n){return n.Su||(n.Su=function(e,t,r){const o=Ze(e);return o.fu(),new Bk(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:Wk.bind(null,n),ao:qk.bind(null,n),nu:Kk.bind(null,n)}),n.Ru.push(function(){var e=(0,it.Z)(function*(t){t?(n.Su.Qo(),uM(n)?aM(n):n.bu.set("Unknown")):(yield n.Su.stop(),X1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Rh(n){return n.Du||(n.Du=function(e,t,r){const o=Ze(e);return o.fu(),new jk(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:Qk.bind(null,n),ao:eF.bind(null,n),au:Jk.bind(null,n),cu:Xk.bind(null,n)}),n.Ru.push(function(){var e=(0,it.Z)(function*(t){t?(n.Du.Qo(),yield my(n)):(yield n.Du.stop(),n.Eu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class wM{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,g=new wM(e,t,l,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Zu(n))return new Me(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class _y{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=LE(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new _y(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _y)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new _y;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iO{constructor(){this.Cu=new kn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ey{constructor(e,t,r,o,u,l,g,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new Ey(e,t,_y.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class tF{constructor(){this.Nu=void 0,this.listeners=[]}}class nF{constructor(){this.queries=new Ol(e=>CR(e),kE),this.onlineState="Unknown",this.ku=new Set}}function DM(){return DM=(0,it.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new tF),o)try{u.Nu=yield t.onListen(r)}catch(l){const g=vy(l,`Initialization of query '${wA(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&TM(t)}),DM.apply(this,arguments)}function bM(){return bM=(0,it.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),bM.apply(this,arguments)}function rF(n,e){const t=Ze(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const g of l.listeners)g.$u(o)&&(r=!0);l.Nu=o}}r&&TM(t)}function iF(n,e,t){const r=Ze(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function TM(n){n.ku.forEach(e=>{e.next()})}class SM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ey(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aO{constructor(e){this.key=e}}class uO{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$t(),this.mutatedKeys=$t(),this.tc=TR(e),this.ec=new _y(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new iO,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,g=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const B=o.get(A),Q=FE(this.query,N)?N:null,fe=!!B&&this.mutatedKeys.has(B.key),ye=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Ce=!1;B&&Q?B.data.isEqual(Q.data)?fe!==ye&&(r.track({type:3,doc:Q}),Ce=!0):this.rc(B,Q)||(r.track({type:2,doc:Q}),Ce=!0,(_&&this.tc(Q,_)>0||b&&this.tc(Q,b)<0)&&(g=!0)):!B&&Q?(r.track({type:0,doc:Q}),Ce=!0):B&&!Q&&(r.track({type:1,doc:B}),Ce=!0,(_||b)&&(g=!0)),Ce&&(Q?(l=l.add(Q),u=ye?u.add(A):u.delete(A)):(l=l.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const A="F"===this.query.limitType?l.last():l.first();l=l.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,A)=>function(N,B){const Q=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return Q(N)-Q(B)}(b.type,A.type)||this.tc(b.doc,A.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new Ey(this.query,e.ec,o,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=$t(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new uO(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new aO(r))}),t}hc(e){this.Yu=e.ir,this.Zu=$t();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ey.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class aF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uF{constructor(e){this.key=e,this.fc=!1}}class cF{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ol(g=>CR(g),kE),this._c=new Map,this.mc=new Set,this.gc=new kn(Ye.comparator),this.yc=new Map,this.Ic=new jA,this.Tc={},this.Ec=new Map,this.Ac=Pp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function lF(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,it.Z)(function*(n,e){const t=function QM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fF.bind(null,e),e.dc.nu=rF.bind(null,e.eventManager),e.dc.Pc=iF.bind(null,e.eventManager),e}(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield function fy(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,ee.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new kl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Ps(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield function MM(n,e,t,r,o){return xM.apply(this,arguments)}(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&yC(t.remoteStore,l)}return o}),AM.apply(this,arguments)}function xM(){return xM=(0,it.Z)(function*(n,e,t,r,o){n.Rc=(N,B,Q)=>{return(fe=(0,it.Z)(function*(ye,Ce,ot,bt){let at=Ce.view.sc(ot);at.zi&&(at=yield hC(ye.localStore,Ce.query,!1).then(({documents:nn})=>Ce.view.sc(nn,at)));const Mt=bt&&bt.targetChanges.get(Ce.targetId),Gt=Ce.view.applyChanges(at,ye.isPrimaryClient,Mt);return BM(ye,Ce.targetId,Gt.cc),Gt.snapshot}),function(ye,Ce,ot,bt){return fe.apply(this,arguments)})(n,N,B,Q);var fe};const u=yield hC(n.localStore,e,!0),l=new cO(e,u.ir),g=l.sc(u.documents),_=HE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=l.applyChanges(g,n.isPrimaryClient,_);BM(n,t,b.cc);const A=new aF(e,t,l);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),xM.apply(this,arguments)}function dF(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,it.Z)(function*(n,e){const t=Ze(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!kE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rw(t.remoteStore,r.targetId),wy(t,r.targetId)}).catch(xl))):(wy(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),NM.apply(this,arguments)}function RM(){return RM=(0,it.Z)(function*(n,e,t){const r=function JM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gF.bind(null,e),e}(n);try{const o=yield function(u,l){const g=Ze(u),_=Qn.now(),b=l.reduce((B,Q)=>B.add(Q.key),$t());let A,N;return g.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Q=uo(),fe=$t();return g.Zi.getEntries(B,b).next(ye=>{Q=ye,Q.forEach((Ce,ot)=>{ot.isValidDocument()||(fe=fe.add(Ce))})}).next(()=>g.localDocuments.getOverlayedDocuments(B,Q)).next(ye=>{A=ye;const Ce=[];for(const ot of l){const bt=BP(ot,A.get(ot.key).overlayedDocument);null!=bt&&Ce.push(new Pl(ot.key,bt,lR(bt.value.mapValue),ir.exists(!0)))}return g.mutationQueue.addMutationBatch(B,_,Ce,l)}).next(ye=>{N=ye;const Ce=ye.applyToLocalDocumentSet(A,fe);return g.documentOverlayCache.saveOverlays(B,ye.batchId,Ce)})}).then(()=>({batchId:N.batchId,changes:AR(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new kn(Ot)),_=_.insert(l,g),u.Tc[u.currentUser.toKey()]=_}(r,o.batchId,t),yield Fl(r,o.changes),yield my(r.remoteStore)}catch(o){const u=vy(o,"Failed to persist write");t.reject(u)}}),RM.apply(this,arguments)}function lO(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,it.Z)(function*(n,e){const t=Ze(n);try{const r=yield function Rk(n,e){const t=Ze(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const g=[];e.targetChanges.forEach((A,N)=>{const B=o.get(N);if(!B)return;g.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,N).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,N)));let Q=B.withSequenceNumber(u.currentSequenceNumber);var fe,ye,Ce;null!==e.targetMismatches.get(N)?Q=Q.withResumeToken(Jr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),o=o.insert(N,Q),ye=Q,Ce=A,(0===(fe=B).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||Ce.addedDocuments.size+Ce.modifiedDocuments.size+Ce.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,Q))});let _=uo(),b=$t();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),g.push(function $1(n,e,t){let r=$t(),o=$t();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=uo();return t.forEach((g,_)=>{const b=u.get(g);_.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(gt.min())?(e.removeEntry(g,_.readTime),l=l.insert(g,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),l=l.insert(g,_)):Oe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",_.version)}),{nr:l,sr:o}})}(u,l,e.documentUpdates).next(A=>{_=A.nr,b=A.sr})),!r.isEqual(gt.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(N=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(A)}return ee.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,b)).next(()=>_)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?dt(l.fc):o.removedDocuments.size>0&&(dt(l.fc),l.fc=!1))}),yield Fl(t,r,e)}catch(r){yield xl(r)}}),OM.apply(this,arguments)}function dO(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&o.push(g.snapshot)}),function(u,l){const g=Ze(u);g.onlineState=l;let _=!1;g.queries.forEach((b,A)=>{for(const N of A.listeners)N.Mu(l)&&(_=!0)}),_&&TM(g)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fF(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,it.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new kn(Ye.comparator);l=l.insert(u,Jn.newNoDocument(u,gt.min()));const g=$t().add(u),_=new $E(gt.min(),new Map,new kn(Ot),l,g);yield lO(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),jM(r)}else yield py(r.localStore,e,!1).then(()=>wy(r,e,t)).catch(xl)}),PM.apply(this,arguments)}function pF(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,it.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const o=yield function Nk(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,_,b){const A=_.batch,N=A.keys();let B=ee.resolve();return N.forEach(Q=>{B=B.next(()=>b.getEntry(g,Q)).next(fe=>{const ye=_.docVersions.get(Q);dt(null!==ye),fe.version.compareTo(ye)<0&&(A.applyToRemoteDocument(fe,_),fe.isValidDocument()&&(fe.setReadTime(_.commitVersion),b.addEntry(fe)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(g,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=$t();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(g=g.add(l.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);UM(t,r,null),VM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fl(t,o)}catch(o){yield xl(o)}}),kM.apply(this,arguments)}function gF(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=(0,it.Z)(function*(n,e,t){const r=Ze(n);try{const o=yield function(u,l){const g=Ze(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return g.mutationQueue.lookupMutationBatch(_,l).next(A=>(dt(null!==A),b=A.keys(),g.mutationQueue.removeMutationBatch(_,A))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>g.localDocuments.getDocuments(_,b))})}(r.localStore,e);UM(r,e,t),VM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fl(r,o)}catch(o){yield xl(o)}}),FM.apply(this,arguments)}function VM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function UM(n,e,t){const r=Ze(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||hO(n,r)})}function hO(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(rw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),jM(n))}function BM(n,e,t){for(const r of t)r instanceof aO?(n.Ic.addReference(r.key,e),yF(n,r)):r instanceof uO?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||hO(n,r.key)):rt()}function yF(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),jM(n))}function jM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new uF(t)),n.gc=n.gc.insert(t,r),yC(n.remoteStore,new kl(Ps(iy(t.path)),r,"TargetPurposeLimboResolution",Ki.ct))}}function Fl(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,it.Z)(function*(n,e,t){const r=Ze(n),o=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{l.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const A=WA.Li(_.targetId,b);u.push(A)}}))}),yield Promise.all(l),r.dc.nu(o),yield(g=(0,it.Z)(function*(_,b){const A=Ze(_);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ee.forEach(b,B=>ee.forEach(B.Fi,Q=>A.persistence.referenceDelegate.addReference(N,B.targetId,Q)).next(()=>ee.forEach(B.Bi,Q=>A.persistence.referenceDelegate.removeReference(N,B.targetId,Q)))))}catch(N){if(!Zu(N))throw N;Oe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of b){const B=N.targetId;if(!N.fromCache){const Q=A.Ji.get(B),ye=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);A.Ji=A.Ji.insert(B,ye)}}}),function(_,b){return g.apply(this,arguments)})(r.localStore,u))}),$M.apply(this,arguments)}function vF(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,it.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield B1(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Me(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fl(t,r.er)}var o}),HM.apply(this,arguments)}function _F(n,e){const t=Ze(n),r=t.yc.get(e);if(r&&r.fc)return $t().add(r.key);{let o=$t();const u=t._c.get(e);if(!u)return o;for(const l of u){const g=t.wc.get(l);o=o.unionWith(g.view.nc)}return o}}class _C{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.serializer=tw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function U1(n,e,t,r){return new xk(n,e,t,r)}(this.persistence,new V1,e.initialUser,this.serializer)}createPersistence(e){return new $A(cC.zs,this.serializer)}createSharedClientState(e){return new K1}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iy{initialize(e,t){var r=this;return(0,it.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>dO(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=vF.bind(null,r.syncEngine),yield function _M(n,e){return EM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nF}createDatastore(e){const t=tw(e.databaseInfo.databaseId),r=new Uk(e.databaseInfo);return new $k(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>dO(this.syncEngine,g,0),l=Z1.D()?new Z1:new Fk,new Gk(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,g,_,b){const A=new cF(r,o,u,l,g,_);return b&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const r=Ze(t);Oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class EC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RF{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Yr.UNAUTHENTICATED,this.clientId=JS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,it.Z)(function*(g){Oe("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Oe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=vy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function wC(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,it.Z)(function*(u){r.isEqual(u)||(yield B1(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XM.apply(this,arguments)}function ex(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function nx(n){return rx.apply(this,arguments)}(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>rO(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>rO(e.remoteStore,u)),n._onlineComponents=e}),tx.apply(this,arguments)}function rx(){return rx=(0,it.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function vO(n){return"FirebaseError"===n.name?n.code===ie.FAILED_PRECONDITION||n.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ao("Error using user provided cache. Falling back to memory cache: "+t),yield wC(n,new _C)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield wC(n,new _C);return n._offlineComponents}),rx.apply(this,arguments)}function IC(n){return ix.apply(this,arguments)}function ix(){return ix=(0,it.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield ex(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield ex(n,new Iy))),n._onlineComponents}),ix.apply(this,arguments)}function Dy(n){return ox.apply(this,arguments)}function ox(){return ox=(0,it.Z)(function*(n){const e=yield IC(n),t=e.eventManager;return t.onListen=lF.bind(null,e.syncEngine),t.onUnlisten=dF.bind(null,e.syncEngine),t}),ox.apply(this,arguments)}function CO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const bO=new Map;function ax(n,e,t){if(!t)throw new Me(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TO(n){if(!Ye.isDocumentKey(n))throw new Me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SO(n){if(Ye.isDocumentKey(n))throw new Me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CC(n);throw new Me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class MO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function jF(n,e,t,r){if(!0===e&&!0===r)throw new Me(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=CO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iw{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new MD;switch(t.type){case"firstParty":return new XN(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bO.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),bO.delete(e),t.terminate())}(this),Promise.resolve()}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Xu extends Yi{constructor(e,t,r){super(e,t,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Ye(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function HF(n,e,...t){if(n=(0,wr.m9)(n),ax("collection","path",e),n instanceof iw){const r=on.fromString(e,...t);return SO(r),new Xu(n,null,r)}{if(!(n instanceof Fr||n instanceof Xu))throw new Me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return SO(r),new Xu(n.firestore,null,r)}}function xO(n,e,...t){if(n=(0,wr.m9)(n),1===arguments.length&&(e=JS.A()),ax("doc","path",e),n instanceof iw){const r=on.fromString(e,...t);return TO(r),new Fr(n,null,new Ye(r))}{if(!(n instanceof Fr||n instanceof Xu))throw new Me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return TO(r),new Fr(n.firestore,n instanceof Xu?n.converter:null,new Ye(r))}}class zF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nM(this,"async_queue_retry"),this.Xc=()=>{const t=mC();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=mC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=mC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,it.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Zu(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=wM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ux(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Xn extends iw{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new zF,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RO(this),this._firestoreClient.terminate()}}function WF(n,e){const t="object"==typeof n?n:(0,Ha.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Ha._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,wr.P0)("firestore");u&&function $F(n,e,t,r={}){var o;const u=(n=an(n,iw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let g,_;if("string"==typeof r.mockUserToken)g=r.mockUserToken,_=Yr.MOCK_USER;else{g=(0,wr.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Yr(b)}n._authCredentials=new xD(new yp(g,_))}}(o,...u)}return o}function ei(n){return n._firestoreClient||RO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RO(n){var e,t,r;const o=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new E(n._databaseId,g,n._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,CO(b.experimentalLongPollingOptions),b.useFetchStreams));var g,b;n._firestoreClient=new RF(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fp(Jr.fromBase64String(e))}catch(t){throw new Me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fp(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cy{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cx{constructor(e){this._methodName=e}}class lx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const KF=/^__.*__$/;class ZF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}class kO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class bC{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return SC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(FO(this.ca)&&KF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class YF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tw(e)}ya(e,t,r,o=!1){return new bC({ca:e,methodName:t,ga:r,path:Ir.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function by(n){const e=n._freezeSettings(),t=tw(n._databaseId);return new YF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dx(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);fx("Data must be an object, but it was:",l,r);const g=jO(r,l);let _,b;if(u.merge)_=new Os(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const A=[];for(const N of u.mergeFields){const B=aw(e,N,t);if(!l.contains(B))throw new Me(ie.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);HO(A,B)||A.push(B)}_=new Os(A),b=l.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,b=l.fieldTransforms;return new ZF(new Zi(g),_,b)}class ow extends cx{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}function Lp(n,e){if($O(n=(0,wr.m9)(n)))return fx("Unsupported field value:",e,n),jO(n,e);if(n instanceof cx)return function(t,r){if(!FO(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let g=Lp(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,wr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RR(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Qn.fromDate(t);return{timestampValue:cy(r.serializer,o)}}if(t instanceof Qn){const o=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cy(r.serializer,o)}}if(t instanceof lx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fp)return{bytesValue:XR(r.serializer,t._byteString)};if(t instanceof Fr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${CC(t)}`)}(n,e)}function jO(n,e){const t={};return dA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(n,(r,o)=>{const u=Lp(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function $O(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof lx||n instanceof Fp||n instanceof Fr||n instanceof cx)}function fx(n,e,t){if(!$O(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function aw(n,e,t){if((e=(0,wr.m9)(e))instanceof Cy)return e._internalPath;if("string"==typeof e)return TC(n,e);throw SC("Field path arguments must be of type string or ",n,!1,void 0,t)}const eL=new RegExp("[~\\*/\\[\\]]");function TC(n,e,t){if(e.search(eL)>=0)throw SC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cy(...e.split("."))._internalPath}catch{throw SC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function SC(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||l)&&(_+=" (found",u&&(_+=` in field ${r}`),l&&(_+=` in document ${o}`),_+=")"),new Me(ie.INVALID_ARGUMENT,g+n+_)}function HO(n,e){return n.some(t=>t.isEqual(e))}class px{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tL extends px{data(){return super.data()}}function AC(n,e){return"string"==typeof e?TC(n,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}class gx{}class nL extends gx{}function rL(n,e,...t){let r=[];e instanceof gx&&r.push(e),r=r.concat(t),function(o){const u=o.filter(g=>g instanceof Ty).length,l=o.filter(g=>g instanceof uw).length;if(u>1||u>0&&l>0)throw new Me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class uw extends nL{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new uw(e,t,r)}_apply(e){const t=this._parse(e);return KO(e._query,t),new Yi(e.firestore,e.converter,EA(e._query,t))}_parse(e){const t=by(e.firestore);return function(o,u,l,g,_,b,A){let N;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){qO(A,b);const B=[];for(const Q of A)B.push(WO(g,o,Q));N={arrayValue:{values:B}}}else N=WO(g,o,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||qO(A,b),N=function BO(n,e,t,r=!1){return Lp(t,n.ya(r?4:3,e))}(l,"where",A,"in"===b||"not-in"===b);return tn.create(_,b,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function iL(n,e,t){const r=e,o=AC("where",n);return uw._create(o,r,t)}class Ty extends gx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ty(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const g of l)KO(u,g),u=EA(u,g)}(e._query,t),new Yi(e.firestore,e.converter,EA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function WO(n,e,t){if("string"==typeof(t=(0,wr.m9)(t))){if(""===t)throw new Me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_A(e)&&-1!==t.indexOf("/"))throw new Me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ye.isDocumentKey(r))throw new Me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ct(n,new Ye(r))}if(t instanceof Fr)return Ct(n,t._key);throw new Me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CC(t)}.`)}function qO(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KO(n,e){if(e.isInequality()){const r=KD(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Me(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=vA(n);null!==u&&function ZO(n,e,t){if(!t.isEqual(e))throw new Me(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sL{convertValue(e,t="none"){switch(P(e)){case 0:return null;case 1:return e.booleanValue;case 2:return a(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Nl(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new lx(a(e.latitude),a(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=f(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(y(e));default:return null}}convertTimestamp(e){const t=s(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);dt(c1(r));const o=new D(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return o.isEqual(t)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sy extends px{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new RC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(AC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class RC extends Sy{data(e={}){return super.data(e)}}class Ay{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new RC(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new RC(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const g=new RC(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==l.type&&(_=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:aL(l.type),doc:g,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}class Oh extends sL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function uL(n,e,t,...r){n=an(n,Fr);const o=an(n.firestore,Xn),u=by(o);let l;return l="string"==typeof(e=(0,wr.m9)(e))||e instanceof Cy?function UO(n,e,t,r,o,u){const l=n.ya(1,e,t),g=[aw(e,r,t)],_=[o];if(u.length%2!=0)throw new Me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)g.push(aw(e,u[B])),_.push(u[B+1]);const b=[],A=Zi.empty();for(let B=g.length-1;B>=0;--B)if(!HO(b,g[B])){const Q=g[B];let fe=_[B];fe=(0,wr.m9)(fe);const ye=l.da(Q);if(fe instanceof ow)b.push(Q);else{const Ce=Lp(fe,ye);null!=Ce&&(b.push(Q),A.set(Q,Ce))}}const N=new Os(b);return new kO(A,N,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function VO(n,e,t,r){const o=n.ya(1,e,t);fx("Data must be an object, but it was:",o,r);const u=[],l=Zi.empty();Nl(r,(_,b)=>{const A=TC(e,_,t);b=(0,wr.m9)(b);const N=o.da(A);if(b instanceof ow)u.push(A);else{const B=Lp(b,N);null!=B&&(u.push(A),l.set(A,B))}});const g=new Os(u);return new kO(l,g,o.fieldTransforms)}(u,"updateDoc",n._key,e),cw(o,[l.toMutation(n._key,ir.exists(!0))])}function cL(n){return cw(an(n.firestore,Xn),[new uy(n._key,ir.none())])}function lL(n,e){const t=an(n.firestore,Xn),r=xO(n),o=function yx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return cw(t,[dx(by(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function cw(n,e){return function(t,r){const o=new zn;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function hF(n,e,t){return RM.apply(this,arguments)}(yield function sx(n){return IC(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}(ei(n),e)}!function(n,e=!0){Ih=Ha.SDK_VERSION,(0,Ha._registerComponent)(new Qv.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new Xn(new ZS(t.getProvider("auth-internal")),new QS(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new D(g.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Ha.registerVersion)(SD,"3.12.2",n),(0,Ha.registerVersion)(SD,"3.12.2","esm2017")}();var DL={includeMetadataChanges:!1};function _x(n,e){return void 0===e&&(e=DL),new Nr.y(function(t){var r=function dL(n,...e){var t,r,o;n=(0,wr.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||ux(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(ux(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let _,b,A;if(n instanceof Fr)b=an(n.firestore,Xn),A=iy(n._key.path),_={next:N=>{e[l]&&e[l](function vx(n,e,t){const r=t.docs.get(e._key),o=new Oh(n);return new Sy(n,o,e._key,r,new Vp(t.hasPendingWrites,t.fromCache),e.converter)}(b,n,N))},error:e[l+1],complete:e[l+2]};else{const N=an(n,Yi);b=an(N.firestore,Xn),A=N._query;const B=new Oh(b);_={next:Q=>{e[l]&&e[l](new Ay(b,B,N,Q))},error:e[l+1],complete:e[l+2]},function zO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(N,B,Q,fe){const ye=new EC(fe),Ce=new SM(B,ye,Q);return N.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function IM(n,e){return DM.apply(this,arguments)}(yield Dy(N),Ce)})),()=>{ye.Dc(),N.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function CM(n,e){return bM.apply(this,arguments)}(yield Dy(N),Ce)}))}}(ei(b),A,g,_)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function xL(n,e){return void 0===e&&(e={}),function ML(n){return _x(n,{includeMetadataChanges:!0}).pipe((0,Vt.U)(function(e){return e.docs}))}(n).pipe((0,Vt.U)(function(t){return t.map(function(r){return function JO(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class PC{constructor(e){return e}}const nP="firestore",Ix=new h.OlP("angularfire2.firestore-instances");function OL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new PC(r)}}const PL={provide:class NL{constructor(){return(0,On.vb)(nP)}},deps:[[new h.FiY,Ix]]},kL={provide:PC,useFactory:function RL(n,e){const t=(0,On.JM)(nP,n,e);return t&&new PC(t)},deps:[[new h.FiY,Ix],Ga]};let FL=(()=>{class n{constructor(){(0,pl.KN)("angularfire",On.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[kL,PL]}),n})();function LL(n,...e){return{ngModule:FL,providers:[{provide:Ix,useFactory:OL(n),multi:!0,deps:[h.R0b,h.zs3,On.HU,Wf,[new h.FiY,HT],[new h.FiY,T_],...e]}]}}const VL=(0,On.u3)(xL,!0),UL=(0,On.u3)(lL,!0),BL=(0,On.u3)(HF,!0),jL=(0,On.u3)(cL,!0),rP=(0,On.u3)(xO,!0),$L=(0,On.u3)(WF,!0),HL=(0,On.u3)(rL,!0),zL=(0,On.u3)(uL,!0),GL=(0,On.u3)(iL,!0);let iP=(()=>{class n{constructor(t,r){this.http=t,this.firestore=r,this.useremail="",this.userbank="",this.userprofile={},this.collectionInstance=BL(this.firestore,"anfirestore")}addFirestore(t){UL(this.collectionInstance,t).then(()=>{console.log("Added")}).catch(r=>{console.log(r)})}fetchData(t){const r=HL(this.collectionInstance,GL("email","==",t));return VL(r,{idField:"id"})}updateData(t,r){const o=rP(this.firestore,"anfirestore",t);zL(o,r).then(()=>{console.log("Updated")}).catch(u=>{console.log(u)})}deleteDoc(t){const r=rP(this.firestore,"anfirestore",t);jL(r).then(()=>{console.log("Deleted")}).catch(o=>{console.log(o)})}checkdata(){return console.log(this.userbank),this.http.get("https://angular-project-blue.vercel.app/mean/checkdata/"+this.userbank)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(nv),h.LFG(PC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WL(n,e){1&n&&(h.TgZ(0,"div",8),h._uU(1," Password should be at least 6 characters long. "),h.qZA())}let qL=(()=>{class n{ngOnInit(){}constructor(t,r,o,u){this.fb=t,this.fire=r,this.route=o,this.user=u,this.formlogin=this.fb.group({email:["",Io.required],password:["",Io.required]})}login(){this.fire.signInWithEmailAndPassword(this.formlogin.value.email,this.formlogin.value.password).then(t=>{this.user.fetchData(this.formlogin.value.email).subscribe(r=>{this.user.useremail=r[0].email,this.user.userbank=r[0].bankname,this.user.userprofile=r,this.route.navigate(["/bank"])})}).catch(t=>{confirm("Not Found. Do you want to register instead?")?this.fire.createUserWithEmailAndPassword(this.formlogin.value.email,this.formlogin.value.password).then(o=>{this.user.addFirestore({account:"",accounttype:"",bankname:"",branch:"",email:this.formlogin.value.email,ifsccode:""}),alert("Registered Successfully"),this.formlogin.reset()}).catch(o=>{console.log(o)}):this.formlogin.reset()})}googlesign(){this.fire.signInWithPopup(new cT.V).then(t=>{this.user.fetchData(t.user?.email).subscribe(r=>{console.log(r.length),0==r.length?(this.user.addFirestore({account:"",accounttype:"",bankname:"",branch:"",email:t.user?.email,ifsccode:""}),this.user.fetchData(this.formlogin.value.email).subscribe(u=>{this.user.useremail=u[0].email,this.user.userbank=u[0].bankname,this.user.userprofile=u,this.user.userprofile=u,this.route.navigate(["/bank"])})):(this.user.useremail=r[0].email,this.user.userbank=r[0].bankname,this.user.userprofile=r,this.user.userprofile=r,this.route.navigate(["/bank"]))})})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(HC),h.Y36(om),h.Y36(Gr),h.Y36(iP))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:2,consts:[[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password","minlength","6",1,"form-control"],["class","text-danger",4,"ngIf"],["type","button",1,"btn","btn-primary","login",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t&&(h.TgZ(0,"section")(1,"h1"),h._uU(2,"Bank Login"),h.qZA(),h.TgZ(3,"form",0)(4,"div",1)(5,"label",2),h._uU(6,"Email address"),h.qZA(),h._UZ(7,"input",3),h.qZA(),h.TgZ(8,"div",1)(9,"label",4),h._uU(10,"Password"),h.qZA(),h._UZ(11,"input",5),h.YNc(12,WL,2,0,"div",6),h.qZA(),h.TgZ(13,"button",7),h.NdJ("click",function(){return r.login()}),h._uU(14,"Sign In"),h.qZA(),h._UZ(15,"br"),h.TgZ(16,"button",7),h.NdJ("click",function(){return r.googlesign()}),h._uU(17,"Google SignIn"),h.qZA()()()),2&t){let o;h.xp6(3),h.Q6J("formGroup",r.formlogin),h.xp6(9),h.Q6J("ngIf",(null==(o=r.formlogin.get("password"))?null:o.errors)&&(null==(o=r.formlogin.get("password"))?null:o.dirty))}},dependencies:[fa,lf,wo,Mu,Zc,Wy,wd,By],styles:["section[_ngcontent-%COMP%]{width:25%;margin:1rem auto}.login[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}@media (max-width: 700px){section[_ngcontent-%COMP%]{width:80%}}"]}),n})();function KL(n,e){1&n&&(h.TgZ(0,"div")(1,"div",1)(2,"span",2),h._uU(3,"Loading...."),h.qZA()()())}function ZL(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"div",5),h._UZ(2,"img",6),h.TgZ(3,"button",7),h._uU(4,"Add Details"),h.qZA(),h.TgZ(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"h5",12),h._uU(10,"Bank Details"),h.qZA(),h._UZ(11,"button",13),h.qZA(),h.TgZ(12,"div",14)(13,"div",15)(14,"label",16),h._uU(15,"Bank Account"),h.qZA(),h.TgZ(16,"input",17),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.accountnumber=o)}),h.qZA()(),h.TgZ(17,"div",15)(18,"label",16),h._uU(19,"Bank Name"),h.qZA(),h.TgZ(20,"input",17),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.bankname=o)}),h.qZA()(),h.TgZ(21,"div",15)(22,"label",16),h._uU(23,"IFSC Code"),h.qZA(),h.TgZ(24,"input",17),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.ifsccode=o)}),h.qZA()(),h.TgZ(25,"label",16),h._uU(26,"Branch Location"),h.qZA(),h.TgZ(27,"select",18),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.location=o)}),h.TgZ(28,"option",19),h._uU(29,"Select Location"),h.qZA(),h.TgZ(30,"option",20),h._uU(31,"New Delhi"),h.qZA(),h.TgZ(32,"option",21),h._uU(33,"West Bengal"),h.qZA(),h.TgZ(34,"option",22),h._uU(35,"Mumbai"),h.qZA(),h.TgZ(36,"option",23),h._uU(37,"Chennai"),h.qZA()(),h._UZ(38,"br"),h.TgZ(39,"label",16),h._uU(40,"Account Type"),h.qZA(),h.TgZ(41,"div",24)(42,"input",25),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.type=o)}),h.qZA(),h.TgZ(43,"label",26),h._uU(44," Savings "),h.qZA()(),h.TgZ(45,"div",24)(46,"input",27),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.type=o)}),h.qZA(),h.TgZ(47,"label",28),h._uU(48," Current "),h.qZA()()(),h.TgZ(49,"div",29)(50,"button",30),h._uU(51,"Close"),h.qZA(),h.TgZ(52,"button",31),h.NdJ("click",function(){h.CHM(t);const o=h.oxw(2);return h.KtG(o.addDetails())}),h._uU(53,"Add Details"),h.qZA()()()()()(),h.BQk()}if(2&n){const t=h.oxw(2);h.xp6(16),h.Q6J("ngModel",t.accountnumber),h.xp6(4),h.Q6J("ngModel",t.bankname),h.xp6(4),h.Q6J("ngModel",t.ifsccode),h.xp6(3),h.Q6J("ngModel",t.location),h.xp6(15),h.Q6J("ngModel",t.type),h.xp6(4),h.Q6J("ngModel",t.type)}}function YL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",44),h.NdJ("click",function(){h.CHM(t);const o=h.oxw().$implicit,u=h.oxw(3);return h.KtG(u.editData(o))}),h._uU(1,"Save"),h.qZA()}}function QL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",33)(1,"h5",34),h._uU(2),h.TgZ(3,"span",35)(4,"i",36),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw(3);return h.KtG(l.enableEdit(u))}),h.qZA(),h.TgZ(5,"i",37),h.NdJ("click",function(){h.CHM(t);const o=h.oxw(3);return h.KtG(o.deleteedit())}),h.qZA()()(),h.TgZ(6,"div",38)(7,"h5",39),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"p",40)(11,"b"),h._uU(12,"IFSC Code:"),h.qZA(),h.TgZ(13,"input",41),h.NdJ("ngModelChange",function(o){const l=h.CHM(t).$implicit;return h.KtG(l.ifsccode=o)}),h.qZA()(),h.TgZ(14,"p",40)(15,"b"),h._uU(16,"Branch Location:"),h.qZA(),h.TgZ(17,"input",41),h.NdJ("ngModelChange",function(o){const l=h.CHM(t).$implicit;return h.KtG(l.branch=o)}),h.qZA()(),h.TgZ(18,"p",40)(19,"b"),h._uU(20,"Account Type:"),h.qZA(),h._uU(21," \xa0\xa0"),h.TgZ(22,"span",42),h._uU(23),h.qZA()()(),h.YNc(24,YL,2,0,"button",43),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.hij(" ",t.bankname," "),h.xp6(6),h.hij("Account: ",t.id,""),h.xp6(5),h.Q6J("ngModel",t.ifsccode)("disabled",!t.isEditingCode),h.xp6(4),h.Q6J("ngModel",t.branch)("disabled",!t.isEditingBranch),h.xp6(6),h.Oqu(t.accounttype),h.xp6(1),h.Q6J("ngIf",t.isEditingCode||t.isEditingBranch)}}function JL(n,e){if(1&n&&(h.TgZ(0,"main"),h.YNc(1,QL,25,8,"div",32),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",t.dataarray)}}function XL(n,e){if(1&n&&(h.TgZ(0,"div")(1,"h4"),h._uU(2),h.qZA(),h.YNc(3,ZL,54,6,"ng-container",3),h.YNc(4,JL,2,1,"ng-template",null,4,h.W1O),h.qZA()),2&n){const t=h.MAs(5),r=h.oxw();h.xp6(2),h.hij("Welcome, ",r.email," "),h.xp6(1),h.Q6J("ngIf",r.isEmpty)("ngIfElse",t)}}const eV=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:qL},{path:"bank",component:(()=>{class n{constructor(t){this.user=t,this.isLoading=!0,this.isEmpty=!1,this.dataarray=[],this.isEditingCode=!0,setTimeout(()=>{this.email=this.user.useremail,this.isLoading=!1,this.checkdata()},2e3)}addDetails(){this.user.updateData(this.user.userprofile[0].id,{account:this.user.userprofile[0].id,bankname:this.bankname,ifsccode:this.ifsccode,branch:this.location,accounttype:this.type}),this.checkdata()}checkdata(){this.accountnumber=this.user.userprofile[0].id,this.user.fetchData(this.user.userprofile[0].email).subscribe(t=>{""===t[0].bankname||null===t[0].bankname[0].bankname?this.isEmpty=!0:(this.isEmpty=!1,this.dataarray=t)})}enableEdit(t){t.isEditingCode=!t.isEditingCode,t.isEditingBranch=!t.isEditingBranch}editData(t){var r={branch:t.branch,ifsccode:t.ifsccode};t.isEditingCode=!t.isEditingCode,t.isEditingBranch=!t.isEditingBranch,this.user.updateData(this.user.userprofile[0].id,r)}deleteedit(){confirm("Do you want to delete data")?this.user.updateData(this.user.userprofile[0].id,{account:"",branch:"",ifsccode:"",bankname:"",accounttype:""}):console.log("Delete"),this.checkdata()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(iP))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-bank"]],decls:2,vars:2,consts:[[4,"ngIf"],["role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngIf","ngIfElse"],["emptynull",""],[1,"nodata"],["src","https://i.imgur.com/j4csC2q.png","alt",""],["data-mdb-toggle","modal","data-mdb-target","#exampleModal",1,"btn","btn-primary"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-mdb-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],["value","New Delhi"],["value","West Bengal"],["value","Mumbai"],["value","Chennai"],[1,"form-check"],["type","radio","name","exampleRadios","id","exampleRadios1","value","Savings",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleRadios1",1,"form-check-label"],["type","radio","name","exampleRadios","id","exampleRadios2","value","Current",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleRadios2",1,"form-check-label"],[1,"modal-footer"],["type","button","data-mdb-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-mdb-dismiss","modal",1,"btn","btn-primary",3,"click"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"float-end"],[1,"fa","fa-pencil","mx-2",3,"click"],[1,"fa","fa-trash",3,"click"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"badge","badge-warning"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,r){1&t&&(h.YNc(0,KL,4,0,"div",0),h.YNc(1,XL,6,3,"div",0)),2&t&&(h.Q6J("ngIf",r.isLoading),h.xp6(1),h.Q6J("ngIf",!r.isLoading))},dependencies:[Ur,fa,jy,Id,wo,Xp,Vy,Mu,Ed],styles:["h4[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.spinner-border[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5rem auto}.nodata[_ngcontent-%COMP%]{margin:2rem auto;display:flex;flex-flow:column;width:50%}img[_ngcontent-%COMP%]{width:50%;height:50%;margin:0 auto}main[_ngcontent-%COMP%]{width:50%;margin:2rem auto}@media (max-width: 700px){.nodata[_ngcontent-%COMP%]{width:80%}main[_ngcontent-%COMP%]{width:88%}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-size:80%}}"]}),n})()}];let tV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Kv.forRoot(eV),Kv]}),n})(),nV=(()=>{class n{constructor(){this.title="frontend"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:14,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["type","button","data-mdb-toggle","collapse","data-mdb-target","#navbarButtonsExample","aria-controls","navbarButtonsExample","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarButtonsExample",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"card-header"],[1,"d-flex","align-items-center"],["routerLink","/login","role","button",1,"btn","btn-dark","px-3"],[1,"fa-solid","fa-right-from-bracket"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),h._UZ(3,"i",3),h.qZA(),h.TgZ(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7)(8,"b"),h._uU(9,"Soumyadip Das"),h.qZA()()()(),h.TgZ(10,"div",8)(11,"a",9),h._UZ(12,"i",10),h.qZA()()()()(),h._UZ(13,"router-outlet"))},dependencies:[Pf,$a]}),n})();const sP_firebase={apiKey:"AIzaSyDSgSW7_b0wH11pfj_PTbodXuKcsBaX24Y",authDomain:"angularproject-6ac4f.firebaseapp.com",projectId:"angularproject-6ac4f",storageBucket:"angularproject-6ac4f.appspot.com",messagingSenderId:"506129405118",appId:"1:506129405118:web:2f79b559c5a670021cbaef"};let rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[nV]}),n.\u0275inj=h.cJS({imports:[Rc,tV,Nw,Rw,Zw,za.hO.initializeApp(sP_firebase),tI(()=>nI(sP_firebase)),LL(()=>$L())]}),n})();nd().bootstrapModule(rV).catch(n=>console.error(n))},5619:(pt,Te,k)=>{k.d(Te,{X:()=>L});var h=k(8645);class L extends h.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const ae=super._subscribe(te);return!ae.closed&&te.next(this._value),ae}getValue(){const{hasError:te,thrownError:ae,_value:De}=this;if(te)throw ae;return this._throwIfClosed(),De}next(te){super.next(this._value=te)}}},5592:(pt,Te,k)=>{k.d(Te,{y:()=>Ge});var h=k(1887),L=k(7394),H=k(4850),te=k(8407),ae=k(2653),De=k(4674),ke=k(1441);let Ge=(()=>{class re{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const $e=new re;return $e.source=this,$e.operator=ce,$e}subscribe(ce,$e,We){const He=function j(re){return re&&re instanceof h.Lv||function z(re){return re&&(0,De.m)(re.next)&&(0,De.m)(re.error)&&(0,De.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ce)?ce:new h.Hp(ce,$e,We);return(0,ke.x)(()=>{const{operator:Ne,source:ht}=this;He.add(Ne?Ne.call(He,ht):ht?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(ce){try{return this._subscribe(ce)}catch($e){ce.error($e)}}forEach(ce,$e){return new($e=be($e))((We,He)=>{const Ne=new h.Hp({next:ht=>{try{ce(ht)}catch(Se){He(Se),Ne.unsubscribe()}},error:He,complete:We});this.subscribe(Ne)})}_subscribe(ce){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(ce)}[H.L](){return this}pipe(...ce){return(0,te.U)(ce)(this)}toPromise(ce){return new(ce=be(ce))(($e,We)=>{let He;this.subscribe(Ne=>He=Ne,Ne=>We(Ne),()=>$e(He))})}}return re.create=Fe=>new re(Fe),re})();function be(re){var Fe;return null!==(Fe=re??ae.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(pt,Te,k)=>{k.d(Te,{x:()=>ke});var h=k(5592),L=k(7394);const te=(0,k(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(9039),De=k(1441);let ke=(()=>{class be extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const re=new Ge(this,this);return re.operator=j,re}_throwIfClosed(){if(this.closed)throw new te}next(j){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(j)}})}error(j){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:re}=this;for(;re.length;)re.shift().error(j)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:re,isStopped:Fe,observers:ce}=this;return re||Fe?L.Lc:(this.currentObservers=null,ce.push(j),new L.w0(()=>{this.currentObservers=null,(0,ae.P)(ce,j)}))}_checkFinalizedStatuses(j){const{hasError:re,thrownError:Fe,isStopped:ce}=this;re?j.error(Fe):ce&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return be.create=(z,j)=>new Ge(z,j),be})();class Ge extends ke{constructor(z,j){super(),this.destination=z,this.source=j}next(z){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===re||re.call(j,z)}error(z){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===re||re.call(j,z)}complete(){var z,j;null===(j=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===j||j.call(z)}_subscribe(z){var j,re;return null!==(re=null===(j=this.source)||void 0===j?void 0:j.subscribe(z))&&void 0!==re?re:L.Lc}}},1887:(pt,Te,k)=>{k.d(Te,{Hp:()=>We,Lv:()=>re});var h=k(4674),L=k(7394),H=k(2653),te=k(3894);function ae(){}const De=be("C",void 0,void 0);function be(_e,pe,ve){return{kind:_e,value:pe,error:ve}}var z=k(7599),j=k(1441);class re extends L.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,L.Nn)(pe)&&pe.add(this)):this.destination=Se}static create(pe,ve,Ae){return new We(pe,ve,Ae)}next(pe){this.isStopped?ht(function Ge(_e){return be("N",_e,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?ht(function ke(_e){return be("E",void 0,_e)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?ht(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ce(_e,pe){return Fe.call(_e,pe)}class $e{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:ve}=this;if(ve.next)try{ve.next(pe)}catch(Ae){He(Ae)}}error(pe){const{partialObserver:ve}=this;if(ve.error)try{ve.error(pe)}catch(Ae){He(Ae)}else He(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(ve){He(ve)}}}class We extends re{constructor(pe,ve,Ae){let J;if(super(),(0,h.m)(pe)||!pe)J={next:pe??void 0,error:ve??void 0,complete:Ae??void 0};else{let Z;this&&H.config.useDeprecatedNextContext?(Z=Object.create(pe),Z.unsubscribe=()=>this.unsubscribe(),J={next:pe.next&&ce(pe.next,Z),error:pe.error&&ce(pe.error,Z),complete:pe.complete&&ce(pe.complete,Z)}):J=pe}this.destination=new $e(J)}}function He(_e){H.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(_e):(0,te.h)(_e)}function ht(_e,pe){const{onStoppedNotification:ve}=H.config;ve&&z.z.setTimeout(()=>ve(_e,pe))}const Se={closed:!0,next:ae,error:function Ne(_e){throw _e},complete:ae}},7394:(pt,Te,k)=>{k.d(Te,{Lc:()=>De,w0:()=>ae,Nn:()=>ke});var h=k(4674);const H=(0,k(2306).d)(be=>function(j){be(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((re,Fe)=>`${Fe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var te=k(9039);class ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ce of j)ce.remove(this);else j.remove(this);const{initialTeardown:re}=this;if((0,h.m)(re))try{re()}catch(ce){z=ce instanceof H?ce.errors:[ce]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const ce of Fe)try{Ge(ce)}catch($e){z=z??[],$e instanceof H?z=[...z,...$e.errors]:z.push($e)}}if(z)throw new H(z)}}add(z){var j;if(z&&z!==this)if(this.closed)Ge(z);else{if(z instanceof ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(z)}}_hasParent(z){const{_parentage:j}=this;return j===z||Array.isArray(j)&&j.includes(z)}_addParent(z){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(z),j):j?[j,z]:z}_removeParent(z){const{_parentage:j}=this;j===z?this._parentage=null:Array.isArray(j)&&(0,te.P)(j,z)}remove(z){const{_finalizers:j}=this;j&&(0,te.P)(j,z),z instanceof ae&&z._removeParent(this)}}ae.EMPTY=(()=>{const be=new ae;return be.closed=!0,be})();const De=ae.EMPTY;function ke(be){return be instanceof ae||be&&"closed"in be&&(0,h.m)(be.remove)&&(0,h.m)(be.add)&&(0,h.m)(be.unsubscribe)}function Ge(be){(0,h.m)(be)?be():be.unsubscribe()}},2653:(pt,Te,k)=>{k.d(Te,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pt,Te,k)=>{k.d(Te,{E:()=>L});const L=new(k(5592).y)(ae=>ae.complete())},2459:(pt,Te,k)=>{k.d(Te,{D:()=>pe});var h=k(4829),L=k(3093),H=k(5137),De=k(5592),Ge=k(4971),be=k(4674),z=k(7103);function re(ve,Ae){if(!ve)throw new Error("Iterable cannot be null");return new De.y(J=>{(0,z.f)(J,Ae,()=>{const Z=ve[Symbol.asyncIterator]();(0,z.f)(J,Ae,()=>{Z.next().then(ge=>{ge.done?J.complete():J.next(ge.value)})},0,!0)})})}var Fe=k(8382),ce=k(4026),$e=k(4266),We=k(3664),He=k(5726),Ne=k(9853),ht=k(541);function pe(ve,Ae){return Ae?function _e(ve,Ae){if(null!=ve){if((0,Fe.c)(ve))return function te(ve,Ae){return(0,h.Xf)(ve).pipe((0,H.R)(Ae),(0,L.Q)(Ae))}(ve,Ae);if((0,$e.z)(ve))return function ke(ve,Ae){return new De.y(J=>{let Z=0;return Ae.schedule(function(){Z===ve.length?J.complete():(J.next(ve[Z++]),J.closed||this.schedule())})})}(ve,Ae);if((0,ce.t)(ve))return function ae(ve,Ae){return(0,h.Xf)(ve).pipe((0,H.R)(Ae),(0,L.Q)(Ae))}(ve,Ae);if((0,He.D)(ve))return re(ve,Ae);if((0,We.T)(ve))return function j(ve,Ae){return new De.y(J=>{let Z;return(0,z.f)(J,Ae,()=>{Z=ve[Ge.h](),(0,z.f)(J,Ae,()=>{let ge,Ee;try{({value:ge,done:Ee}=Z.next())}catch(Fn){return void J.error(Fn)}Ee?J.complete():J.next(ge)},0,!0)}),()=>(0,be.m)(Z?.return)&&Z.return()})}(ve,Ae);if((0,ht.L)(ve))return function Se(ve,Ae){return re((0,ht.Q)(ve),Ae)}(ve,Ae)}throw(0,Ne.z)(ve)}(ve,Ae):(0,h.Xf)(ve)}},4829:(pt,Te,k)=>{k.d(Te,{Xf:()=>Fe});var h=k(7582),L=k(4266),H=k(4026),te=k(5592),ae=k(8382),De=k(5726),ke=k(9853),Ge=k(3664),be=k(541),z=k(4674),j=k(3894),re=k(4850);function Fe(_e){if(_e instanceof te.y)return _e;if(null!=_e){if((0,ae.c)(_e))return function ce(_e){return new te.y(pe=>{const ve=_e[re.L]();if((0,z.m)(ve.subscribe))return ve.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,L.z)(_e))return function $e(_e){return new te.y(pe=>{for(let ve=0;ve<_e.length&&!pe.closed;ve++)pe.next(_e[ve]);pe.complete()})}(_e);if((0,H.t)(_e))return function We(_e){return new te.y(pe=>{_e.then(ve=>{pe.closed||(pe.next(ve),pe.complete())},ve=>pe.error(ve)).then(null,j.h)})}(_e);if((0,De.D)(_e))return Ne(_e);if((0,Ge.T)(_e))return function He(_e){return new te.y(pe=>{for(const ve of _e)if(pe.next(ve),pe.closed)return;pe.complete()})}(_e);if((0,be.L)(_e))return function ht(_e){return Ne((0,be.Q)(_e))}(_e)}throw(0,ke.z)(_e)}function Ne(_e){return new te.y(pe=>{(function Se(_e,pe){var ve,Ae,J,Z;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ve=(0,h.KL)(_e);!(Ae=yield ve.next()).done;)if(pe.next(Ae.value),pe.closed)return}catch(ge){J={error:ge}}finally{try{Ae&&!Ae.done&&(Z=ve.return)&&(yield Z.call(ve))}finally{if(J)throw J.error}}pe.complete()})})(_e,pe).catch(ve=>pe.error(ve))})}},3019:(pt,Te,k)=>{k.d(Te,{T:()=>De});var h=k(7537),L=k(4829),H=k(6232),te=k(4564),ae=k(2459);function De(...ke){const Ge=(0,te.yG)(ke),be=(0,te._6)(ke,1/0),z=ke;return z.length?1===z.length?(0,L.Xf)(z[0]):(0,h.J)(be)((0,ae.D)(z,Ge)):H.E}},2096:(pt,Te,k)=>{k.d(Te,{of:()=>H});var h=k(4564),L=k(2459);function H(...te){const ae=(0,h.yG)(te);return(0,L.D)(te,ae)}},8251:(pt,Te,k)=>{k.d(Te,{x:()=>L});var h=k(1887);function L(te,ae,De,ke,Ge){return new H(te,ae,De,ke,Ge)}class H extends h.Lv{constructor(ae,De,ke,Ge,be,z){super(ae),this.onFinalize=be,this.shouldUnsubscribe=z,this._next=De?function(j){try{De(j)}catch(re){ae.error(re)}}:super._next,this._error=Ge?function(j){try{Ge(j)}catch(re){ae.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},7398:(pt,Te,k)=>{k.d(Te,{U:()=>H});var h=k(9360),L=k(8251);function H(te,ae){return(0,h.e)((De,ke)=>{let Ge=0;De.subscribe((0,L.x)(ke,be=>{ke.next(te.call(ae,be,Ge++))}))})}},7537:(pt,Te,k)=>{k.d(Te,{J:()=>H});var h=k(1631),L=k(2737);function H(te=1/0){return(0,h.z)(L.y,te)}},1631:(pt,Te,k)=>{k.d(Te,{z:()=>Ge});var h=k(7398),L=k(4829),H=k(9360),te=k(7103),ae=k(8251),ke=k(4674);function Ge(be,z,j=1/0){return(0,ke.m)(z)?Ge((re,Fe)=>(0,h.U)((ce,$e)=>z(re,ce,Fe,$e))((0,L.Xf)(be(re,Fe))),j):("number"==typeof z&&(j=z),(0,H.e)((re,Fe)=>function De(be,z,j,re,Fe,ce,$e,We){const He=[];let Ne=0,ht=0,Se=!1;const _e=()=>{Se&&!He.length&&!Ne&&z.complete()},pe=Ae=>Ne<re?ve(Ae):He.push(Ae),ve=Ae=>{ce&&z.next(Ae),Ne++;let J=!1;(0,L.Xf)(j(Ae,ht++)).subscribe((0,ae.x)(z,Z=>{Fe?.(Z),ce?pe(Z):z.next(Z)},()=>{J=!0},void 0,()=>{if(J)try{for(Ne--;He.length&&Ne<re;){const Z=He.shift();$e?(0,te.f)(z,$e,()=>ve(Z)):ve(Z)}_e()}catch(Z){z.error(Z)}}))};return be.subscribe((0,ae.x)(z,pe,()=>{Se=!0,_e()})),()=>{We?.()}}(re,Fe,be,j)))}},3093:(pt,Te,k)=>{k.d(Te,{Q:()=>te});var h=k(7103),L=k(9360),H=k(8251);function te(ae,De=0){return(0,L.e)((ke,Ge)=>{ke.subscribe((0,H.x)(Ge,be=>(0,h.f)(Ge,ae,()=>Ge.next(be),De),()=>(0,h.f)(Ge,ae,()=>Ge.complete(),De),be=>(0,h.f)(Ge,ae,()=>Ge.error(be),De)))})}},3020:(pt,Te,k)=>{k.d(Te,{B:()=>ae});var h=k(4829),L=k(8645),H=k(1887),te=k(9360);function ae(ke={}){const{connector:Ge=(()=>new L.x),resetOnError:be=!0,resetOnComplete:z=!0,resetOnRefCountZero:j=!0}=ke;return re=>{let Fe,ce,$e,We=0,He=!1,Ne=!1;const ht=()=>{ce?.unsubscribe(),ce=void 0},Se=()=>{ht(),Fe=$e=void 0,He=Ne=!1},_e=()=>{const pe=Fe;Se(),pe?.unsubscribe()};return(0,te.e)((pe,ve)=>{We++,!Ne&&!He&&ht();const Ae=$e=$e??Ge();ve.add(()=>{We--,0===We&&!Ne&&!He&&(ce=De(_e,j))}),Ae.subscribe(ve),!Fe&&We>0&&(Fe=new H.Hp({next:J=>Ae.next(J),error:J=>{Ne=!0,ht(),ce=De(Se,be,J),Ae.error(J)},complete:()=>{He=!0,ht(),ce=De(Se,z),Ae.complete()}}),(0,h.Xf)(pe).subscribe(Fe))})(re)}}function De(ke,Ge,...be){if(!0===Ge)return void ke();if(!1===Ge)return;const z=new H.Hp({next:()=>{z.unsubscribe(),ke()}});return(0,h.Xf)(Ge(...be)).subscribe(z)}},5137:(pt,Te,k)=>{k.d(Te,{R:()=>L});var h=k(9360);function L(H,te=0){return(0,h.e)((ae,De)=>{De.add(H.schedule(()=>ae.subscribe(De),te))})}},4664:(pt,Te,k)=>{k.d(Te,{w:()=>te});var h=k(4829),L=k(9360),H=k(8251);function te(ae,De){return(0,L.e)((ke,Ge)=>{let be=null,z=0,j=!1;const re=()=>j&&!be&&Ge.complete();ke.subscribe((0,H.x)(Ge,Fe=>{be?.unsubscribe();let ce=0;const $e=z++;(0,h.Xf)(ae(Fe,$e)).subscribe(be=(0,H.x)(Ge,We=>Ge.next(De?De(Fe,We,$e,ce++):We),()=>{be=null,re()}))},()=>{j=!0,re()}))})}},9397:(pt,Te,k)=>{k.d(Te,{b:()=>ae});var h=k(4674),L=k(9360),H=k(8251),te=k(2737);function ae(De,ke,Ge){const be=(0,h.m)(De)||ke||Ge?{next:De,error:ke,complete:Ge}:De;return be?(0,L.e)((z,j)=>{var re;null===(re=be.subscribe)||void 0===re||re.call(be);let Fe=!0;z.subscribe((0,H.x)(j,ce=>{var $e;null===($e=be.next)||void 0===$e||$e.call(be,ce),j.next(ce)},()=>{var ce;Fe=!1,null===(ce=be.complete)||void 0===ce||ce.call(be),j.complete()},ce=>{var $e;Fe=!1,null===($e=be.error)||void 0===$e||$e.call(be,ce),j.error(ce)},()=>{var ce,$e;Fe&&(null===(ce=be.unsubscribe)||void 0===ce||ce.call(be)),null===($e=be.finalize)||void 0===$e||$e.call(be)}))}):te.y}},4552:(pt,Te,k)=>{k.d(Te,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(pt,Te,k)=>{k.d(Te,{z:()=>h});const h={setTimeout(L,H,...te){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(L,H,...te):setTimeout(L,H,...te)},clearTimeout(L){const{delegate:H}=h;return(H?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(pt,Te,k)=>{k.d(Te,{h:()=>L});const L=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,Te,k)=>{k.d(Te,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(pt,Te,k)=>{k.d(Te,{_6:()=>De,jO:()=>te,yG:()=>ae});var h=k(4674);function H(ke){return ke[ke.length-1]}function te(ke){return(0,h.m)(H(ke))?ke.pop():void 0}function ae(ke){return function L(ke){return ke&&(0,h.m)(ke.schedule)}(H(ke))?ke.pop():void 0}function De(ke,Ge){return"number"==typeof H(ke)?ke.pop():Ge}},9039:(pt,Te,k)=>{function h(L,H){if(L){const te=L.indexOf(H);0<=te&&L.splice(te,1)}}k.d(Te,{P:()=>h})},2306:(pt,Te,k)=>{function h(L){const te=L(ae=>{Error.call(ae),ae.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}k.d(Te,{d:()=>h})},1441:(pt,Te,k)=>{k.d(Te,{O:()=>te,x:()=>H});var h=k(2653);let L=null;function H(ae){if(h.config.useDeprecatedSynchronousErrorHandling){const De=!L;if(De&&(L={errorThrown:!1,error:null}),ae(),De){const{errorThrown:ke,error:Ge}=L;if(L=null,ke)throw Ge}}else ae()}function te(ae){h.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ae)}},7103:(pt,Te,k)=>{function h(L,H,te,ae=0,De=!1){const ke=H.schedule(function(){te(),De?L.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(L.add(ke),!De)return ke}k.d(Te,{f:()=>h})},2737:(pt,Te,k)=>{function h(L){return L}k.d(Te,{y:()=>h})},4266:(pt,Te,k)=>{k.d(Te,{z:()=>h});const h=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(pt,Te,k)=>{k.d(Te,{D:()=>L});var h=k(4674);function L(H){return Symbol.asyncIterator&&(0,h.m)(H?.[Symbol.asyncIterator])}},4674:(pt,Te,k)=>{function h(L){return"function"==typeof L}k.d(Te,{m:()=>h})},8382:(pt,Te,k)=>{k.d(Te,{c:()=>H});var h=k(4850),L=k(4674);function H(te){return(0,L.m)(te[h.L])}},3664:(pt,Te,k)=>{k.d(Te,{T:()=>H});var h=k(4971),L=k(4674);function H(te){return(0,L.m)(te?.[h.h])}},4026:(pt,Te,k)=>{k.d(Te,{t:()=>L});var h=k(4674);function L(H){return(0,h.m)(H?.then)}},541:(pt,Te,k)=>{k.d(Te,{L:()=>te,Q:()=>H});var h=k(7582),L=k(4674);function H(ae){return(0,h.FC)(this,arguments,function*(){const ke=ae.getReader();try{for(;;){const{value:Ge,done:be}=yield(0,h.qq)(ke.read());if(be)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ge)}}finally{ke.releaseLock()}})}function te(ae){return(0,L.m)(ae?.getReader)}},9360:(pt,Te,k)=>{k.d(Te,{A:()=>L,e:()=>H});var h=k(4674);function L(te){return(0,h.m)(te?.lift)}function H(te){return ae=>{if(L(ae))return ae.lift(function(De){try{return te(De,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(pt,Te,k)=>{k.d(Te,{U:()=>H,z:()=>L});var h=k(2737);function L(...te){return H(te)}function H(te){return 0===te.length?h.y:1===te.length?te[0]:function(De){return te.reduce((ke,Ge)=>Ge(ke),De)}}},3894:(pt,Te,k)=>{k.d(Te,{h:()=>H});var h=k(2653),L=k(7599);function H(te){L.z.setTimeout(()=>{const{onUnhandledError:ae}=h.config;if(!ae)throw te;ae(te)})}},9853:(pt,Te,k)=>{function h(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>h})},8926:(pt,Te,k)=>{k.d(Te,{tb:()=>wh,AFp:()=>t0,ip1:()=>Um,hGG:()=>Xm,z2F:()=>zn,Ojb:()=>ob,sBO:()=>ND,Sil:()=>jm,EJc:()=>wD,Xts:()=>vf,SBq:()=>Af,lqb:()=>Vu,qLn:()=>ol,vpe:()=>Wi,XFs:()=>st,OlP:()=>hn,zs3:()=>$u,ZZ4:()=>Ki,aQg:()=>Jm,soG:()=>fp,YKP:()=>VI,h0i:()=>ca,PXZ:()=>Yr,R0b:()=>li,FiY:()=>wt,Lbi:()=>fv,g9A:()=>n0,Qsj:()=>u0,FYo:()=>yv,JOm:()=>ra,tp0:()=>jn,Rgc:()=>Fo,dDg:()=>WS,eoX:()=>TD,q4F:()=>vv,GfV:()=>c0,s_b:()=>lh,ifc:()=>yn,VuI:()=>Qr,MMx:()=>j_,Lck:()=>ep,eFA:()=>Oe,Gpc:()=>ht,f3M:()=>se,X6Q:()=>eR,$WT:()=>Vs,MR2:()=>uv,_c5:()=>kD,qFp:()=>oR,rg0:()=>Kl,c2e:()=>EE,zSh:()=>cv,HDt:()=>wE,wAp:()=>Tt,vHH:()=>J,lri:()=>DE,rWj:()=>bl,cg1:()=>om,kL8:()=>A_,dqk:()=>rn,Z0I:()=>gi,eJc:()=>wl,QGY:()=>rI,F4k:()=>gT,RDi:()=>gf,AaK:()=>We,qOj:()=>kg,Xq5:()=>Hv,TTD:()=>Zl,_Bn:()=>LI,jDz:()=>$_,xp6:()=>v0,uIk:()=>zv,ekj:()=>p_,Suo:()=>Wu,Xpm:()=>Xa,lG2:()=>ur,Yz7:()=>jt,cJS:()=>ks,oAB:()=>Ul,Yjl:()=>ga,Y36:()=>No,_UZ:()=>X0,BQk:()=>Gg,ynx:()=>zg,qZA:()=>Wf,TgZ:()=>Ga,EpF:()=>nI,n5z:()=>Gc,LFG:()=>F,$8M:()=>Aa,$Z:()=>Tv,NdJ:()=>iI,CRH:()=>la,oxw:()=>oI,Q6J:()=>On,iGM:()=>sE,MAs:()=>Hg,KtG:()=>yo,CHM:()=>Yh,P3R:()=>Zw,YNc:()=>Gf,W1O:()=>ph,_uU:()=>g_,Oqu:()=>v_,hij:()=>sm});var h=k(8645),L=k(7394),H=k(5619),te=k(5592),ae=k(3019),De=k(2096),ke=k(3020),Ge=k(4664),be=k(2737),z=k(9360),j=k(8251);function Fe(i,s){return i===s}function ce(i){for(let s in i)if(i[s]===ce)return s;throw Error("Could not find renamed property on target object.")}function $e(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function We(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(We).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function He(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ne=ce({__forward_ref__:ce});function ht(i){return i.__forward_ref__=ht,i.toString=function(){return We(this())},i}function Se(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(Ne)&&i.__forward_ref__===ht}function pe(i){return i&&!!i.\u0275providers}const Ae="https://g.co/ng/security#xss";class J extends Error{constructor(s,a){super(function Z(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function Ri(i,s){throw new J(-201,!1)}function qt(i,s){null==i&&function St(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ks(i){return{providers:i.providers||[],imports:i.imports||[]}}function ps(i){return ho(i,Wt)||ho(i,yt)}function gi(i){return null!==ps(i)}function ho(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ls(i){return i&&(i.hasOwnProperty(ct)||i.hasOwnProperty(Dn))?i[ct]:null}const Wt=ce({\u0275prov:ce}),ct=ce({\u0275inj:ce}),yt=ce({ngInjectableDef:ce}),Dn=ce({ngInjectorDef:ce});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Cr;function Jt(i){const s=Cr;return Cr=i,s}function Qi(i,s,a){const c=ps(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&st.Optional?null:void 0!==s?s:void Ri(We(i))}const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gs={},or="__NG_DI_FLAG__",Lr="ngTempTokenPath",er=/\n/gm,Wn="__source";let Ji;function tr(i){const s=Ji;return Ji=i,s}function V(i,s=st.Default){if(void 0===Ji)throw new J(-203,!1);return null===Ji?Qi(i,void 0,s):Ji.get(i,s&st.Optional?null:void 0,s)}function F(i,s=st.Default){return(function mi(){return Cr}()||V)(Se(i),s)}function se(i,s=st.Default){return F(i,X(s))}function X(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Je(i){const s=[];for(let a=0;a<i.length;a++){const c=Se(i[a]);if(Array.isArray(c)){if(0===c.length)throw new J(900,!1);let d,f=st.Default;for(let y=0;y<c.length;y++){const E=c[y],D=Kt(E);"number"==typeof D?-1===D?d=E.token:f|=D:d=E}s.push(F(d,f))}else s.push(F(c))}return s}function mt(i,s){return i[or]=s,i.prototype[or]=s,i}function Kt(i){return i[or]}function bn(i){return{toString:i}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),yn=(()=>{return(i=yn||(yn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",yn;var i})();const Ln={},Ft=[],ms=ce({\u0275cmp:ce}),le=ce({\u0275dir:ce}),Y=ce({\u0275pipe:ce}),Re=ce({\u0275mod:ce}),nt=ce({\u0275fac:ce}),vt=ce({__NG_ELEMENT_ID__:ce}),Nt=ce({__NG_ENV_ID__:ce});function Xt(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function qn(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],E=a[c++];i.setAttribute(s,y,E,f)}else{const f=d,y=a[++c];ys(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),c++}}return c}function Tn(i){return 3===i||4===i||6===i}function ys(i){return 64===i.charCodeAt(0)}function Xi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Bo(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Bo(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const ec="ng-template";function Qa(i,s,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==Xt(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function vs(i){return 4===i.type&&i.value!==ec}function jo(i,s,a){return s===(4!==i.type||a?i.value:ec)}function Ph(i,s,a){let c=4;const d=i.attrs||[],f=function Bp(i){for(let s=0;s<i.length;s++)if(Tn(i[s]))return s;return i.length}(d);let y=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!jo(i,D,a)||""===D&&1===s.length){if(Ur(c))return!1;y=!0}}else{const T=8&c?D:s[++E];if(8&c&&null!==i.attrs){if(!Qa(i.attrs,T,a)){if(Ur(c))return!1;y=!0}continue}const P=xn(8&c?"class":D,d,vs(i),a);if(-1===P){if(Ur(c))return!1;y=!0;continue}if(""!==T){let $;$=P>f?"":d[P+1].toLowerCase();const K=8&c?$:null;if(K&&-1!==Xt(K,T,0)||2&c&&T!==$){if(Ur(c))return!1;y=!0}}}}else{if(!y&&!Ur(c)&&!Ur(D))return!1;if(y&&Ur(D))continue;y=!1,c=D|1&c}}return Ur(c)||y}function Ur(i){return 0==(1&i)}function xn(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function Ll(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function kh(i,s,a=!1){for(let c=0;c<s.length;c++)if(Ph(i,s[c],a))return!0;return!1}function $o(i,s){return i?":not("+s.trim()+")":s}function tc(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const E=i[++a];d+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Ur(y)&&(s+=$o(f,d),d=""),c=y,f=f||!Ur(c);a++}return""!==d&&(s+=$o(f,d)),s}function Xa(i){return bn(()=>{const s=ic(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||yn.Emulated,styles:i.styles||Ft,_:null,schemas:i.schemas||null,tView:null,id:""};tu(a);const c=i.dependencies;return a.directiveDefs=Ho(c,!1),a.pipeDefs=Ho(c,!0),a.id=function Lh(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function nc(i){return Zt(i)||mr(i)}function rc(i){return null!==i}function Ul(i){return bn(()=>({type:i.type,bootstrap:i.bootstrap||Ft,declarations:i.declarations||Ft,imports:i.imports||Ft,exports:i.exports||Ft,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function eu(i,s){if(null==i)return Ln;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function ur(i){return bn(()=>{const s=ic(i);return tu(s),s})}function ga(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zt(i){return i[ms]||null}function mr(i){return i[le]||null}function cr(i){return i[Y]||null}function Vs(i){const s=Zt(i)||mr(i)||cr(i);return null!==s&&s.standalone}function lr(i,s){const a=i[Re]||null;if(!a&&!0===s)throw new Error(`Type ${We(i)} does not have '\u0275mod' property.`);return a}function ic(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ln,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Ft,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eu(i.inputs,s),outputs:eu(i.outputs)}}function tu(i){i.features?.forEach(s=>s(i))}function Ho(i,s){if(!i)return null;const a=s?cr:nc;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(rc)}const En=0,Xe=1,At=2,gn=3,nr=4,es=5,yr=6,Tr=7,Vn=8,Us=9,_s=10,It=11,nu=12,oc=13,zo=14,Nn=15,fo=16,Sr=17,vr=18,ru=19,Bs=20,Go=21,ts=22,Oi=23,Es=24,Lt=25,uc=1,cc=2,Pi=7,Is=9,_r=11;function dr(i){return Array.isArray(i)&&"object"==typeof i[uc]}function sn(i){return Array.isArray(i)&&!0===i[uc]}function Wo(i){return 0!=(4&i.flags)}function js(i){return i.componentOffset>-1}function qo(i){return 1==(1&i.flags)}function jr(i){return!!i.template}function ma(i){return 0!=(512&i[At])}function Hs(i,s){return i.hasOwnProperty(nt)?i[nt]:null}let gc=rn.WeakRef??class uu{constructor(s){this.ref=s}deref(){return this.ref}},vi=0,ni=null,ya=!1;function An(i){const s=ni;return ni=i,s}class va{constructor(){this.id=vi++,this.ref=function zh(i){return new gc(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=ya;ya=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{ya=s}}producerAccessed(){if(ya)throw new Error("");if(null===ni)return;let s=ni.producers.get(this.id);void 0===s?(s={consumerNode:ni.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ni.trackingVersion},ni.producers.set(this.id,s),this.consumers.set(ni.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=ni.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ni?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Kn=null;function Kl(i){const s=An(null);try{return i()}finally{An(s)}}const Zo=()=>{};class _c extends va{constructor(s,a,c){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Zo,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=An(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Zo,this.watch(this.registerOnCleanup)}finally{An(s)}}cleanup(){this.cleanupFn()}}class Ec{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Zl(){return wc}function wc(i){return i.type.prototype.ngOnChanges&&(i.setInput=Gh),Yl}function Yl(){const i=Ic(this),s=i?.current;if(s){const a=i.previous;if(a===Ln)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Gh(i,s,a,c){const d=this.declaredInputs[a],f=Ic(i)||function Ql(i,s){return i[pu]=s}(i,{previous:Ln,current:null}),y=f.current||(f.current={}),E=f.previous,D=E[d];y[d]=new Ec(D&&D.currentValue,s,E===Ln),i[c]=s}Zl.ngInherit=!0;const pu="__ngSimpleChanges__";function Ic(i){return i[pu]||null}const ri=function(i,s,a){};function en(i){for(;Array.isArray(i);)i=i[En];return i}function Yo(i,s){return en(s[i])}function ii(i,s){return en(s[i.index])}function Cc(i,s){return i.data[s]}function Ar(i,s){const a=s[i];return dr(a)?a:a[En]}function _i(i,s){return null==s?null:i[s]}function Ei(i){i[Sr]=0}function yu(i){1024&i[At]||(i[At]|=1024,Sc(i,1))}function vu(i){1024&i[At]&&(i[At]&=-1025,Sc(i,-1))}function Sc(i,s){let a=i[gn];if(null===a)return;a[es]+=s;let c=a;for(a=a[gn];null!==a&&(1===s&&1===c[es]||-1===s&&0===c[es]);)a[es]+=s,c=a,a=a[gn]}const _t={lFrame:Fc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xl(){return _t.bindingsEnabled}function Ie(){return _t.lFrame.lView}function Yt(){return _t.lFrame.tView}function Yh(i){return _t.lFrame.contextLView=i,i[Vn]}function yo(i){return _t.lFrame.contextLView=null,i}function Mr(){let i=Rn();for(;null!==i&&64===i.type;)i=i.parent;return i}function Rn(){return _t.lFrame.currentTNode}function wi(i,s){const a=_t.lFrame;a.currentTNode=i,a.isParent=s}function Nc(){return _t.lFrame.isParent}function Ea(){_t.lFrame.isParent=!1}function ns(){return _t.lFrame.bindingIndex++}function Oc(i,s){const a=_t.lFrame;a.bindingIndex=a.bindingRootIndex=i,rs(s)}function rs(i){_t.lFrame.currentDirectiveIndex=i}function Pc(){return _t.lFrame.currentQueryIndex}function wa(i){_t.lFrame.currentQueryIndex=i}function rd(i){const s=i[Xe];return 2===s.type?s.declTNode:1===s.type?i[yr]:null}function zp(i,s,a){if(a&st.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&st.Host||(d=rd(f),null===d||(f=f[zo],10&d.type))););if(null===d)return!1;s=d,i=f}const c=_t.lFrame=Qh();return c.currentTNode=s,c.lView=i,!0}function kc(i){const s=Qh(),a=i[Xe];_t.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Qh(){const i=_t.lFrame,s=null===i?null:i.child;return null===s?Fc(i):s}function Fc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Jh(){const i=_t.lFrame;return _t.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Xh=Jh;function Du(){const i=Jh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function xr(){return _t.lFrame.selectedIndex}function Gs(i){_t.lFrame.selectedIndex=i}function vn(){const i=_t.lFrame;return Cc(i.tView,i.selectedIndex)}let ad=!0;function Ia(){return ad}function Eo(i){ad=i}function _n(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:x}=f;y&&(i.contentHooks??=[]).push(-a,y),E&&((i.contentHooks??=[]).push(a,E),(i.contentCheckHooks??=[]).push(a,E)),D&&(i.viewHooks??=[]).push(-a,D),T&&((i.viewHooks??=[]).push(a,T),(i.viewCheckHooks??=[]).push(a,T)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function Nr(i,s,a){Cu(i,s,3,a)}function Xo(i,s,a,c){(3&i[At])===a&&Cu(i,s,a,c)}function Da(i,s){let a=i[At];(3&a)===s&&(a&=8191,a+=1,i[At]=a)}function Cu(i,s,a,c){const f=c??-1,y=s.length-1;let E=0;for(let D=void 0!==c?65535&i[Sr]:0;D<y;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=c&&E>=c)break}else s[D]<0&&(i[Sr]+=65536),(E<f||-1==f)&&(ea(i,a,s,D),i[Sr]=(4294901760&i[Sr])+D+2),D++}function bu(i,s){ri(4,i,s);const a=An(null);try{s.call(i)}finally{An(a),ri(5,i,s)}}function ea(i,s,a,c){const d=a[c]<0,f=a[c+1],E=i[d?-a[c]:a[c]];d?i[At]>>13<i[Sr]>>16&&(3&i[At])===s&&(i[At]+=8192,bu(E,f)):bu(E,f)}const is=-1;class ss{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function qs(i){return i!==is}function Di(i){return 32767&i}function si(i,s){let a=function Vi(i){return i>>16}(i),c=s;for(;a>0;)c=c[zo],a--;return c}let Ks=!0;function Bc(i){const s=Ks;return Ks=i,s}const dd=255,wo=5;let os=0;const Ui={};function as(i,s){const a=Io(i,s);if(-1!==a)return a;const c=s[Xe];c.firstCreatePass&&(i.injectorIndex=s.length,hd(c.data,i),hd(s,null),hd(c.blueprint,null));const d=ba(i,s),f=i.injectorIndex;if(qs(d)){const y=Di(d),E=si(d,s),D=E[Xe].data;for(let T=0;T<8;T++)s[f+T]=E[y+T]|D[y+T]}return s[f+8]=d,f}function hd(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Io(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ba(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=ta(d),null===c)return is;if(a++,d=d[zo],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return is}function Ta(i,s,a){!function Mn(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(c=a[vt]),null==c&&(c=a[vt]=os++);const d=c&dd;s.data[i+(d>>wo)]|=1<<d}(i,s,a)}function jc(i,s,a){if(a&st.Optional||void 0!==i)return i;Ri()}function Tu(i,s,a,c){if(a&st.Optional&&void 0===c&&(c=null),!(a&(st.Self|st.Host))){const d=i[Us],f=Jt(void 0);try{return d?d.get(s,c,a&st.Optional):Qi(s,c,a&st.Optional)}finally{Jt(f)}}return jc(c,0,a)}function $c(i,s,a,c=st.Default,d){if(null!==i){if(2048&s[At]&&!(c&st.Self)){const y=function Sa(i,s,a,c,d){let f=i,y=s;for(;null!==f&&null!==y&&2048&y[At]&&!(512&y[At]);){const E=Su(f,y,a,c|st.Self,Ui);if(E!==Ui)return E;let D=f.parent;if(!D){const T=y[Bs];if(T){const x=T.get(a,Ui,c);if(x!==Ui)return x}D=ta(y),y=y[zo]}f=D}return d}(i,s,a,c,Ui);if(y!==Ui)return y}const f=Su(i,s,a,c,Ui);if(f!==Ui)return f}return Tu(s,a,c,d)}function Su(i,s,a,c,d){const f=function fd(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof s?s>=0?s&dd:Au:s}(a);if("function"==typeof f){if(!zp(s,i,c))return c&st.Host?jc(d,0,c):Tu(s,a,c,d);try{const y=f(c);if(null!=y||c&st.Optional)return y;Ri()}finally{Xh()}}else if("number"==typeof f){let y=null,E=Io(i,s),D=is,T=c&st.Host?s[Nn][yr]:null;for((-1===E||c&st.SkipSelf)&&(D=-1===E?ba(i,s):s[E+8],D!==is&&zc(c,!1)?(y=s[Xe],E=Di(D),s=si(D,s)):E=-1);-1!==E;){const x=s[Xe];if(Ys(f,E,x.data)){const P=Hc(E,s,a,y,c,T);if(P!==Ui)return P}D=s[E+8],D!==is&&zc(c,s[Xe].data[E+8]===T)&&Ys(f,E,s)?(y=x,E=Di(D),s=si(D,s)):E=-1}}return d}function Hc(i,s,a,c,d,f){const y=s[Xe],E=y.data[i+8],x=Cs(E,y,a,null==c?js(E)&&Ks:c!=y&&0!=(3&E.type),d&st.Host&&f===E);return null!==x?Zs(s,y,x,E):Ui}function Cs(i,s,a,c,d){const f=i.providerIndexes,y=s.data,E=1048575&f,D=i.directiveStart,x=f>>20,$=d?E+x:i.directiveEnd;for(let K=c?E:E+x;K<$;K++){const de=y[K];if(K<D&&a===de||K>=D&&de.type===a)return K}if(d){const K=y[D];if(K&&jr(K)&&K.type===a)return D}return null}function Zs(i,s,a,c){let d=i[a];const f=s.data;if(function Ca(i){return i instanceof ss}(d)){const y=d;y.resolving&&function Fn(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new J(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}(f[a]));const E=Bc(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Jt(y.injectImpl):null;zp(i,c,st.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function ud(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=wc(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==D&&Jt(D),Bc(E),y.resolving=!1,Xh()}}return d}function Ys(i,s,a){return!!(a[s+(i>>wo)]&1<<i)}function zc(i,s){return!(i&st.Self||i&st.Host&&s)}class Do{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return $c(this._tNode,this._lView,s,X(c),a)}}function Au(){return new Do(Mr(),Ie())}function Gc(i){return bn(()=>{const s=i.prototype.constructor,a=s[nt]||Bi(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[nt]||Bi(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Bi(i){return _e(i)?()=>{const s=Bi(Se(i));return s&&s()}:Hs(i)}function ta(i){const s=i[Xe],a=s.type;return 2===a?s.declTNode:1===a?i[yr]:null}function Aa(i){return function nf(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Tn(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Mr(),i)}const Co="__parameters__";function Xs(i,s,a){return bn(()=>{const c=function Ma(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return E.annotation=y,E;function E(D,T,x){const P=D.hasOwnProperty(Co)?D[Co]:Object.defineProperty(D,Co,{value:[]})[Co];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Nu(i,s){i.forEach(a=>Array.isArray(a)?Nu(a,s):s(a))}function af(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ts(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function bi(i,s,a){let c=Ss(i,s);return c>=0?i[1|c]=a:(c=~c,function xy(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function eo(i,s){const a=Ss(i,s);if(a>=0)return i[1|a]}function Ss(i,s){return function C(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const wt=mt(Xs("Optional"),8),jn=mt(Xs("SkipSelf"),4);function Ed(i){return 128==(128&i.flags)}var ra=(()=>((ra=ra||{})[ra.Important=1]="Important",ra[ra.DashCase=2]="DashCase",ra))();const pw=/^>|^->|<!--|-->|--!>|<!-$/g,kC=/(<|>)/,Dx="\u200b$1\u200b";const Ly=new Map;let Vy=0;const df="__ngContext__";function Si(i,s){dr(s)?(i[df]=s[ru],function gw(i){Ly.set(i[ru],i)}(s)):i[df]=s}let $y;function Dw(i,s){return $y(i,s)}function Id(i){const s=i[gn];return sn(s)?s[gn]:s}function Pu(i){return zy(i[nu])}function Tw(i){return zy(i[nr])}function zy(i){for(;null!==i&&!sn(i);)i=i[nr];return i}function Dd(i,s,a,c,d){if(null!=c){let f,y=!1;sn(c)?f=c:dr(c)&&(y=!0,c=c[En]);const E=en(c);0===i&&null!==a?null==d?$C(s,a,E):bd(s,a,E,d||null,!0):1===i&&null!==a?bd(s,a,E,d||null,!0):2===i?function fr(i,s,a){const c=Jy(i,s);c&&function HC(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,E,y):3===i&&s.destroyNode(E),null!=f&&function zC(i,s,a,c,d){const f=a[Pi];f!==en(a)&&Dd(s,i,c,f,d);for(let E=_r;E<a.length;E++){const D=a[E];ls(D[Xe],D,i,s,c,f)}}(s,i,f,a,d)}}function Gy(i,s){return i.createComment(function Fy(i){return i.replace(pw,s=>s.replace(kC,Dx))}(s))}function Cd(i,s,a){return i.createElement(s,a)}function qy(i,s){const a=i[Is],c=a.indexOf(s);vu(s),a.splice(c,1)}function Ky(i,s){if(i.length<=_r)return;const a=_r+s,c=i[a];if(c){const d=c[fo];null!==d&&d!==i&&qy(d,c),s>0&&(i[a-1][nr]=c[nr]);const f=Ts(i,_r+s);!function Aw(i,s){ls(i,s,s[It],2,null,null),s[En]=null,s[yr]=null}(c[Xe],c);const y=f[vr];null!==y&&y.detachView(f[Xe]),c[gn]=null,c[nr]=null,c[At]&=-129}return c}function Zy(i,s){if(!(256&s[At])){const a=s[It];s[Oi]?.destroy(),s[Es]?.destroy(),a.destroyNode&&ls(i,s,a,3,null,null),function BC(i){let s=i[nu];if(!s)return xw(i[Xe],i);for(;s;){let a=null;if(dr(s))a=s[nu];else{const c=s[_r];c&&(a=c)}if(!a){for(;s&&!s[nr]&&s!==i;)dr(s)&&xw(s[Xe],s),s=s[gn];null===s&&(s=i),dr(s)&&xw(s[Xe],s),a=s&&s[nr]}s=a}}(s)}}function xw(i,s){if(!(256&s[At])){s[At]&=-129,s[At]|=256,function bx(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof ss)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const E=d[f[y]],D=f[y+1];ri(4,E,D);try{D.call(E)}finally{ri(5,E,D)}}else{ri(4,d,f);try{f.call(d)}finally{ri(5,d,f)}}}}}(i,s),function Cx(i,s){const a=i.cleanup,c=s[Tr];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[Tr]=null);const d=s[Go];if(null!==d){s[Go]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[Xe].type&&s[It].destroy();const a=s[fo];if(null!==a&&sn(s[gn])){a!==s[gn]&&qy(a,s);const c=s[vr];null!==c&&c.detachView(i)}!function LC(i){Ly.delete(i[ru])}(s)}}function eg(i,s,a){return function Yy(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[En];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===yn.None||f===yn.Emulated)return null}return ii(c,a)}}(i,s.parent,a)}function bd(i,s,a,c,d){i.insertBefore(s,a,c,d)}function $C(i,s,a){i.appendChild(s,a)}function Qy(i,s,a,c,d){null!==c?bd(i,s,a,c,d):$C(i,s,a)}function Jy(i,s){return i.parentNode(s)}let oi,ev,Md,Dt=function Rw(i,s,a){return 40&i.type?ii(i,a):null};function ka(i,s,a,c){const d=eg(i,c,s),f=s[It],E=function Nw(i,s,a){return Dt(i,s,a)}(c.parent||s[yr],c,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)Qy(f,d,a[D],E,!1);else Qy(f,d,a,E,!1);void 0!==oi&&oi(f,c,s,a,d)}function Hi(i,s){if(null!==s){const a=s.type;if(3&a)return ii(s,i);if(4&a)return Xc(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Hi(i,c);{const d=i[s.index];return sn(d)?Xc(-1,d):en(d)}}if(32&a)return Dw(s,i)()||en(i[s.index]);{const c=Ao(i,s);return null!==c?Array.isArray(c)?c[0]:Hi(Id(i[Nn]),c):Hi(i,s.next)}}return null}function Ao(i,s){return null!==s?i[Nn][yr].projection[s.projection]:null}function Xc(i,s){const a=_r+i+1;if(a<s.length){const c=s[a],d=c[Xe].firstChild;if(null!==d)return Hi(c,d)}return s[Pi]}function Sd(i,s,a,c,d,f,y){for(;null!=a;){const E=c[a.index],D=a.type;if(y&&0===s&&(E&&Si(en(E),c),a.flags|=2),32!=(32&a.flags))if(8&D)Sd(i,s,a.child,c,d,f,!1),Dd(s,i,d,E,f);else if(32&D){const T=Dw(a,c);let x;for(;x=T();)Dd(s,i,d,x,f);Dd(s,i,d,E,f)}else 16&D?Ow(i,s,c,a,d,f):Dd(s,i,d,E,f);a=y?a.projectionNext:a.next}}function ls(i,s,a,c,d,f){Sd(a,c,i.firstChild,s,d,f,!1)}function Ow(i,s,a,c,d,f){const y=a[Nn],D=y[yr].projection[c.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Dd(s,i,d,D[T],f);else{let T=D;const x=y[gn];Ed(c)&&(T.flags|=128),Sd(i,s,T,x,d,f,!0)}}function Xy(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function pf(i,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&qn(i,s,c),null!==d&&Xy(i,s,d),null!==f&&function WC(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function gf(i){ev=i}function tg(i){return function mf(){if(void 0===Md&&(Md=null,rn.trustedTypes))try{Md=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Md}()?.createScriptURL(i)||i}class nv{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ae})`}}function Fa(i){return i instanceof nv?i.changingThisBreaksApplicationSecurity:i}function ng(i,s){const a=function Vw(i){return i instanceof nv&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Ae})`)}return a===s}const Fx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function tb(i){const s=yf();return s?s.sanitize(Rr.URL,i)||"":ng(i,"URL")?Fa(i):function jw(i){return(i=String(i)).match(Fx)?i:"unsafe:"+i}(ge(i))}function nb(i){const s=yf();if(s)return tg(s.sanitize(Rr.RESOURCE_URL,i)||"");if(ng(i,"ResourceURL"))return tg(Fa(i));throw new J(904,!1)}function Zw(i,s,a){return function Hx(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?nb:tb}(s,a)(i)}function yf(){const i=Ie();return i&&i[_s].sanitizer}class hn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vf=new hn("ENVIRONMENT_INITIALIZER"),Yw=new hn("INJECTOR",-1),Qw=new hn("INJECTOR_DEF_TYPES");class rb{get(s,a=gs){if(a===gs){const c=new Error(`NullInjectorError: No provider for ${We(s)}!`);throw c.name="NullInjectorError",c}return a}}function uv(i){return{\u0275providers:i}}function xo(...i){return{\u0275providers:_f(0,i),\u0275fromNgModule:!0}}function _f(i,...s){const a=[],c=new Set;let d;return Nu(s,f=>{const y=f;Ef(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&Jw(d,a),a}function Jw(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];og(d,f=>{s.push(f)})}}function Ef(i,s,a,c){if(!(i=Se(i)))return!1;let d=null,f=Ls(i);const y=!f&&Zt(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(f=Ls(D),!f)return!1;d=D}const E=c.has(d);if(y){if(E)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of D)Ef(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let T;c.add(d);try{Nu(f.imports,x=>{Ef(x,s,a,c)&&(T||=[],T.push(x))})}finally{}void 0!==T&&Jw(T,s)}if(!E){const T=Hs(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:Ft},{provide:Qw,useValue:d,multi:!0},{provide:vf,useValue:()=>F(d),multi:!0})}const D=f.providers;null==D||E||og(D,x=>{s.push(x)})}}return d!==i&&void 0!==i.providers}function og(i,s){for(let a of i)pe(a)&&(a=a.\u0275providers),Array.isArray(a)?og(a,s):s(a)}const ib=ce({provide:String,useValue:ce});function xd(i){return null!==i&&"object"==typeof i&&ib in i}function Va(i){return"function"==typeof i}const cv=new hn("Set Injector scope."),Fu={},Lu={};let ag;function Rd(){return void 0===ag&&(ag=new rb),ag}class Vu{}class Ua extends Vu{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dv(s,y=>this.processProvider(y)),this.records.set(Yw,Od(void 0,this)),d.has("environment")&&this.records.set(Vu,Od(void 0,this));const f=this.records.get(cv);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Qw.multi,Ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=tr(this),c=Jt(void 0);try{return s()}finally{tr(a),Jt(c)}}get(s,a=gs,c=st.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Nt))return s[Nt](this);c=X(c);const d=tr(this),f=Jt(void 0);try{if(!(c&st.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function tl(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(s)&&ps(s);E=D&&this.injectableDefInScope(D)?Od(Uu(s),Fu):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(c&st.Self?Rd():this.parent).get(s,a=c&st.Optional&&a===gs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Lr]=y[Lr]||[]).unshift(We(s)),d)throw y;return function ar(i,s,a,c){const d=i[Lr];throw s[Wn]&&d.unshift(s[Wn]),i.message=function Cn(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=We(s);if(Array.isArray(s))d=s.map(We).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];f.push(y+":"+("string"==typeof E?JSON.stringify(E):We(E)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(er,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Lr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Jt(f),tr(d)}}resolveInjectorInitializers(){const s=tr(this),a=Jt(void 0);try{const c=this.get(vf.multi,Ft,st.Self);for(const d of c)d()}finally{tr(s),Jt(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(We(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(s){let a=Va(s=Se(s))?s:Se(s&&s.provide);const c=function ug(i){return xd(i)?Od(void 0,i.useValue):Od(lv(i),Fu)}(s);if(Va(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Od(void 0,Fu,!0),d.factory=()=>Je(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Fu&&(a.value=Lu,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zi(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Se(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Uu(i){const s=ps(i),a=null!==s?s.factory:Hs(i);if(null!==a)return a;if(i instanceof hn)throw new J(204,!1);if(i instanceof Function)return function sb(i){const s=i.length;if(s>0)throw function na(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new J(204,!1);const a=function Fs(i){return i&&(i[Wt]||i[yt])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new J(204,!1)}function lv(i,s,a){let c;if(Va(i)){const d=Se(i);return Hs(d)||Uu(d)}if(xd(i))c=()=>Se(i.useValue);else if(function Xw(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Je(i.deps||[]));else if(function Nd(i){return!(!i||!i.useExisting)}(i))c=()=>F(Se(i.useExisting));else{const d=Se(i&&(i.useClass||i.provide));if(!function Bu(i){return!!i.deps}(i))return Hs(d)||Uu(d);c=()=>new d(...Je(i.deps))}return c}function Od(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function dv(i,s){for(const a of i)Array.isArray(a)?dv(a,s):a&&pe(a)?dv(a.\u0275providers,s):s(a)}const t0=new hn("AppId",{providedIn:"root",factory:()=>hv}),hv="ng",n0=new hn("Platform Initializer"),fv=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ob=new hn("CSP nonce",{providedIn:"root",factory:()=>function $n(){if(void 0!==ev)return ev;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let s0=(i,s)=>null;function kd(i,s){return s0(i,s)}class cb{}class a0{}class db{resolveComponentFactory(s){throw function lb(i){const s=Error(`No component factory found for ${We(i)}.`);return s.ngComponent=i,s}(s)}}let _g=(()=>{class i{}return i.NULL=new db,i})();function hb(){return Ld(Mr(),Ie())}function Ld(i,s){return new Af(ii(i,s))}let Af=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=hb,i})();function fb(i){return i instanceof Af?i.nativeElement:i}class yv{}let u0=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function pb(){const i=Ie(),a=Ar(Mr().index,i);return(dr(a)?a:i)[It]}(),i})(),sl=(()=>{class i{}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>null}),i})();class c0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vv=new c0("16.1.1"),Eg={};function ju(i){for(;i;){i[At]|=64;const s=Id(i);if(ma(i)&&!s)return i;i=s}return null}function wg(i){return i.ngOriginalError}class ol{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&wg(s);for(;a&&wg(a);)a=wg(a);return a||null}}const d0=new hn("",{providedIn:"root",factory:()=>!1});function sa(i){return i instanceof Function?i():i}class p0 extends va{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){ju(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,c){const d=An(this);this.trackingVersion++;try{s(a,c)}finally{An(d)}}destroy(){this.trackingVersion++}}let Cg=null;function g0(){return Cg??=new p0,Cg}function m0(i,s){return i[s]??g0()}function y0(i,s){const a=g0();a.hasReadASignal&&(i[s]=Cg,a.lView=i,Cg=new p0)}const Pt={};function v0(i){_0(Yt(),Ie(),xr()+i,!1)}function _0(i,s,a,c){if(!c)if(3==(3&s[At])){const f=i.preOrderCheckHooks;null!==f&&Nr(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Xo(s,f,0,a)}Gs(a)}function Cv(i,s=null,a=null,c){const d=bv(i,s,a,c);return d.resolveInjectorInitializers(),d}function bv(i,s=null,a=null,c,d=new Set){const f=[a||Ft,xo(i)];return c=c||("object"==typeof i?void 0:We(i)),new Ua(f,s||Rd(),c||null,d)}let $u=(()=>{class i{static create(a,c){if(Array.isArray(a))return Cv({name:""},c,a,"");{const d=a.name??"";return Cv({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=gs,i.NULL=new rb,i.\u0275prov=jt({token:i,providedIn:"any",factory:()=>F(Yw)}),i.__NG_ELEMENT_ID__=-1,i})();function No(i,s=st.Default){const a=Ie();return null===a?F(i,s):$c(Mr(),a,Se(i),s)}function Tv(){throw new Error("invalid")}function ul(i,s,a,c,d,f,y,E,D,T,x){const P=s.blueprint.slice();return P[En]=d,P[At]=140|c,(null!==T||i&&2048&i[At])&&(P[At]|=2048),Ei(P),P[gn]=P[zo]=i,P[Vn]=a,P[_s]=y||i&&i[_s],P[It]=E||i&&i[It],P[Us]=D||i&&i[Us]||null,P[yr]=f,P[ru]=function FC(){return Vy++}(),P[ts]=x,P[Bs]=T,P[Nn]=2==s.type?i[Nn]:P,P}function cl(i,s,a,c,d){let f=i.data[s];if(null===f)f=function Rf(i,s,a,c,d){const f=Rn(),y=Nc(),D=i.data[s]=function C0(i,s,a,c,d,f){let y=s?s.injectorIndex:-1,E=0;return function mo(){return null!==_t.skipHydrationRootTNode}()&&(E|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}(i,s,a,c,d),function Hp(){return _t.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function vo(){const i=_t.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return wi(f,!0),f}function Hd(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Tg(i,s,a,c,d){const f=m0(s,Oi),y=xr(),E=2&c;try{if(Gs(-1),E&&s.length>Lt&&_0(i,s,Lt,!1),ri(E?2:0,d),E)f.runInContext(a,c,d);else{const T=An(null);try{a(c,d)}finally{An(T)}}}finally{E&&null===s[Oi]&&y0(s,Oi),Gs(y),ri(E?3:1,d)}}function Of(i,s,a){if(Wo(s)){const c=An(null);try{const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const E=i.data[y];E.contentQueries&&E.contentQueries(1,a[y],y)}}finally{An(c)}}}function Pf(i,s,a){Xl()&&(function Ro(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;js(a)&&function Sb(i,s,a){const c=ii(s,i),d=kf(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const E=Mg(i,ul(i,d,null,y,c,s,null,i[_s].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=E}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||as(a,s),Si(c,s);const y=a.initialInputs;for(let E=d;E<f;E++){const D=i.data[E],T=Zs(s,i,E,a);Si(T,s),null!==y&&Ab(0,E-d,T,D,0,y),jr(D)&&(Ar(a.index,s)[Vn]=Zs(s,i,E,a))}}(i,s,a,ii(a,s)),64==(64&a.flags)&&S0(i,s,a))}function Sv(i,s,a=ii){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],E=-1===y?a(s,i):i[y];i[d++]=E}}}function kf(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Sg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Sg(i,s,a,c,d,f,y,E,D,T,x){const P=Lt+c,$=P+d,K=function wb(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Pt);return a}(P,$),de="function"==typeof T?T():T;return K[Xe]={type:i,blueprint:K,template:a,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:de,incompleteFirstPass:!1,ssrId:x}}let w0=i=>null;function Mv(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?xv(a,s,d,f):c.hasOwnProperty(d)&&xv(a,s,c[d],f)}return a}function xv(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function b0(i,s,a,c){if(Xl()){const d=null===c?null:{"":-1},f=function tN(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(kh(s,y.selectors,!1))if(c||(c=[]),jr(y))if(null!==y.findHostDirectiveDefs){const E=[];d=d||new Map,y.findHostDirectiveDefs(y,E,d),c.unshift(...E,y),Rv(i,s,E.length)}else c.unshift(y),Rv(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,E;null===f?y=E=null:[y,E]=f,null!==y&&T0(i,s,a,y,d,E),d&&function bb(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new J(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=Xi(a.mergedAttrs,a.attrs)}function T0(i,s,a,c,d,f){for(let T=0;T<c.length;T++)Ta(as(a,s),i,c[T].type);!function Ag(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let T=0;T<c.length;T++){const x=c[T];x.providersResolver&&x.providersResolver(x)}let y=!1,E=!1,D=Hd(i,s,c.length,null);for(let T=0;T<c.length;T++){const x=c[T];a.mergedAttrs=Xi(a.mergedAttrs,x.hostAttrs),Tb(i,a,s,D,x),A0(D,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const P=x.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),E=!0),D++}!function Db(i,s,a){const d=s.directiveEnd,f=i.data,y=s.attrs,E=[];let D=null,T=null;for(let x=s.directiveStart;x<d;x++){const P=f[x],$=a?a.get(P):null,de=$?$.outputs:null;D=Mv(P.inputs,x,D,$?$.inputs:null),T=Mv(P.outputs,x,T,de);const Pe=null===D||null===y||vs(s)?null:Vf(D,x,y);E.push(Pe)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=D,s.outputs=T}(i,a,f)}function S0(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Jo(){return _t.lFrame.currentDirectiveIndex}();try{Gs(f);for(let E=c;E<d;E++){const D=i.data[E],T=s[E];rs(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Lf(D,T)}}finally{Gs(-1),rs(y)}}function Lf(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Rv(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function A0(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;jr(s)&&(a[""]=i)}}function Tb(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Hs(d.type)),y=new ss(f,jr(d),No);i.blueprint[c]=y,a[c]=y,function Cb(i,s,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function Nv(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,c,f)}}(i,s,c,Hd(i,a,d.hostVars,Pt),d)}function Gi(i,s,a,c,d,f){const y=ii(i,s);!function ll(i,s,a,c,d,f,y){if(null==f)i.removeAttribute(s,d,a);else{const E=null==y?ge(f):y(f,c||"",d);i.setAttribute(s,d,E,a)}}(s[It],y,f,i.value,a,c,d)}function Ab(i,s,a,c,d,f){const y=f[s];if(null!==y)for(let E=0;E<y.length;)M0(c,a,y[E++],y[E++],y[E++])}function M0(i,s,a,c,d){const f=An(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{An(f)}}function Vf(i,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let E=0;E<y.length;E+=2)if(y[E]===s){c.push(f,y[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function zd(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function x0(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];wa(a[c]),y.contentQueries(2,s[f],f)}}}function Mg(i,s){return i[nu]?i[oc][nr]=s:i[nu]=s,i[oc]=s,s}function Ov(i,s,a){wa(0);const c=An(null);try{s(i,a)}finally{An(c)}}function N0(i){return i[Tr]||(i[Tr]=[])}function R0(i){return i.cleanup||(i.cleanup=[])}function O0(i,s){const a=i[Us],c=a?a.get(ol,null):null;c&&c.handleError(s)}function xg(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],E=a[f++];M0(i.data[y],s[y],c,E,d)}}function Gd(i,s){const a=Ar(s,i),c=a[Xe];!function xb(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[En];null!==d&&null===a[ts]&&(a[ts]=kd(d,a[Us])),Pv(c,a,a[Vn])}function Pv(i,s,a){kc(s);try{const c=i.viewQuery;null!==c&&Ov(1,c,a);const d=i.template;null!==d&&Tg(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&x0(i,s),i.staticViewQueries&&Ov(2,i.viewQuery,a);const f=i.components;null!==f&&function Nb(i,s){for(let a=0;a<s.length;a++)Gd(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[At]&=-5,Du()}}let P0=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=new _c(a,T=>{this.all.has(T)&&this.queue.set(T,f)},d);let E;this.all.add(y),y.notify();const D=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>new i}),i})();function Ng(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?f=E:1==f?d=He(d,E):2==f&&(c=He(c,E+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Wd(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(en(f)),sn(f)){for(let E=_r;E<f.length;E++){const D=f[E],T=D[Xe].firstChild;null!==T&&Wd(D[Xe],D,T,c)}f[Pi]!==f[En]&&c.push(f[Pi])}const y=a.type;if(8&y)Wd(i,s,a.child,c);else if(32&y){const E=Dw(a,s);let D;for(;D=E();)c.push(D)}else if(16&y){const E=Ao(s,a);if(Array.isArray(E))c.push(...E);else{const D=Id(s[Nn]);Wd(D[Xe],D,E,c,!0)}}a=d?a.projectionNext:a.next}return c}function Rg(i,s,a,c=!0){const d=s[_s].rendererFactory;d.begin&&d.begin();try{dl(i,s,i.template,a)}catch(y){throw c&&O0(s,y),y}finally{d.end&&d.end(),s[_s].effectManager?.flush()}}function dl(i,s,a,c){const d=s[At];if(256!=(256&d)){s[_s].effectManager?.flush(),kc(s);try{Ei(s),function Rc(i){return _t.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Tg(i,s,a,2,c);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&Nr(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Xo(s,T,0,null),Da(s,0)}if(function kb(i){for(let s=Pu(i);null!==s;s=Tw(s)){if(!s[cc])continue;const a=s[Is];for(let c=0;c<a.length;c++){yu(a[c])}}}(s),Fv(s,2),null!==i.contentQueries&&x0(i,s),y){const T=i.contentCheckHooks;null!==T&&Nr(s,T)}else{const T=i.contentHooks;null!==T&&Xo(s,T,1),Da(s,1)}!function Eb(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=m0(s,Es);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)Gs(~f);else{const y=f,E=a[++d],D=a[++d];Oc(E,y),c.runInContext(D,2,s[y])}}}finally{null===s[Es]&&y0(s,Es),Gs(-1)}}(i,s);const E=i.components;null!==E&&Og(s,E,0);const D=i.viewQuery;if(null!==D&&Ov(2,D,c),y){const T=i.viewCheckHooks;null!==T&&Nr(s,T)}else{const T=i.viewHooks;null!==T&&Xo(s,T,2),Da(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[At]&=-73,vu(s)}finally{Du()}}}function Fv(i,s){for(let a=Pu(i);null!==a;a=Tw(a))for(let c=_r;c<a.length;c++)F0(a[c],s)}function Fb(i,s,a){F0(Ar(s,i),a)}function F0(i,s){if(!function bc(i){return 128==(128&i[At])}(i))return;const a=i[Xe];if(80&i[At]&&0===s||1024&i[At]||2===s)dl(a,i,a.template,i[Vn]);else if(i[es]>0){Fv(i,1);const d=i[Xe].components;null!==d&&Og(i,d,1)}}function Og(i,s,a){for(let c=0;c<s.length;c++)Fb(i,s[c],a)}class Uf{get rootNodes(){const s=this._lView,a=s[Xe];return Wd(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(s){this._lView[Vn]=s}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[gn];if(sn(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Ky(s,c),Ts(a,c))}this._attachedToViewContainer=!1}Zy(this._lView[Xe],this._lView)}onDestroy(s){!function _u(i,s){if(256==(256&i[At]))throw new J(911,!1);null===i[Go]&&(i[Go]=[]),i[Go].push(s)}(this._lView,s)}markForCheck(){ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){Rg(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mw(i,s){ls(i,s,s[It],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=s}}class Lv extends Uf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Rg(s[Xe],s,s[Vn],!1)}checkNoChanges(){}get context(){return null}}class Vv extends _g{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Zt(s);return new Bf(a,this.ngModule)}}function L0(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Vb{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=X(c);const d=this.injector.get(s,Eg,c);return d!==Eg||a===Eg?d:this.parentInjector.get(s,a,c)}}class Bf extends a0{get inputs(){return L0(this.componentDef.inputs)}get outputs(){return L0(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Fh(i){return i.map(tc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof Vu?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Vb(s,f):s,E=y.get(yv,null);if(null===E)throw new J(407,!1);const x={rendererFactory:E,sanitizer:y.get(sl,null),effectManager:y.get(P0,null)},P=E.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",K=c?function Ff(i,s,a,c){const f=c.get(d0,!1)||a===yn.ShadowDom,y=i.selectRootElement(s,f);return function Ib(i){w0(i)}(y),y}(P,c,this.componentDef.encapsulation,y):Cd(P,$,function Lb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}($)),ze=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ut=Sg(0,null,null,1,0,null,null,null,null,null,null),me=ul(null,ut,null,ze,null,null,x,P,y,null,null);let Ct,Ht;kc(me);try{const zt=this.componentDef;let hi,Dp=null;zt.findHostDirectiveDefs?(hi=[],Dp=new Map,zt.findHostDirectiveDefs(zt,hi,Dp),hi.push(zt)):hi=[zt];const ty=function Ub(i,s){const a=i[Xe],c=Lt;return i[c]=s,cl(a,c,2,"#host",null)}(me,K),Cp=function Bb(i,s,a,c,d,f,y){const E=d[Xe];!function jb(i,s,a,c){for(const d of i)s.mergedAttrs=Xi(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Ng(s,s.mergedAttrs,!0),null!==a&&pf(c,a,s))}(c,i,s,y);let D=null;null!==s&&(D=kd(s,d[Us]));const T=f.rendererFactory.createRenderer(s,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const P=ul(d,kf(a),null,x,d[i.index],i,f,T,null,null,D);return E.firstCreatePass&&Rv(E,i,c.length-1),Mg(d,P),d[i.index]=P}(ty,K,zt,hi,me,x,P);Ht=Cc(ut,Lt),K&&function Hb(i,s,a,c){if(c)qn(i,a,["ng-version",vv.full]);else{const{attrs:d,classes:f}=function pa(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Ur(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&qn(i,a,d),f&&f.length>0&&Xy(i,a,f.join(" "))}}(P,zt,K,c),void 0!==a&&function V0(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(Ht,this.ngContentSelectors,a),Ct=function $b(i,s,a,c,d,f){const y=Mr(),E=d[Xe],D=ii(y,d);T0(E,d,y,a,null,c);for(let x=0;x<a.length;x++)Si(Zs(d,E,y.directiveStart+x,y),d);S0(E,d,y),D&&Si(D,d);const T=Zs(d,E,y.directiveStart+y.componentOffset,y);if(i[Vn]=d[Vn]=T,null!==f)for(const x of f)x(T,s);return Of(E,y,i),T}(Cp,zt,hi,Dp,me,[sN]),Pv(ut,me,null)}finally{Du()}return new Pg(this.componentType,Ct,Ld(Ht,me),me,Ht)}}class Pg extends cb{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Lv(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;xg(f[Xe],f,d,s,a),this.previousInputValues.set(s,a),ju(Ar(this._tNode.index,f))}}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function sN(){const i=Mr();_n(Ie()[Xe],i)}function kg(i){let s=function Uv(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(jr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new J(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Fg(i.inputs),y.inputTransforms=Fg(i.inputTransforms),y.declaredInputs=Fg(i.declaredInputs),y.outputs=Fg(i.outputs);const E=d.hostBindings;E&&qb(i,E);const D=d.viewQuery,T=d.contentQueries;if(D&&Gb(i,D),T&&Wb(i,T),$e(i.inputs,d.inputs),$e(i.declaredInputs,d.declaredInputs),$e(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),$e(y.inputTransforms,d.inputTransforms)),jr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const E=f[y];E&&E.ngInherit&&E(i),E===kg&&(a=!1)}}s=Object.getPrototypeOf(s)}!function zb(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Xi(d.hostAttrs,a=Xi(a,d.hostAttrs))}}(c)}function Fg(i){return i===Ln?{}:i===Ft?[]:i}function Gb(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function Wb(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function qb(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function Hv(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Vg(i){return!!Kd(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Kd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ui(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function zv(i,s,a,c){const d=Ie();return ui(d,ns(),s)&&(Yt(),Gi(vn(),d,i,s,a,c)),zv}function Gf(i,s,a,c,d,f,y,E){const D=Ie(),T=Yt(),x=i+Lt,P=T.firstCreatePass?function lT(i,s,a,c,d,f,y,E,D){const T=s.consts,x=cl(s,i,4,y||null,_i(T,E));b0(s,a,x,_i(T,D)),_n(s,x);const P=x.tView=Sg(2,x,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,T,D,s,a,c,d,f,y):T.data[x];wi(P,!1);const $=Z0(T,D,P,i);Ia()&&ka(T,D,$,P),Si($,D),Mg(D,D[x]=zd($,D,$,P)),qo(P)&&Pf(T,D,P),null!=y&&Sv(D,P,E)}let Z0=function Y0(i,s,a,c){return Eo(!0),s[It].createComment("")};function Hg(i){return function go(i,s){return i[s]}(function td(){return _t.lFrame.contextLView}(),Lt+i)}function On(i,s,a){const c=Ie();return ui(c,ns(),s)&&function to(i,s,a,c,d,f,y,E){const D=ii(s,a);let x,T=s.inputs;!E&&null!=T&&(x=T[c])?(xg(i,a,x,c,d),js(s)&&function Jx(i,s){const a=Ar(s,i);16&a[At]||(a[At]|=64)}(a,s.index)):3&s.type&&(c=function Qx(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,f.setProperty(D,c,d))}(Yt(),vn(),c,i,s,c[It],a,!1),On}function za(i,s,a,c,d){const y=d?"class":"style";xg(i,a,s.inputs[y],y,c)}function Ga(i,s,a,c){const d=Ie(),f=Yt(),y=Lt+i,E=d[It],D=f.firstCreatePass?function pl(i,s,a,c,d,f){const y=s.consts,D=cl(s,i,2,c,_i(y,d));return b0(s,a,D,_i(y,f)),null!==D.attrs&&Ng(D,D.attrs,!1),null!==D.mergedAttrs&&Ng(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,f,d,s,a,c):f.data[y],T=eI(f,d,D,E,s,i);d[y]=T;const x=qo(D);return wi(D,!0),pf(E,T,D),32!=(32&D.flags)&&Ia()&&ka(f,d,T,D),0===function Qo(){return _t.lFrame.elementDepthCount}()&&Si(T,d),function Eu(){_t.lFrame.elementDepthCount++}(),x&&(Pf(f,d,D),Of(f,D,d)),null!==c&&Sv(d,D),Ga}function Wf(){let i=Mr();Nc()?Ea():(i=i.parent,wi(i,!1));const s=i;(function Zh(i){return _t.skipHydrationRootTNode===i})(s)&&function xc(){_t.skipHydrationRootTNode=null}(),function _a(){_t.lFrame.elementDepthCount--}();const a=Yt();return a.firstCreatePass&&(_n(a,i),Wo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Uc(i){return 0!=(8&i.flags)}(s)&&za(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Li(i){return 0!=(16&i.flags)}(s)&&za(a,s,Ie(),s.stylesWithoutHost,!1),Wf}function X0(i,s,a,c){return Ga(i,s,a,c),Wf(),X0}let eI=(i,s,a,c,d,f)=>(Eo(!0),Cd(c,d,function Vc(){return _t.lFrame.currentNamespace}()));function zg(i,s,a){const c=Ie(),d=Yt(),f=i+Lt,y=d.firstCreatePass?function fT(i,s,a,c,d){const f=s.consts,y=_i(f,c),E=cl(s,i,8,"ng-container",y);return null!==y&&Ng(E,y,!0),b0(s,a,E,_i(f,d)),null!==s.queries&&s.queries.elementStart(s,E),E}(f,d,c,s,a):d.data[f];wi(y,!0);const E=pT(d,c,y,i);return c[f]=E,Ia()&&ka(d,c,E,y),Si(E,c),qo(y)&&(Pf(d,c,y),Of(d,y,c)),null!=a&&Sv(c,y),zg}function Gg(){let i=Mr();const s=Yt();return Nc()?Ea():(i=i.parent,wi(i,!1)),s.firstCreatePass&&(_n(s,i),Wo(i)&&s.queries.elementEnd(i)),Gg}let pT=(i,s,a,c)=>(Eo(!0),Gy(s[It],""));function nI(){return Ie()}function rI(i){return!!i&&"function"==typeof i.then}function gT(i){return!!i&&"function"==typeof i.subscribe}function iI(i,s,a,c){const d=Ie(),f=Yt(),y=Mr();return function e_(i,s,a,c,d,f,y){const E=qo(c),T=i.firstCreatePass&&R0(i),x=s[Vn],P=N0(s);let $=!0;if(3&c.type||y){const Pe=ii(c,s),ze=y?y(Pe):Pe,ut=P.length,me=y?Ht=>y(en(Ht[c.index])):c.index;let Ct=null;if(!y&&E&&(Ct=function Xv(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const E=s[Tr],D=d[f+2];return E.length>D?E[D]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=f,Ct.__ngLastListenerFn__=f,$=!1;else{f=Zn(c,s,x,f,!1);const Ht=a.listen(ze,d,f);P.push(f,Ht),T&&T.push(d,me,ut,ut+1)}}else f=Zn(c,s,x,f,!1);const K=c.outputs;let de;if($&&null!==K&&(de=K[d])){const Pe=de.length;if(Pe)for(let ze=0;ze<Pe;ze+=2){const zt=s[de[ze]][de[ze+1]].subscribe(f),hi=P.length;P.push(f,zt),T&&T.push(d,c.index,hi,-(hi+1))}}}(f,d,d[It],y,i,s,c),iI}function sI(i,s,a,c){try{return ri(6,s,a),!1!==a(c)}catch(d){return O0(i,d),!1}finally{ri(7,s,a)}}function Zn(i,s,a,c,d){return function f(y){if(y===Function)return c;ju(i.componentOffset>-1?Ar(i.index,s):s);let D=sI(s,a,c,y),T=f.__ngNextListenerFn__;for(;T;)D=sI(s,a,T,y)&&D,T=T.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function oI(i=1){return function Lc(i){return(_t.lFrame.contextLView=function id(i,s){for(;i>0;)s=s[zo],i--;return s}(i,_t.lFrame.contextLView))[Vn]}(i)}function eh(i,s){return i<<17|s<<2}function Oo(i){return i>>17&32767}function s_(i){return 2|i}function gl(i){return(131068&i)>>2}function Zg(i,s){return-131069&i|s<<2}function o_(i){return 1|i}function fI(i,s,a,c,d){const f=i[a+1],y=null===s;let E=c?Oo(f):gl(f),D=!1;for(;0!==E&&(!1===D||y);){const x=i[E+1];_T(i[E],s)&&(D=!0,i[E+1]=c?o_(x):s_(x)),E=c?Oo(x):gl(x)}D&&(i[a+1]=c?s_(f):o_(f))}function _T(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ss(i,s)>=0}function p_(i,s){return function so(i,s,a,c){const d=Ie(),f=Yt(),y=function Ii(i){const s=_t.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function nm(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[xr()],y=function tm(i,s){return s>=i.expandoStartIndex}(i,a);(function Zf(i,s){return 0!=(i.flags&(s?8:16))})(f,c)&&null===s&&!y&&(s=!1),s=function vI(i,s,a,c){const d=function _o(i){const s=_t.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Kf(a=rm(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=rm(d,i,s,a,c),null===f){let D=function wT(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==gl(c))return i[Oo(c)]}(i,s,c);void 0!==D&&Array.isArray(D)&&(D=rm(null,i,s,D[1],c),D=Kf(D,s.attrs,c),function _I(i,s,a,c){i[Oo(a?s.classBindings:s.styleBindings)]=c}(i,s,c,D))}else f=function rh(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=Kf(c,i[f].hostAttrs,a);return Kf(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function Qg(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,E=Oo(y),D=gl(y);i[c]=a;let x,T=!1;if(Array.isArray(a)?(x=a[1],(null===x||Ss(a,x)>0)&&(T=!0)):x=a,d)if(0!==D){const $=Oo(i[E+1]);i[c+1]=eh($,E),0!==$&&(i[$+1]=Zg(i[$+1],c)),i[E+1]=function i_(i,s){return 131071&i|s<<17}(i[E+1],c)}else i[c+1]=eh(E,0),0!==E&&(i[E+1]=Zg(i[E+1],c)),E=c;else i[c+1]=eh(D,0),0===E?E=c:i[D+1]=Zg(i[D+1],c),D=c;T&&(i[c+1]=s_(i[c+1])),fI(i,x,c,!0),fI(i,x,c,!1),function hI(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Ss(f,s)>=0&&(a[c+1]=o_(a[c+1]))}(s,x,i,c,f),y=eh(E,D),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}(f,i,y,c),s!==Pt&&ui(d,y,s)&&function wI(i,s,a,c,d,f,y,E){if(!(3&s.type))return;const D=i.data,T=D[E+1],x=function yT(i){return 1==(1&i)}(T)?II(D,s,a,d,gl(T),y):void 0;im(x)||(im(f)||function Kg(i){return 2==(2&i)}(T)&&(f=II(D,null,a,d,E,y)),function GC(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:ra.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ra.Important),i.setStyle(a,c,d,f))}}(c,y,Yo(xr(),a),d,f))}(f,f.data[xr()],d,d[It],i,d[y+1]=function bT(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=We(Fa(i)))),i}(s,a),c,y)}(i,s,null,!0),p_}function rm(i,s,a,c,d){let f=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(f=s[E],c=Kf(c,f.hostAttrs,d),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),c}function Kf(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),bi(i,y,!!a||s[++f]))}return void 0===i?null:i}function II(i,s,a,c,d,f){const y=null===s;let E;for(;d>0;){const D=i[d],T=Array.isArray(D),x=T?D[1]:D,P=null===x;let $=a[d+1];$===Pt&&($=P?Ft:void 0);let K=P?eo($,c):x===c?$:void 0;if(T&&!im(K)&&(K=eo(D,c)),im(K)&&(E=K,y))return E;const de=i[d+1];d=y?Oo(de):gl(de)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(E=eo(D,c))}return E}function im(i){return void 0!==i}function g_(i,s=""){const a=Ie(),c=Yt(),d=i+Lt,f=c.firstCreatePass?cl(c,d,1,s,null):c.data[d],y=m_(c,a,f,s,i);a[d]=y,Ia()&&ka(c,a,y,f),wi(f,!1)}let m_=(i,s,a,c,d)=>(Eo(!0),function hf(i,s){return i.createText(s)}(s[It],c));function v_(i){return sm("",i,""),v_}function sm(i,s,a){const c=Ie(),d=function Zd(i,s,a,c){return ui(i,ns(),a)?s+ge(a)+c:Pt}(c,i,s,a);return d!==Pt&&function no(i,s,a){const c=Yo(s,i);!function Sw(i,s,a){i.setValue(s,a)}(i[It],c,a)}(c,xr(),d),sm}const ml=void 0;var $T=["en",[["a","p"],["AM","PM"],ml],[["AM","PM"],ml,ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ml,"{1} 'at' {0}",ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jT(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let ih={};function om(i){const s=function M_(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=am(s);if(a)return a;const c=s.split("-")[0];if(a=am(c),a)return a;if("en"===c)return $T;throw new J(701,!1)}function A_(i){return om(i)[Tt.PluralCase]}function am(i){return i in ih||(ih[i]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[i]),ih[i]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Yf="en-US";let WT=Yf;function F_(i,s,a,c,d){if(i=Se(i),Array.isArray(i))for(let f=0;f<i.length;f++)F_(i[f],s,a,c,d);else{const f=Yt(),y=Ie();let E=Va(i)?i:Se(i.provide),D=lv(i);const T=Mr(),x=1048575&T.providerIndexes,P=T.directiveStart,$=T.providerIndexes>>20;if(Va(i)||!i.multi){const K=new ss(D,d,No),de=Jf(E,s,d?x:x+$,P);-1===de?(Ta(as(T,y),f,E),vm(f,i,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(K),y.push(K)):(a[de]=K,y[de]=K)}else{const K=Jf(E,s,x+$,P),de=Jf(E,s,x,x+$),ze=de>=0&&a[de];if(d&&!ze||!d&&!(K>=0&&a[K])){Ta(as(T,y),f,E);const ut=function FI(i,s,a,c,d){const f=new ss(i,a,No);return f.multi=[],f.index=s,f.componentProviders=0,_m(f,d,c&&!a),f}(d?V_:L_,a.length,d,c,D);!d&&ze&&(a[de].providerFactory=ut),vm(f,i,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ut),y.push(ut)}else vm(f,i,K>-1?K:de,_m(a[d?de:K],D,!d&&c));!d&&c&&ze&&a[de].componentProviders++}}}function vm(i,s,a,c){const d=Va(s),f=function e0(i){return!!i.useClass}(s);if(d||f){const D=(f?Se(s.useClass):s).prototype.ngOnDestroy;if(D){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,D]):T[x+1].push(c,D)}else T.push(a,D)}}}function _m(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Jf(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function L_(i,s,a,c){return Xf(this.multi,[])}function V_(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Zs(a,a[Xe],this.providerFactory.index,c);f=E.slice(0,y),Xf(d,f);for(let D=y;D<E.length;D++)f.push(E[D])}else f=[],Xf(d,f);return f}function Xf(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function LI(i,s=[]){return a=>{a.providersResolver=(c,d)=>function kI(i,s,a){const c=Yt();if(c.firstCreatePass){const d=jr(i);F_(a,c.data,c.blueprint,d,!0),F_(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class ca{}class VI{}function ep(i,s){return new U_(i,s??null,[])}class U_ extends ca{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const d=lr(s);this._bootstrapComponents=sa(d.bootstrap),this._r3Injector=bv(s,a,[{provide:ca,useValue:this},{provide:_g,useValue:this.componentFactoryResolver},...c],We(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class oh extends VI{constructor(s){super(),this.moduleType=s}create(s){return new U_(this.moduleType,s,[])}}class UI extends ca{constructor(s){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const a=new Ua([...s.providers,{provide:ca,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],s.parent||Rd(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function j_(i,s,a=null){return new UI({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let BI=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=_f(0,a.type),d=c.length>0?j_([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=jt({token:i,providedIn:"environment",factory:()=>new i(F(Vu))}),i})();function $_(i){i.getStandaloneInjector=s=>s.get(BI).getOrCreateStandaloneInjector(i)}function Q_(i){return s=>{setTimeout(i,void 0,s)}}const Wi=class bS extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const D=s;d=D.next?.bind(D),f=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(f=Q_(f),d&&(d=Q_(d)),y&&(y=Q_(y)));const E=super.subscribe({next:d,error:f,complete:y});return s instanceof L.w0&&s.add(E),E}};function TS(){return this._results[Symbol.iterator]()}class J_{get changes(){return this._changes||(this._changes=new Wi)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=J_.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=TS)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function Ci(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function xa(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fo=(()=>{class i{}return i.__NG_ELEMENT_ID__=JI,i})();const QI=Fo,Tm=class extends QI{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,c){const y=this._declarationTContainer.tView,E=ul(this._declarationLView,y,s,4096&this._declarationLView[At]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);E[fo]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[vr];return null!==T&&(E[vr]=T.createEmbeddedView(y)),Pv(y,E,s),new Uf(E)}};function JI(){return Gu(Mr(),Ie())}function Gu(i,s){return 4&i.type?new Tm(s,i,Ld(i,s)):null}let lh=(()=>{class i{}return i.__NG_ELEMENT_ID__=eE,i})();function eE(){return rD(Mr(),Ie())}const tE=lh,rp=class extends tE{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Ld(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const s=ba(this._hostTNode,this._hostLView);if(qs(s)){const a=si(s,this._hostLView),c=Di(s);return new Do(a[Xe].data[c+8],a)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=dh(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const E=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(E,d,false),E}createComponent(s,a,c,d,f){const y=s&&!function xu(i){return"function"==typeof i}(s);let E;if(y)E=a;else{const Pe=a||{};E=Pe.index,c=Pe.injector,d=Pe.projectableNodes,f=Pe.environmentInjector||Pe.ngModuleRef}const D=y?s:new Bf(Zt(s)),T=c||this.parentInjector;if(!f&&null==D.ngModule){const ze=(y?T:this.parentInjector).get(Vu,null);ze&&(f=ze)}Zt(D.componentType??{});const K=D.create(T,d,null,f);return this.insertImpl(K.hostView,E,false),K}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView,f=d[Xe];if(function Tc(i){return sn(i[gn])}(d)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const T=d[gn],x=new rp(T,T[yr],T[gn]);x.detach(x.indexOf(s))}}const y=this._adjustIndex(a),E=this._lContainer;if(function Wy(i,s,a,c){const d=_r+c,f=a.length;c>0&&(a[d-1][nr]=s),c<f-_r?(s[nr]=a[d],af(a,_r+c,s)):(a.push(s),s[nr]=null),s[gn]=a;const y=s[fo];null!==y&&a!==y&&function jC(i,s){const a=i[Is];s[Nn]!==s[gn][gn][Nn]&&(i[cc]=!0),null===a?i[Is]=[s]:a.push(s)}(y,s);const E=s[vr];null!==E&&E.insertView(i),s[At]|=128}(f,d,E,y),!c){const D=Xc(y,E),T=d[It],x=Jy(T,E[Pi]);null!==x&&function UC(i,s,a,c,d,f){c[En]=d,c[yr]=s,ls(i,c,a,1,d,f)}(f,E[yr],T,d,x,D)}return s.attachToViewContainerRef(),af(Mm(E),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=dh(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Ky(this._lContainer,a);c&&(Ts(Mm(this._lContainer),a),Zy(c[Xe],c))}detach(s){const a=this._adjustIndex(s,-1),c=Ky(this._lContainer,a);return c&&null!=Ts(Mm(this._lContainer),a)?new Uf(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function dh(i){return i[8]}function Mm(i){return i[8]||(i[8]=[])}function rD(i,s){let a;const c=s[i.index];return sn(c)?a=c:(a=zd(c,s,null,i),s[i.index]=a,Mg(s,a)),ip(a,s,i,c),new rp(a,i,s)}let ip=function xm(i,s,a,c){if(i[Pi])return;let d;d=8&a.type?en(c):function nE(i,s){const a=i[It],c=a.createComment(""),d=ii(s,i);return bd(a,Jy(a,d),c,function Tx(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[Pi]=d};class Nm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Nm(this.queryList)}setDirty(){this.queryList.setDirty()}}class rE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new rE(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ap(s,a).matches&&this.queries[a].setDirty()}}class hh{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Rm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Rm(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class fh{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new fh(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,sp(a,f)),this.matchTNodeWithReadOption(s,a,Cs(a,s,f,!1,!1))}else c===Fo?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Cs(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Af||d===lh||d===Fo&&4&a.type)this.addMatch(a.index,-2);else{const f=Cs(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function sp(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function iE(i,s,a,c){return-1===a?function El(i,s){return 11&i.type?Ld(i,s):4&i.type?Gu(i,s):null}(s,i):-2===a?function SS(i,s,a){return a===Af?Ld(s,i):a===Fo?Gu(s,i):a===lh?rD(s,i):void 0}(i,s,c):Zs(i,i[Xe],a,s)}function oD(i,s,a,c){const d=s[vr].queries[c];if(null===d.matches){const f=i.data,y=a.matches,E=[];for(let D=0;D<y.length;D+=2){const T=y[D];E.push(T<0?null:iE(s,f[T],y[D+1],a.metadata.read))}d.matches=E}return d.matches}function Om(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=oD(i,s,d,a);for(let E=0;E<f.length;E+=2){const D=f[E];if(D>0)c.push(y[E/2]);else{const T=f[E+1],x=s[-D];for(let P=_r;P<x.length;P++){const $=x[P];$[fo]===$[gn]&&Om($[Xe],$,T,c)}if(null!==x[Is]){const P=x[Is];for(let $=0;$<P.length;$++){const K=P[$];Om(K[Xe],K,T,c)}}}}}return c}function sE(i){const s=Ie(),a=Yt(),c=Pc();wa(c+1);const d=ap(a,c);if(i.dirty&&function Kh(i){return 4==(4&i[At])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Om(a,s,c,[]):oD(a,s,d,c);i.reset(f,fb),i.notifyOnChanges()}return!0}return!1}function Wu(i,s,a,c){const d=Yt();if(d.firstCreatePass){const f=Mr();(function oE(i,s,a){null===i.queries&&(i.queries=new Rm),i.queries.track(new fh(s,a))})(d,new hh(s,a,c),f.index),function Pn(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function op(i,s,a){const c=new J_(4==(4&a));(function D0(i,s,a,c){const d=N0(s);d.push(a),i.firstCreatePass&&R0(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[vr]&&(s[vr]=new rE),s[vr].queries.push(new Nm(c))}(d,Ie(),a)}function la(){return function Pm(i,s){return i[vr].queries[s].queryList}(Ie(),Pc())}function ap(i,s){return i.queries.getByIndex(s)}function ph(i,s){return Gu(i,s)}function wl(i){return!!lr(i)}const Um=new hn("Application Initializer");let hp=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=se(Um,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(rI(f))a.push(f);else if(gT(f)){const y=new Promise((E,D)=>{f.subscribe({complete:E,error:D})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),EE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const fp=new hn("LocaleId",{providedIn:"root",factory:()=>se(fp,st.Optional|st.SkipSelf)||function Bm(){return typeof $localize<"u"&&$localize.locale||Yf}()}),wD=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wE=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new H.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ID{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let jm=(()=>{class i{compileModuleSync(a){return new oh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=sa(lr(a).declarations).reduce((y,E)=>{const D=Zt(E);return D&&y.push(new Bf(D)),y},[]);return new ID(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mn=(()=>Promise.resolve(0))();function IE(i){typeof Zone>"u"?mn.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function $m(...i){}class li{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wi(!1),this.onMicrotaskEmpty=new Wi(!1),this.onStable=new Wi(!1),this.onError=new Wi(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ha(){let i=rn.requestAnimationFrame,s=rn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ka(i){const s=()=>{!function bD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ds(i),i.isCheckStableRunning=!0,pp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ds(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,E)=>{try{return Zr(i),a.invokeTask(d,f,y,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),gp(i)}},onInvoke:(a,c,d,f,y,E,D)=>{try{return Zr(i),a.invoke(d,f,y,E,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),gp(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,ds(i),pp(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!li.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(li.isInAngularZone())throw new J(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,_h,$m,$m);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const _h={};function pp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ds(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Zr(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gp(i){i._nesting--,pp(i)}class Hm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wi,this.onMicrotaskEmpty=new Wi,this.onStable=new Wi,this.onError=new Wi}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Eh=new hn("",{providedIn:"root",factory:mp});function mp(){const i=se(li);let s=!0;const a=new te.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new te.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{li.assertNotInAngularZone(),IE(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{li.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ae.T)(a,c.pipe((0,ke.B)()))}const DE=new hn(""),bl=new hn("");let bE,WS=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bE||(function CE(i){bE=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),IE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())IE(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(F(li),F(TD),F(bl))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})(),TD=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return bE?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),qu=null;const TE=new hn("AllowMultipleToken"),SE=new hn("PlatformDestroyListeners"),wh=new hn("appBootstrapListener");class Yr{constructor(s,a){this.name=s,this.token=a}}function Oe(i,s,a=[]){const c=`Platform: ${s}`,d=new hn(c);return(f=[])=>{let y=rt();if(!y||y.injector.get(TE,!1)){const E=[...a,...f,{provide:d,useValue:!0}];i?i(E):function Ih(i){if(qu&&!qu.get(TE,!1))throw new J(400,!1);(function Tl(){!function du(i){Kn=i}(()=>{throw new J(600,!1)})})(),qu=i;const s=i.get(dt);(function zm(i){i.get(n0,null)?.forEach(a=>a())})(i)}(function ao(i=[],s){return $u.create({name:s,providers:[{provide:cv,useValue:"platform"},{provide:SE,useValue:new Set([()=>qu=null])},...i]})}(E,c))}return function gr(i){const s=rt();if(!s)throw new J(401,!1);return s}()}}function rt(){return qu?.get(dt)??null}let dt=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function Ze(i="zone.js",s){return"noop"===i?new Hm:"zone.js"===i?new li(s):i}(c?.ngZone,function KS(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function B_(i,s,a){return new U_(i,s,a)}(a.moduleType,this.injector,function AE(i){return[{provide:li,useFactory:i},{provide:vf,multi:!0,useFactory:()=>{const s=se(YS,{optional:!0});return()=>s.initialize()}},{provide:xD,useFactory:ZS},{provide:Eh,useFactory:mp}]}(()=>d)),y=f.injector.get(ol,null);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:D=>{y.handleError(D)}});f.onDestroy(()=>{yp(this._modules,f),E.unsubscribe()})}),function ie(i,s,a){try{const c=a();return rI(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const E=f.injector.get(hp);return E.runInitializers(),E.donePromise.then(()=>(function qT(i){qt(i,"Expected localeId to be defined"),"string"==typeof i&&(WT=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(fp,Yf)||Yf),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=Me({},c);return function qS(i,s,a){const c=new oh(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(zn);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new J(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(SE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(F($u))},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Me(i,s){return Array.isArray(s)?s.reduce(Me,i):{...i,...s}}let zn=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(xD),this.zoneIsStable=se(Eh),this.componentTypes=[],this.components=[],this.isStable=se(wE).hasPendingTasks.pipe((0,Ge.w)(a=>a?(0,De.of)(!1):this.zoneIsStable),function re(i,s=be.y){return i=i??Fe,(0,z.e)((a,c)=>{let d,f=!0;a.subscribe((0,j.x)(c,y=>{const E=s(y);(f||!i(d,E))&&(f=!1,d=E,c.next(y))}))})}(),(0,ke.B)()),this._injector=se(Vu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof a0;if(!this._injector.get(hp).done)throw!d&&Vs(a),new J(405,!1);let y;y=d?a:this._injector.get(_g).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function SD(i){return i.isBoundToModule}(y)?void 0:this._injector.get(ca),T=y.create($u.NULL,[],c||y.selector,E),x=T.location.nativeElement,P=T.injector.get(DE,null);return P?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),yp(this.components,T),P?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;yp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(wh,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>yp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new J(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const xD=new hn("",{providedIn:"root",factory:()=>se(ol).handleError.bind(void 0)});function ZS(){const i=se(li),s=se(ol);return a=>i.runOutsideAngular(()=>s.handleError(a))}let YS=(()=>{class i{constructor(){this.zone=se(li),this.applicationRef=se(zn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function eR(){return!1}let ND=(()=>{class i{}return i.__NG_ELEMENT_ID__=Qn,i})();function Qn(i){return function gt(i,s,a){if(js(i)&&!a){const c=Ar(i.index,s);return new Uf(c,c)}return 47&i.type?new Uf(s[Nn],s):null}(Mr(),Ie(),16==(16&i))}class Ep{constructor(){}supports(s){return Vg(s)}create(s){return new eA(s)}}const Vo=(i,s)=>s;class eA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Vo}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Yu(c,d,f)?a:c,E=Yu(y,d,f),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const T=E-d,x=D-d;if(T!=x){for(let $=0;$<T;$++){const K=$<f.length?f[$]:f[$]=0,de=K+$;x<=de&&de<T&&(f[$]=K+1)}f[y.previousIndex]=x-T}}E!==D&&s(y,E,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Vg(s))throw new J(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],y=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,E),c=!0),a=a._next}else d=0,function Yb(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,E=>{y=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new wp(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new OD),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wp{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zu{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class OD{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Zu,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yu(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class ME{constructor(){}supports(s){return s instanceof Map||Kd(s)}create(){return new xE}}class xE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Kd(s)))throw new J(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new tA(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class tA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PD(){return new Ki([new Ep])}let Ki=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||PD()),deps:[[i,new jn,new wt]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new J(901,!1)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:PD}),i})();function bh(){return new Jm([new ME])}let Jm=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||bh()),deps:[[i,new jn,new wt]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new J(901,!1)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:bh}),i})();const kD=Oe(null,"core",[]);let Xm=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(F(zn))},i.\u0275mod=Ul({type:i}),i.\u0275inj=ks({}),i})();function Qr(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function oR(i){const s=Zt(i);if(!s)return null;const a=new Bf(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(pt,Te,k)=>{k.d(Te,{Z:()=>$e});var h=k(9058),L=k(4537),H=k(534),te=k(7879);class ae{constructor(He,Ne){this._delegate=He,this.firebase=Ne,(0,H._addComponent)(He,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(He,Ne=H._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(He);return!Se.isInitialized()&&"EXPLICIT"===(null===(ht=Se.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:Ne})}_removeServiceInstance(He,Ne=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance(Ne)}_addComponent(He){(0,H._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,H._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function be(){const We=function Ge(We){const He={},Ne={__esModule:!0,initializeApp:function _e(J,Z={}){const ge=H.initializeApp(J,Z);if((0,h.r3)(He,ge.name))return He[ge.name];const Ee=new We(ge,Ne);return He[ge.name]=Ee,Ee},app:Se,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function ve(J){const Z=J.name,ge=Z.replace("-compat","");if(H._registerComponent(J)&&"PUBLIC"===J.type){const Ee=(Fn=Se())=>{if("function"!=typeof Fn[ge])throw ke.create("invalid-app-argument",{appName:Z});return Fn[ge]()};void 0!==J.serviceProps&&(0,h.ZB)(Ee,J.serviceProps),Ne[ge]=Ee,We.prototype[ge]=function(...Fn){return this._getService.bind(this,Z).apply(this,J.multipleInstances?Fn:[])}}return"PUBLIC"===J.type?Ne[ge]:null},removeApp:function ht(J){delete He[J]},useAsService:function Ae(J,Z){return"serverAuth"===Z?null:Z},modularAPIs:H}};function Se(J){if(!(0,h.r3)(He,J=J||H._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:J});return He[J]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function pe(){return Object.keys(He).map(J=>He[J])}}),Se.App=We,Ne}(ae);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function He(Ne){(0,h.ZB)(We,Ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),We}(),j=new te.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=z;!function ce(We){(0,H.registerVersion)("@firebase/app-compat","0.2.12",We)}()},534:(pt,Te,k)=>{k.r(Te),k.d(Te,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Uo,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>st,_addOrOverwriteComponent:()=>Cr,_apps:()=>yt,_clearComponents:()=>ln,_components:()=>Dn,_getProvider:()=>Jt,_registerComponent:()=>mi,_removeServiceInstance:()=>Qi,deleteApp:()=>br,getApp:()=>or,getApps:()=>Lr,initializeApp:()=>gs,onLog:()=>Wn,registerVersion:()=>Vr,setLogLevel:()=>Ji});var h=k(5861),L=k(4537),H=k(7879),te=k(9058);const ae=(le,Y)=>Y.some(Re=>le instanceof Re);let De,ke;const z=new WeakMap,j=new WeakMap,re=new WeakMap,Fe=new WeakMap,ce=new WeakMap;let He={get(le,Y,Re){if(le instanceof IDBTransaction){if("done"===Y)return j.get(le);if("objectStoreNames"===Y)return le.objectStoreNames||re.get(le);if("store"===Y)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return _e(le[Y])},set:(le,Y,Re)=>(le[Y]=Re,!0),has:(le,Y)=>le instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in le};function Se(le){return"function"==typeof le?function ht(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...Y){return le.apply(pe(this),Y),_e(z.get(this))}:function(...Y){return _e(le.apply(pe(this),Y))}:function(Y,...Re){const nt=le.call(pe(this),Y,...Re);return re.set(nt,Y.sort?Y.sort():[Y]),_e(nt)}}(le):(le instanceof IDBTransaction&&function We(le){if(j.has(le))return;const Y=new Promise((Re,nt)=>{const vt=()=>{le.removeEventListener("complete",Nt),le.removeEventListener("error",Xt),le.removeEventListener("abort",Xt)},Nt=()=>{Re(),vt()},Xt=()=>{nt(le.error||new DOMException("AbortError","AbortError")),vt()};le.addEventListener("complete",Nt),le.addEventListener("error",Xt),le.addEventListener("abort",Xt)});j.set(le,Y)}(le),ae(le,function Ge(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,He):le)}function _e(le){if(le instanceof IDBRequest)return function $e(le){const Y=new Promise((Re,nt)=>{const vt=()=>{le.removeEventListener("success",Nt),le.removeEventListener("error",Xt)},Nt=()=>{Re(_e(le.result)),vt()},Xt=()=>{nt(le.error),vt()};le.addEventListener("success",Nt),le.addEventListener("error",Xt)});return Y.then(Re=>{Re instanceof IDBCursor&&z.set(Re,le)}).catch(()=>{}),ce.set(Y,le),Y}(le);if(Fe.has(le))return Fe.get(le);const Y=Se(le);return Y!==le&&(Fe.set(le,Y),ce.set(Y,le)),Y}const pe=le=>ce.get(le),J=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],ge=new Map;function Ee(le,Y){if(!(le instanceof IDBDatabase)||Y in le||"string"!=typeof Y)return;if(ge.get(Y))return ge.get(Y);const Re=Y.replace(/FromIndex$/,""),nt=Y!==Re,vt=Z.includes(Re);if(!(Re in(nt?IDBIndex:IDBObjectStore).prototype)||!vt&&!J.includes(Re))return;const Nt=function(){var Xt=(0,h.Z)(function*(qn,...Tn){const ys=this.transaction(qn,vt?"readwrite":"readonly");let Xi=ys.store;return nt&&(Xi=Xi.index(Tn.shift())),(yield Promise.all([Xi[Re](...Tn),vt&&ys.done]))[0]});return function(Tn){return Xt.apply(this,arguments)}}();return ge.set(Y,Nt),Nt}!function Ne(le){He=le(He)}(le=>({...le,get:(Y,Re,nt)=>Ee(Y,Re)||le.get(Y,Re,nt),has:(Y,Re)=>!!Ee(Y,Re)||le.has(Y,Re)}));class Fn{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function Dr(le){const Y=le.getComponent();return"VERSION"===Y?.type}(Re)){const nt=Re.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Re=>Re).join(" ")}}const ti="@firebase/app",ne=new H.Yd("@firebase/app"),Wt="[DEFAULT]",ct={[ti]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,Dn=new Map;function st(le,Y){try{le.container.addComponent(Y)}catch(Re){ne.debug(`Component ${Y.name} failed to register with FirebaseApp ${le.name}`,Re)}}function Cr(le,Y){le.container.addOrOverwriteComponent(Y)}function mi(le){const Y=le.name;if(Dn.has(Y))return ne.debug(`There were multiple attempts to register component ${Y}.`),!1;Dn.set(Y,le);for(const Re of yt.values())st(Re,le);return!0}function Jt(le,Y){const Re=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),le.container.getProvider(Y)}function Qi(le,Y,Re=Wt){Jt(le,Y).clearInstance(Re)}function ln(){Dn.clear()}const kt=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ya{constructor(Y,Re,nt){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}const Uo="9.22.2";function gs(le,Y={}){let Re=le;"object"!=typeof Y&&(Y={name:Y});const nt=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Y),vt=nt.name;if("string"!=typeof vt||!vt)throw kt.create("bad-app-name",{appName:String(vt)});if(Re||(Re=(0,te.aH)()),!Re)throw kt.create("no-options");const Nt=yt.get(vt);if(Nt){if((0,te.vZ)(Re,Nt.options)&&(0,te.vZ)(nt,Nt.config))return Nt;throw kt.create("duplicate-app",{appName:vt})}const Xt=new L.H0(vt);for(const Tn of Dn.values())Xt.addComponent(Tn);const qn=new Ya(Re,nt,Xt);return yt.set(vt,qn),qn}function or(le=Wt){const Y=yt.get(le);if(!Y&&le===Wt&&(0,te.aH)())return gs();if(!Y)throw kt.create("no-app",{appName:le});return Y}function Lr(){return Array.from(yt.values())}function br(le){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(le){const Y=le.name;yt.has(Y)&&(yt.delete(Y),yield Promise.all(le.container.getProviders().map(Re=>Re.delete())),le.isDeleted=!0)})).apply(this,arguments)}function Vr(le,Y,Re){var nt;let vt=null!==(nt=ct[le])&&void 0!==nt?nt:le;Re&&(vt+=`-${Re}`);const Nt=vt.match(/\s|\//),Xt=Y.match(/\s|\//);if(Nt||Xt){const qn=[`Unable to register library "${vt}" with version "${Y}":`];return Nt&&qn.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Nt&&Xt&&qn.push("and"),Xt&&qn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void ne.warn(qn.join(" "))}mi(new L.wA(`${vt}-version`,()=>({library:vt,version:Y}),"VERSION"))}function Wn(le,Y){if(null!==le&&"function"!=typeof le)throw kt.create("invalid-log-argument");(0,H.Am)(le,Y)}function Ji(le){(0,H.Ub)(le)}const yi="firebase-heartbeat-database",tr=1,V="firebase-heartbeat-store";let F=null;function G(){return F||(F=function ve(le,Y,{blocked:Re,upgrade:nt,blocking:vt,terminated:Nt}={}){const Xt=indexedDB.open(le,Y),qn=_e(Xt);return nt&&Xt.addEventListener("upgradeneeded",Tn=>{nt(_e(Xt.result),Tn.oldVersion,Tn.newVersion,_e(Xt.transaction),Tn)}),Re&&Xt.addEventListener("blocked",Tn=>Re(Tn.oldVersion,Tn.newVersion,Tn)),qn.then(Tn=>{Nt&&Tn.addEventListener("close",()=>Nt()),vt&&Tn.addEventListener("versionchange",ys=>vt(ys.oldVersion,ys.newVersion,ys))}).catch(()=>{}),qn}(yi,tr,{upgrade:(le,Y)=>{0===Y&&le.createObjectStore(V)}}).catch(le=>{throw kt.create("idb-open",{originalErrorMessage:le.message})})),F}function X(){return(X=(0,h.Z)(function*(le){try{return yield(yield G()).transaction(V).objectStore(V).get(Kt(le))}catch(Y){if(Y instanceof te.ZR)ne.warn(Y.message);else{const Re=kt.create("idb-get",{originalErrorMessage:Y?.message});ne.warn(Re.message)}}})).apply(this,arguments)}function Je(le,Y){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(le,Y){try{const nt=(yield G()).transaction(V,"readwrite");yield nt.objectStore(V).put(Y,Kt(le)),yield nt.done}catch(Re){if(Re instanceof te.ZR)ne.warn(Re.message);else{const nt=kt.create("idb-set",{originalErrorMessage:Re?.message});ne.warn(nt.message)}}})).apply(this,arguments)}function Kt(le){return`${le.name}!${le.options.appId}`}class bn{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Ln(Re),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var Y=this;return(0,h.Z)(function*(){const nt=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=xt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==vt&&!Y._heartbeatsCache.heartbeats.some(Nt=>Nt.date===vt))return Y._heartbeatsCache.heartbeats.push({date:vt,agent:nt}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Nt=>{const Xt=new Date(Nt.date).valueOf();return Date.now()-Xt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,h.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Re=xt(),{heartbeatsToSend:nt,unsentEntries:vt}=function yn(le,Y=1024){const Re=[];let nt=le.slice();for(const vt of le){const Nt=Re.find(Xt=>Xt.agent===vt.agent);if(Nt){if(Nt.dates.push(vt.date),Ft(Re)>Y){Nt.dates.pop();break}}else if(Re.push({agent:vt.agent,dates:[vt.date]}),Ft(Re)>Y){Re.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:nt}}(Y._heartbeatsCache.heartbeats),Nt=(0,te.L)(JSON.stringify({version:2,heartbeats:nt}));return Y._heartbeatsCache.lastSentHeartbeatDate=Re,vt.length>0?(Y._heartbeatsCache.heartbeats=vt,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Nt})()}}function xt(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,h.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function se(le){return X.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Re=this;return(0,h.Z)(function*(){var nt;if(yield Re._canUseIndexedDBPromise){const Nt=yield Re.read();return Je(Re.app,{lastSentHeartbeatDate:null!==(nt=Y.lastSentHeartbeatDate)&&void 0!==nt?nt:Nt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Re=this;return(0,h.Z)(function*(){var nt;if(yield Re._canUseIndexedDBPromise){const Nt=yield Re.read();return Je(Re.app,{lastSentHeartbeatDate:null!==(nt=Y.lastSentHeartbeatDate)&&void 0!==nt?nt:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Y.heartbeats]})}})()}}function Ft(le){return(0,te.L)(JSON.stringify({version:2,heartbeats:le})).length}!function ms(le){mi(new L.wA("platform-logger",Y=>new Fn(Y),"PRIVATE")),mi(new L.wA("heartbeat",Y=>new bn(Y),"PRIVATE")),Vr(ti,"0.9.12",le),Vr(ti,"0.9.12","esm2017"),Vr("fire-js","")}("")},4537:(pt,Te,k)=>{k.d(Te,{H0:()=>Ge,wA:()=>H});var h=k(5861),L=k(9058);class H{constructor(z,j,re){this.name=z,this.instanceFactory=j,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const te="[DEFAULT]";class ae{constructor(z,j){this.name=z,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const j=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(j)){const re=new L.BH;if(this.instancesDeferred.set(j,re),this.isInitialized(j)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:j});Fe&&re.resolve(Fe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(z){var j;const re=this.normalizeInstanceIdentifier(z?.identifier),Fe=null!==(j=z?.optional)&&void 0!==j&&j;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ce){if(Fe)return null;throw ce}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ke(be){return"EAGER"===be.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[j,re]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(j);try{const ce=this.getOrInitializeService({instanceIdentifier:Fe});re.resolve(ce)}catch{}}}}clearInstance(z=te){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,h.Z)(function*(){const j=Array.from(z.instances.values());yield Promise.all([...j.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...j.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=te){return this.instances.has(z)}getOptions(z=te){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:j={}}=z,re=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:re,options:j});for(const[ce,$e]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ce)&&$e.resolve(Fe);return Fe}onInit(z,j){var re;const Fe=this.normalizeInstanceIdentifier(j),ce=null!==(re=this.onInitCallbacks.get(Fe))&&void 0!==re?re:new Set;ce.add(z),this.onInitCallbacks.set(Fe,ce);const $e=this.instances.get(Fe);return $e&&z($e,Fe),()=>{ce.delete(z)}}invokeOnInitCallbacks(z,j){const re=this.onInitCallbacks.get(j);if(re)for(const Fe of re)try{Fe(z,j)}catch{}}getOrInitializeService({instanceIdentifier:z,options:j={}}){let re=this.instances.get(z);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(be=z,be===te?void 0:be),options:j}),this.instances.set(z,re),this.instancesOptions.set(z,j),this.invokeOnInitCallbacks(re,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,re)}catch{}var be;return re||null}normalizeInstanceIdentifier(z=te){return this.component?this.component.multipleInstances?z:te:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const j=this.getProvider(z.name);if(j.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);j.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const j=new ae(z,this);return this.providers.set(z,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(pt,Te,k)=>{k.d(Te,{Am:()=>be,Ub:()=>Ge,Yd:()=>ke,in:()=>L});const h=[];var L=(()=>((L=L||{})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L))();const H={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},te=L.INFO,ae={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},De=(z,j,...re)=>{if(j<z.logLevel)return;const Fe=(new Date).toISOString(),ce=ae[j];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ce](`[${Fe}]  ${z.name}:`,...re)};class ke{constructor(j){this.name=j,this._logLevel=te,this._logHandler=De,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in L))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?H[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...j),this._logHandler(this,L.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...j),this._logHandler(this,L.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,L.INFO,...j),this._logHandler(this,L.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,L.WARN,...j),this._logHandler(this,L.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...j),this._logHandler(this,L.ERROR,...j)}}function Ge(z){h.forEach(j=>{j.setLogLevel(z)})}function be(z,j){for(const re of h){let Fe=null;j&&j.level&&(Fe=H[j.level]),re.userLogHandler=null===z?null:(ce,$e,...We)=>{const He=We.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");$e>=(Fe??ce.logLevel)&&z({level:L[$e].toLowerCase(),message:He,args:We,type:ce.name})}}}},3182:(pt,Te,k)=>{k.d(Te,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=k(534);(0,h.registerVersion)("firebase","9.22.2","app")},7142:(pt,Te,k)=>{k.d(Te,{Z:()=>h.Z});var h=k(3106);h.Z.registerVersion("firebase","9.22.2","app-compat")},5861:(pt,Te,k)=>{function h(H,te,ae,De,ke,Ge,be){try{var z=H[Ge](be),j=z.value}catch(re){return void ae(re)}z.done?te(j):Promise.resolve(j).then(De,ke)}function L(H){return function(){var te=this,ae=arguments;return new Promise(function(De,ke){var Ge=H.apply(te,ae);function be(j){h(Ge,De,ke,be,z,"next",j)}function z(j){h(Ge,De,ke,be,z,"throw",j)}be(void 0)})}}k.d(Te,{Z:()=>L})},7582:(pt,Te,k)=>{function te(ne,he){var we={};for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&he.indexOf(xe)<0&&(we[xe]=ne[xe]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(xe=Object.getOwnPropertySymbols(ne);Le<xe.length;Le++)he.indexOf(xe[Le])<0&&Object.prototype.propertyIsEnumerable.call(ne,xe[Le])&&(we[xe[Le]]=ne[xe[Le]])}return we}function re(ne,he,we,xe){return new(we||(we=Promise))(function(Ue,qe){function tt(un){try{ft(xe.next(un))}catch(Qt){qe(Qt)}}function In(un){try{ft(xe.throw(un))}catch(Qt){qe(Qt)}}function ft(un){un.done?Ue(un.value):function Le(Ue){return Ue instanceof we?Ue:new we(function(qe){qe(Ue)})}(un.value).then(tt,In)}ft((xe=xe.apply(ne,he||[])).next())})}function _e(ne){return this instanceof _e?(this.v=ne,this):new _e(ne)}function pe(ne,he,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,xe=we.apply(ne,he||[]),Ue=[];return Le={},qe("next"),qe("throw"),qe("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function qe(pn){xe[pn]&&(Le[pn]=function(qt){return new Promise(function(St,sr){Ue.push([pn,qt,St,sr])>1||tt(pn,qt)})})}function tt(pn,qt){try{!function In(pn){pn.value instanceof _e?Promise.resolve(pn.value.v).then(ft,un):Qt(Ue[0][2],pn)}(xe[pn](qt))}catch(St){Qt(Ue[0][3],St)}}function ft(pn){tt("next",pn)}function un(pn){tt("throw",pn)}function Qt(pn,qt){pn(qt),Ue.shift(),Ue.length&&tt(Ue[0][0],Ue[0][1])}}function Ae(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,he=ne[Symbol.asyncIterator];return he?he.call(ne):(ne=function We(ne){var he="function"==typeof Symbol&&Symbol.iterator,we=he&&ne[he],xe=0;if(we)return we.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&xe>=ne.length&&(ne=void 0),{value:ne&&ne[xe++],done:!ne}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),we={},xe("next"),xe("throw"),xe("return"),we[Symbol.asyncIterator]=function(){return this},we);function xe(Ue){we[Ue]=ne[Ue]&&function(qe){return new Promise(function(tt,In){!function Le(Ue,qe,tt,In){Promise.resolve(In).then(function(ft){Ue({value:ft,done:tt})},qe)}(tt,In,(qe=ne[Ue](qe)).done,qe.value)})}}}k.d(Te,{FC:()=>pe,KL:()=>Ae,_T:()=>te,mG:()=>re,qq:()=>_e})}},pt=>{pt(pt.s=6293)}]);